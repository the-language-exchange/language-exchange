{"ast":null,"code":"import _defineProperty from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{Component}from'react';import{Form,Button,Alert}from'react-bootstrap';import{login}from'../services/auth';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',success:''};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;login(username,password).then(function(data){if(data.success){_this.setState({success:data.success,username:'',password:''});}else{// successfully logged in\n// update the state for the parent component\n_this.props.setUser(data);_this.props.history.push('/');}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"loginDiv\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"username\",children:\"Username: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"username\",value:this.state.username,onChange:this.handleChange,id:\"username\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{htmlFor:\"password\",children:\"Password: \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",value:this.state.password,onChange:this.handleChange,id:\"password\"})]}),this.state.success&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:this.state.success}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Login\"})]})]});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["C:/Users/themo/Documents/project/language-exchange/client/src/components/Login.js"],"names":["React","Component","Form","Button","Alert","login","Login","state","username","password","success","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","then","data","props","setUser","history","push"],"mappings":"07BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,KAAoC,iBAApC,CACA,OAASC,KAAT,KAAsB,kBAAtB,C,GAEqBC,CAAAA,K,uTACnBC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,OAAO,CAAE,EAHH,C,OAMRC,Y,CAAe,SAAAC,KAAK,CAAI,mBACEA,KAAK,CAACC,MADR,CACdC,IADc,eACdA,IADc,CACRC,KADQ,eACRA,KADQ,CAGtB,MAAKC,QAAL,oBACGF,IADH,CACUC,KADV,GAGD,C,OAEDE,Y,CAAe,SAAAL,KAAK,CAAI,CACtBA,KAAK,CAACM,cAAN,GADsB,gBAGS,MAAKX,KAHd,CAGdC,QAHc,aAGdA,QAHc,CAGJC,QAHI,aAGJA,QAHI,CAKtBJ,KAAK,CAACG,QAAD,CAAWC,QAAX,CAAL,CAA0BU,IAA1B,CAA+B,SAAAC,IAAI,CAAI,CACrC,GAAIA,IAAI,CAACV,OAAT,CAAkB,CAChB,MAAKM,QAAL,CAAc,CACZN,OAAO,CAAEU,IAAI,CAACV,OADF,CAEZF,QAAQ,CAAE,EAFE,CAGZC,QAAQ,CAAE,EAHE,CAAd,EAKD,CAND,IAMO,CACL;AACA;AACA,MAAKY,KAAL,CAAWC,OAAX,CAAmBF,IAAnB,EACA,MAAKC,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CACF,CAbD,EAcD,C,wEAEQ,CACP,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,6BADF,cAEE,MAAC,IAAD,EAAM,QAAQ,CAAE,KAAKP,YAArB,wBACE,MAAC,IAAD,CAAM,KAAN,yBACE,KAAC,IAAD,CAAM,KAAN,EAAY,OAAO,CAAC,UAApB,wBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,KAAKV,KAAL,CAAWC,QAHpB,CAIE,QAAQ,CAAE,KAAKG,YAJjB,CAKE,EAAE,CAAC,UALL,EAFF,GADF,cAWE,MAAC,IAAD,CAAM,KAAN,yBACE,KAAC,IAAD,CAAM,KAAN,EAAY,OAAO,CAAC,UAApB,wBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,KAAKJ,KAAL,CAAWE,QAHpB,CAIE,QAAQ,CAAE,KAAKE,YAJjB,CAKE,EAAE,CAAC,UALL,EAFF,GAXF,CAqBG,KAAKJ,KAAL,CAAWG,OAAX,eACC,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,UAAyB,KAAKH,KAAL,CAAWG,OAApC,EAtBJ,cAwBE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,mBAxBF,GAFF,GADF,CA+BD,C,mBApEgCT,S,SAAdK,K","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { login } from '../services/auth';\n\nexport default class Login extends Component {\n  state = {\n    username: '',\n    password: '',\n    success: ''\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    login(username, password).then(data => {\n      if (data.success) {\n        this.setState({\n          success: data.success,\n          username: '',\n          password: ''\n        });\n      } else {\n        // successfully logged in\n        // update the state for the parent component\n        this.props.setUser(data);\n        this.props.history.push('/');\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"loginDiv\">\n        <h2>Login</h2>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group>\n            <Form.Label htmlFor='username'>Username: </Form.Label>\n            <Form.Control\n              type='text'\n              name='username'\n              value={this.state.username}\n              onChange={this.handleChange}\n              id='username'\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Label htmlFor='password'>Password: </Form.Label>\n            <Form.Control\n              type='password'\n              name='password'\n              value={this.state.password}\n              onChange={this.handleChange}\n              id='password'\n            />\n          </Form.Group>\n          {this.state.success && (\n            <Alert variant='danger'>{this.state.success}</Alert>\n          )}\n          <Button type='submit'>Login</Button>\n        </Form>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}