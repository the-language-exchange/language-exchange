{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\themo\\\\Documents\\\\project\\\\language-exchange\\\\client\\\\src\\\\components\\\\Messages.js\";\nimport React, { Component } from 'react'; // import MessageForm from './MessageForm';\n\nimport axios from 'axios';\nimport MessageList from './MessageList';\nimport MessageCard from './MessageCard'; // import axios from 'axios';\n\nexport default class Messages extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clickedMessage: '',\n      messageID: null,\n      allMessages: null,\n      showMessage: false\n    };\n\n    this.getData = () => {\n      axios.get('/api/messages').then(response => {\n        console.log(response.data, \"  messages of all\"); // put them into the state\n\n        this.setState({\n          allMessages: response.data\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.getMessage = messageID => {\n      const filtered = this.state.allMessages.filter(message => message._doc._id === messageID);\n      console.log(filtered, ' msg filtered');\n      this.setState({\n        messageID,\n        clickedMessage: filtered[0]._doc.message\n      });\n    };\n\n    this.replyMessage = message => {\n      this.setState(prevState => ({\n        clickedMessage: [...prevState.clickedMessage, message]\n      }));\n    };\n\n    this.toggleMessage = () => {\n      this.setState(prevState => ({\n        showMessage: !prevState.showMessage\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    if (!this.state.allMessages) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 40\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messagesInbox\",\n      children: [/*#__PURE__*/_jsxDEV(MessageList, {\n        allMessages: this.state.allMessages,\n        getMessage: this.getMessage,\n        getData: this.getData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(MessageCard, {\n        replyMessage: this.replyMessage,\n        messageID: this.state.messageID,\n        clickedMessage: this.state.clickedMessage,\n        allMessages: this.state.allMessages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/themo/Documents/project/language-exchange/client/src/components/Messages.js"],"names":["React","Component","axios","MessageList","MessageCard","Messages","state","clickedMessage","messageID","allMessages","showMessage","getData","get","then","response","console","log","data","setState","catch","err","getMessage","filtered","filter","message","_doc","_id","replyMessage","prevState","toggleMessage","componentDidMount","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB,C,CAEA;;AAEA,eAAe,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC9CK,KAD8C,GACtC;AACNC,MAAAA,cAAc,EAAG,EADX;AAENC,MAAAA,SAAS,EAAC,IAFJ;AAGNC,MAAAA,WAAW,EAAE,IAHP;AAINC,MAAAA,WAAW,EAAE;AAJP,KADsC;;AAAA,SAS9CC,OAT8C,GASpC,MAAM;AACdT,MAAAA,KAAK,CAACU,GAAN,CAAU,eAAV,EACGC,IADH,CACQC,QAAQ,IAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EAA4B,mBAA5B,EADgB,CAEhB;;AACA,aAAKC,QAAL,CAAc;AACZT,UAAAA,WAAW,EAAEK,QAAQ,CAACG;AADV,SAAd;AAGD,OAPH,EAQGE,KARH,CAQSC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CARhB;AASD,KAnB6C;;AAAA,SAqB9CC,UArB8C,GAqBhCb,SAAD,IAAe;AAC1B,YAAMc,QAAQ,GAAG,KAAKhB,KAAL,CAAWG,WAAX,CAAuBc,MAAvB,CAA8BC,OAAO,IAAIA,OAAO,CAACC,IAAR,CAAaC,GAAb,KAAqBlB,SAA9D,CAAjB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAZ,EAAsB,eAAtB;AACA,WAAKJ,QAAL,CAAc;AAACV,QAAAA,SAAD;AAAYD,QAAAA,cAAc,EAACe,QAAQ,CAAC,CAAD,CAAR,CAAYG,IAAZ,CAAiBD;AAA5C,OAAd;AACD,KAzB6C;;AAAA,SA2B9CG,YA3B8C,GA2B9BH,OAAD,IAAa;AAC1B,WAAKN,QAAL,CAAcU,SAAS,KAAK;AAC1BrB,QAAAA,cAAc,EAAE,CAAC,GAAGqB,SAAS,CAACrB,cAAd,EAA8BiB,OAA9B;AADU,OAAL,CAAvB;AAGD,KA/B6C;;AAAA,SAwC9CK,aAxC8C,GAwC9B,MAAM;AACpB,WAAKX,QAAL,CAAeU,SAAD,KAAgB;AAC5BlB,QAAAA,WAAW,EAAE,CAACkB,SAAS,CAAClB;AADI,OAAhB,CAAd;AAGD,KA5C6C;AAAA;;AAiC9CoB,EAAAA,iBAAiB,GAAG;AAClB,SAAKnB,OAAL;AACD;;AAaDoB,EAAAA,MAAM,GAAG;AACP,QAAG,CAAC,KAAKzB,KAAL,CAAWG,WAAf,EAA4B,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAC5B,wBACA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACC,QAAC,WAAD;AACA,QAAA,WAAW,EAAI,KAAKH,KAAL,CAAWG,WAD1B;AAEA,QAAA,UAAU,EAAI,KAAKY,UAFnB;AAGA,QAAA,OAAO,EAAI,KAAKV;AAHhB;AAAA;AAAA;AAAA;AAAA,cADD,eAMC,QAAC,WAAD;AACA,QAAA,YAAY,EAAI,KAAKgB,YADrB;AAEA,QAAA,SAAS,EAAI,KAAKrB,KAAL,CAAWE,SAFxB;AAGA,QAAA,cAAc,EAAI,KAAKF,KAAL,CAAWC,cAH7B;AAIA,QAAA,WAAW,EAAG,KAAKD,KAAL,CAAWG;AAJzB;AAAA;AAAA;AAAA;AAAA,cAND;AAAA;AAAA;AAAA;AAAA;AAAA,YADA;AAeD;;AAjE6C","sourcesContent":["import React, { Component } from 'react';\n// import MessageForm from './MessageForm';\nimport axios from 'axios';\nimport MessageList from './MessageList'\nimport MessageCard from './MessageCard'\n\n// import axios from 'axios';\n\nexport default class Messages extends Component {\n  state = {\n    clickedMessage : '',\n    messageID:null,\n    allMessages: null,\n    showMessage: false\n  }\n\n\n  getData = () => {\n    axios.get('/api/messages')\n      .then(response => {\n        console.log(response.data,  \"  messages of all\");\n        // put them into the state\n        this.setState({\n          allMessages: response.data\n        })\n      })\n      .catch(err => console.log(err))\n  }\n\n  getMessage = (messageID) => {\n    const filtered = this.state.allMessages.filter(message => message._doc._id === messageID)\n    console.log(filtered, ' msg filtered')\n    this.setState({messageID, clickedMessage:filtered[0]._doc.message})\n  }\n\n  replyMessage = (message) => {\n    this.setState(prevState => ({\n      clickedMessage: [...prevState.clickedMessage, message]\n    }))\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n\n  \n\n  toggleMessage = () => {\n    this.setState((prevState) => ({\n      showMessage: !prevState.showMessage\n    }))\n  }\n\n\n\n  render() {\n    if(!this.state.allMessages) return <p>Loading...</p>\n    return (\n    <div className='messagesInbox'>\n     <MessageList \n     allMessages = {this.state.allMessages} \n     getMessage = {this.getMessage}\n     getData = {this.getData}\n     />\n     <MessageCard \n     replyMessage = {this.replyMessage} \n     messageID = {this.state.messageID}\n     clickedMessage = {this.state.clickedMessage}\n     allMessages ={this.state.allMessages}\n    />\n    </div>      \n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}