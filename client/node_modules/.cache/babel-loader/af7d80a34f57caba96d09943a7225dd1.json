{"ast":null,"code":"import _slicedToArray from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/themo/Documents/project/language-exchange/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import AppBar from'@material-ui/core/AppBar';import CssBaseline from'@material-ui/core/CssBaseline';import Divider from'@material-ui/core/Divider';import Drawer from'@material-ui/core/Drawer';import Hidden from'@material-ui/core/Hidden';import IconButton from'@material-ui/core/IconButton';import InboxIcon from'@material-ui/icons/MoveToInbox';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import MailIcon from'@material-ui/icons/Mail';import MenuIcon from'@material-ui/icons/Menu';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import{makeStyles,useTheme}from'@material-ui/core/styles';import SearchField from'./SearchField';import LanguageField from'./LanguageField';import CountryField from'./CountryField';import AgeSlider from'./AgeSlider';import axios from'axios';import _ from'lodash';import LanguageSideBar from'./LanguageSideBar';import CountrySideBar from'./CountrySideBar';var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{display:'flex'},drawer:_defineProperty({},theme.breakpoints.up('sm'),{width:drawerWidth,flexShrink:0}),appBar:_defineProperty({},theme.breakpoints.up('sm'),{width:\"calc(100% - \".concat(drawerWidth,\"px)\"),marginLeft:drawerWidth}),menuButton:_defineProperty({marginRight:theme.spacing(2)},theme.breakpoints.up('sm'),{display:'none'}),// necessary for content to be below app bar\ntoolbar:theme.mixins.toolbar,drawerPaper:{width:drawerWidth},content:{flexGrow:1,padding:theme.spacing(3)}};});function SideBar(props){var window=props.window;var classes=useStyles();var theme=useTheme();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),mobileOpen=_React$useState2[0],setMobileOpen=_React$useState2[1];var _React$useState3=React.useState([18,37]),_React$useState4=_slicedToArray(_React$useState3,2),age=_React$useState4[0],setAge=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),country=_React$useState6[0],setCountry=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),language=_React$useState8[0],setLanguage=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),skillInterest=_React$useState10[0],setSkillInterest=_React$useState10[1];var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var handleChange=function handleChange(){//skilss, interest, \naxios.get('api/users').then(function(response){var filtered=response.data.filter(function(obj){console.log(skillInterest);return obj.age>=age[0]&&obj.age<=age[1]&&(language.length===0?true:_.intersection(obj.languagesSpoken,language).length!==0)&&(obj.skills.join(' ').toLowerCase().includes(skillInterest.toLowerCase())||obj.interests.join(' ').toLowerCase().includes(skillInterest.toLowerCase()))&&(country.length===0?true:country.includes(obj.country));});props.updateData(filtered);}).catch(function(err){return console.log(err);});};var drawer=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.toolbar}),/*#__PURE__*/_jsx(Typography,{paragraph:true,children:\"Find an Exchange Partner\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(SearchField,{handleChange:handleChange,skillInterest:skillInterest,setSkillInterest:setSkillInterest}),/*#__PURE__*/_jsx(LanguageSideBar,{handleChange:handleChange,language:language,setLanguage:setLanguage}),/*#__PURE__*/_jsx(CountrySideBar,{handleChange:handleChange,setCountry:setCountry,country:country}),/*#__PURE__*/_jsx(AgeSlider,{age:age,setAge:setAge,handleChange:handleChange})]})]});var container=window!==undefined?function(){return window().document.body;}:undefined;return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",className:classes.appBar}),/*#__PURE__*/_jsxs(\"nav\",{className:classes.drawer,\"aria-label\":\"mailbox folders\",children:[/*#__PURE__*/_jsx(Hidden,{smUp:true,implementation:\"css\",children:/*#__PURE__*/_jsx(Drawer,{container:container,variant:\"permanent\",open:mobileOpen,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n},children:drawer})}),/*#__PURE__*/_jsx(Hidden,{xsDown:true,implementation:\"css\",children:/*#__PURE__*/_jsx(Drawer,{classes:{paper:classes.drawerPaper},variant:\"permanent\",open:true,children:drawer})})]})]});}export default SideBar;","map":{"version":3,"sources":["C:/Users/themo/Documents/project/language-exchange/client/src/components/SideBar/SideBar.js"],"names":["React","AppBar","CssBaseline","Divider","Drawer","Hidden","IconButton","InboxIcon","List","ListItem","ListItemIcon","ListItemText","MailIcon","MenuIcon","Toolbar","Typography","makeStyles","useTheme","SearchField","LanguageField","CountryField","AgeSlider","axios","_","LanguageSideBar","CountrySideBar","drawerWidth","useStyles","theme","root","display","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","content","flexGrow","padding","SideBar","props","window","classes","useState","mobileOpen","setMobileOpen","age","setAge","country","setCountry","language","setLanguage","skillInterest","setSkillInterest","handleDrawerToggle","handleChange","get","then","response","filtered","data","filter","obj","console","log","length","intersection","languagesSpoken","skills","join","toLowerCase","includes","interests","updateData","catch","err","container","undefined","document","body","paper","keepMounted"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport SearchField from './SearchField';\nimport LanguageField from './LanguageField';\nimport CountryField from './CountryField'\nimport AgeSlider from './AgeSlider';\nimport axios from 'axios'\nimport _ from 'lodash'\nimport LanguageSideBar from './LanguageSideBar'\nimport CountrySideBar from './CountrySideBar';\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction SideBar(props) {\n  const { window } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const [age, setAge] = React.useState([18,37])\n  const [country, setCountry] = React.useState([])\n  const [language, setLanguage] = React.useState([])\n  const [skillInterest, setSkillInterest] = React.useState('')\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleChange = () => {     //skilss, interest, \n    axios.get('api/users')\n    .then(response => {\n      const filtered = response.data.filter(obj =>{\n        console.log(skillInterest)\n        return(\n          (obj.age >= age[0] && obj.age <= age[1]) && \n          (language.length === 0 ? true: _.intersection(obj.languagesSpoken, language).length !== 0 )\n          && (obj.skills.join(' ').toLowerCase().includes(skillInterest.toLowerCase())   \n            || obj.interests.join(' ').toLowerCase().includes(skillInterest.toLowerCase()) \n          ) && (country.length === 0 ? true: country.includes(obj.country))\n        )\n      } )\n     props.updateData(filtered)\n    })\n    .catch(err => console.log(err))\n  }\n \n  \n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n     <Typography paragraph>Find an Exchange Partner</Typography>\n      <Divider />\n      <List>\n        \n        <SearchField handleChange = {handleChange} skillInterest = {skillInterest} setSkillInterest = {setSkillInterest}/>\n        <LanguageSideBar handleChange = {handleChange} language = {language} setLanguage = {setLanguage} />\n        <CountrySideBar handleChange = {handleChange} setCountry = {setCountry} country = {country}/>\n        <AgeSlider age = {age} setAge = {setAge} handleChange = {handleChange} />\n      \n      </List>\n     \n    </div>\n  );\n\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n      \n\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            container={container}\n            variant=\"permanent\"\n            \n            open={mobileOpen}\n           \n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n      \n    </div>\n  );\n}\n\nSideBar.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  window: PropTypes.func,\n};\n\nexport default SideBar;"]},"metadata":{},"sourceType":"module"}