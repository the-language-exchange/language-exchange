{"ast":null,"code":"/*!\r\n * Bootstrap-select v1.13.18 (https://developer.snapappointments.com/bootstrap-select)\r\n *\r\n * Copyright 2012-2020 SnapAppointments, LLC\r\n * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)\r\n */\n(function (root, factory) {\n  if (root === undefined && window !== undefined) root = window;\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return factory(a0);\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    factory(root[\"jQuery\"]);\n  }\n})(this, function (jQuery) {\n  (function ($) {\n    'use strict';\n\n    var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n    var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];\n    var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n    var DefaultWhitelist = {\n      // Global attributes allowed on any supplied element below.\n      '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\n      a: ['target', 'href', 'title', 'rel'],\n      area: [],\n      b: [],\n      br: [],\n      col: [],\n      code: [],\n      div: [],\n      em: [],\n      hr: [],\n      h1: [],\n      h2: [],\n      h3: [],\n      h4: [],\n      h5: [],\n      h6: [],\n      i: [],\n      img: ['src', 'alt', 'title', 'width', 'height'],\n      li: [],\n      ol: [],\n      p: [],\n      pre: [],\n      s: [],\n      small: [],\n      span: [],\n      sub: [],\n      sup: [],\n      strong: [],\n      u: [],\n      ul: []\n    };\n    /**\r\n     * A pattern that recognizes a commonly useful subset of URLs that are safe.\r\n     *\r\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n     */\n\n    var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n    /**\r\n     * A pattern that matches safe data URLs. Only matches image, video and audio types.\r\n     *\r\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n     */\n\n    var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\n\n    function allowedAttribute(attr, allowedAttributeList) {\n      var attrName = attr.nodeName.toLowerCase();\n\n      if ($.inArray(attrName, allowedAttributeList) !== -1) {\n        if ($.inArray(attrName, uriAttrs) !== -1) {\n          return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));\n        }\n\n        return true;\n      }\n\n      var regExp = $(allowedAttributeList).filter(function (index, value) {\n        return value instanceof RegExp;\n      }); // Check if a regular expression validates the attribute.\n\n      for (var i = 0, l = regExp.length; i < l; i++) {\n        if (attrName.match(regExp[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    function sanitizeHtml(unsafeElements, whiteList, sanitizeFn) {\n      if (sanitizeFn && typeof sanitizeFn === 'function') {\n        return sanitizeFn(unsafeElements);\n      }\n\n      var whitelistKeys = Object.keys(whiteList);\n\n      for (var i = 0, len = unsafeElements.length; i < len; i++) {\n        var elements = unsafeElements[i].querySelectorAll('*');\n\n        for (var j = 0, len2 = elements.length; j < len2; j++) {\n          var el = elements[j];\n          var elName = el.nodeName.toLowerCase();\n\n          if (whitelistKeys.indexOf(elName) === -1) {\n            el.parentNode.removeChild(el);\n            continue;\n          }\n\n          var attributeList = [].slice.call(el.attributes);\n          var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n\n          for (var k = 0, len3 = attributeList.length; k < len3; k++) {\n            var attr = attributeList[k];\n\n            if (!allowedAttribute(attr, whitelistedAttributes)) {\n              el.removeAttribute(attr.nodeName);\n            }\n          }\n        }\n      }\n    } // Polyfill for browsers with no classList support\n    // Remove in v2\n\n\n    if (!('classList' in document.createElement('_'))) {\n      (function (view) {\n        if (!('Element' in view)) return;\n\n        var classListProp = 'classList',\n            protoProp = 'prototype',\n            elemCtrProto = view.Element[protoProp],\n            objCtr = Object,\n            classListGetter = function () {\n          var $elem = $(this);\n          return {\n            add: function (classes) {\n              classes = Array.prototype.slice.call(arguments).join(' ');\n              return $elem.addClass(classes);\n            },\n            remove: function (classes) {\n              classes = Array.prototype.slice.call(arguments).join(' ');\n              return $elem.removeClass(classes);\n            },\n            toggle: function (classes, force) {\n              return $elem.toggleClass(classes, force);\n            },\n            contains: function (classes) {\n              return $elem.hasClass(classes);\n            }\n          };\n        };\n\n        if (objCtr.defineProperty) {\n          var classListPropDesc = {\n            get: classListGetter,\n            enumerable: true,\n            configurable: true\n          };\n\n          try {\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          } catch (ex) {\n            // IE 8 doesn't support enumerable:true\n            // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n            // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n            if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n              classListPropDesc.enumerable = false;\n              objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n            }\n          }\n        } else if (objCtr[protoProp].__defineGetter__) {\n          elemCtrProto.__defineGetter__(classListProp, classListGetter);\n        }\n      })(window);\n    }\n\n    var testElement = document.createElement('_');\n    testElement.classList.add('c1', 'c2');\n\n    if (!testElement.classList.contains('c2')) {\n      var _add = DOMTokenList.prototype.add,\n          _remove = DOMTokenList.prototype.remove;\n\n      DOMTokenList.prototype.add = function () {\n        Array.prototype.forEach.call(arguments, _add.bind(this));\n      };\n\n      DOMTokenList.prototype.remove = function () {\n        Array.prototype.forEach.call(arguments, _remove.bind(this));\n      };\n    }\n\n    testElement.classList.toggle('c3', false); // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n    // support the second argument.\n\n    if (testElement.classList.contains('c3')) {\n      var _toggle = DOMTokenList.prototype.toggle;\n\n      DOMTokenList.prototype.toggle = function (token, force) {\n        if (1 in arguments && !this.contains(token) === !force) {\n          return force;\n        } else {\n          return _toggle.call(this, token);\n        }\n      };\n    }\n\n    testElement = null; // shallow array comparison\n\n    function isEqual(array1, array2) {\n      return array1.length === array2.length && array1.every(function (element, index) {\n        return element === array2[index];\n      });\n    }\n\n    ; // <editor-fold desc=\"Shims\">\n\n    if (!String.prototype.startsWith) {\n      (function () {\n        'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\n        var defineProperty = function () {\n          // IE 8 only supports `Object.defineProperty` on DOM elements\n          try {\n            var object = {};\n            var $defineProperty = Object.defineProperty;\n            var result = $defineProperty(object, object, object) && $defineProperty;\n          } catch (error) {}\n\n          return result;\n        }();\n\n        var toString = {}.toString;\n\n        var startsWith = function (search) {\n          if (this == null) {\n            throw new TypeError();\n          }\n\n          var string = String(this);\n\n          if (search && toString.call(search) == '[object RegExp]') {\n            throw new TypeError();\n          }\n\n          var stringLength = string.length;\n          var searchString = String(search);\n          var searchLength = searchString.length;\n          var position = arguments.length > 1 ? arguments[1] : undefined; // `ToInteger`\n\n          var pos = position ? Number(position) : 0;\n\n          if (pos != pos) {\n            // better `isNaN`\n            pos = 0;\n          }\n\n          var start = Math.min(Math.max(pos, 0), stringLength); // Avoid the `indexOf` call if no match is possible\n\n          if (searchLength + start > stringLength) {\n            return false;\n          }\n\n          var index = -1;\n\n          while (++index < searchLength) {\n            if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n              return false;\n            }\n          }\n\n          return true;\n        };\n\n        if (defineProperty) {\n          defineProperty(String.prototype, 'startsWith', {\n            'value': startsWith,\n            'configurable': true,\n            'writable': true\n          });\n        } else {\n          String.prototype.startsWith = startsWith;\n        }\n      })();\n    }\n\n    if (!Object.keys) {\n      Object.keys = function (o, // object\n      k, // key\n      r // result array\n      ) {\n        // initialize object and result\n        r = []; // iterate over object keys\n\n        for (k in o) {\n          // fill result array with non-prototypical keys\n          r.hasOwnProperty.call(o, k) && r.push(k);\n        } // return result\n\n\n        return r;\n      };\n    }\n\n    if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\n      Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\n        get: function () {\n          return this.querySelectorAll(':checked');\n        }\n      });\n    }\n\n    function getSelectedOptions(select, ignoreDisabled) {\n      var selectedOptions = select.selectedOptions,\n          options = [],\n          opt;\n\n      if (ignoreDisabled) {\n        for (var i = 0, len = selectedOptions.length; i < len; i++) {\n          opt = selectedOptions[i];\n\n          if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n            options.push(opt);\n          }\n        }\n\n        return options;\n      }\n\n      return selectedOptions;\n    } // much faster than $.val()\n\n\n    function getSelectValues(select, selectedOptions) {\n      var value = [],\n          options = selectedOptions || select.selectedOptions,\n          opt;\n\n      for (var i = 0, len = options.length; i < len; i++) {\n        opt = options[i];\n\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n          value.push(opt.value);\n        }\n      }\n\n      if (!select.multiple) {\n        return !value.length ? null : value[0];\n      }\n\n      return value;\n    } // set data-selected on select element if the value has been programmatically selected\n    // prior to initialization of bootstrap-select\n    // * consider removing or replacing an alternative method *\n\n\n    var valHooks = {\n      useDefault: false,\n      _set: $.valHooks.select.set\n    };\n\n    $.valHooks.select.set = function (elem, value) {\n      if (value && !valHooks.useDefault) $(elem).data('selected', true);\n      return valHooks._set.apply(this, arguments);\n    };\n\n    var changedArguments = null;\n\n    var EventIsSupported = function () {\n      try {\n        new Event('change');\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }();\n\n    $.fn.triggerNative = function (eventName) {\n      var el = this[0],\n          event;\n\n      if (el.dispatchEvent) {\n        // for modern browsers & IE9+\n        if (EventIsSupported) {\n          // For modern browsers\n          event = new Event(eventName, {\n            bubbles: true\n          });\n        } else {\n          // For IE since it doesn't support Event constructor\n          event = document.createEvent('Event');\n          event.initEvent(eventName, true, false);\n        }\n\n        el.dispatchEvent(event);\n      } else if (el.fireEvent) {\n        // for IE8\n        event = document.createEventObject();\n        event.eventType = eventName;\n        el.fireEvent('on' + eventName, event);\n      } else {\n        // fall back to jQuery.trigger\n        this.trigger(eventName);\n      }\n    }; // </editor-fold>\n\n\n    function stringSearch(li, searchString, method, normalize) {\n      var stringTypes = ['display', 'subtext', 'tokens'],\n          searchSuccess = false;\n\n      for (var i = 0; i < stringTypes.length; i++) {\n        var stringType = stringTypes[i],\n            string = li[stringType];\n\n        if (string) {\n          string = string.toString(); // Strip HTML tags. This isn't perfect, but it's much faster than any other method\n\n          if (stringType === 'display') {\n            string = string.replace(/<[^>]+>/g, '');\n          }\n\n          if (normalize) string = normalizeToBase(string);\n          string = string.toUpperCase();\n\n          if (method === 'contains') {\n            searchSuccess = string.indexOf(searchString) >= 0;\n          } else {\n            searchSuccess = string.startsWith(searchString);\n          }\n\n          if (searchSuccess) break;\n        }\n      }\n\n      return searchSuccess;\n    }\n\n    function toInteger(value) {\n      return parseInt(value, 10) || 0;\n    } // Borrowed from Lodash (_.deburr)\n\n    /** Used to map Latin Unicode letters to basic Latin letters. */\n\n\n    var deburredLetters = {\n      // Latin-1 Supplement block.\n      '\\xc0': 'A',\n      '\\xc1': 'A',\n      '\\xc2': 'A',\n      '\\xc3': 'A',\n      '\\xc4': 'A',\n      '\\xc5': 'A',\n      '\\xe0': 'a',\n      '\\xe1': 'a',\n      '\\xe2': 'a',\n      '\\xe3': 'a',\n      '\\xe4': 'a',\n      '\\xe5': 'a',\n      '\\xc7': 'C',\n      '\\xe7': 'c',\n      '\\xd0': 'D',\n      '\\xf0': 'd',\n      '\\xc8': 'E',\n      '\\xc9': 'E',\n      '\\xca': 'E',\n      '\\xcb': 'E',\n      '\\xe8': 'e',\n      '\\xe9': 'e',\n      '\\xea': 'e',\n      '\\xeb': 'e',\n      '\\xcc': 'I',\n      '\\xcd': 'I',\n      '\\xce': 'I',\n      '\\xcf': 'I',\n      '\\xec': 'i',\n      '\\xed': 'i',\n      '\\xee': 'i',\n      '\\xef': 'i',\n      '\\xd1': 'N',\n      '\\xf1': 'n',\n      '\\xd2': 'O',\n      '\\xd3': 'O',\n      '\\xd4': 'O',\n      '\\xd5': 'O',\n      '\\xd6': 'O',\n      '\\xd8': 'O',\n      '\\xf2': 'o',\n      '\\xf3': 'o',\n      '\\xf4': 'o',\n      '\\xf5': 'o',\n      '\\xf6': 'o',\n      '\\xf8': 'o',\n      '\\xd9': 'U',\n      '\\xda': 'U',\n      '\\xdb': 'U',\n      '\\xdc': 'U',\n      '\\xf9': 'u',\n      '\\xfa': 'u',\n      '\\xfb': 'u',\n      '\\xfc': 'u',\n      '\\xdd': 'Y',\n      '\\xfd': 'y',\n      '\\xff': 'y',\n      '\\xc6': 'Ae',\n      '\\xe6': 'ae',\n      '\\xde': 'Th',\n      '\\xfe': 'th',\n      '\\xdf': 'ss',\n      // Latin Extended-A block.\n      '\\u0100': 'A',\n      '\\u0102': 'A',\n      '\\u0104': 'A',\n      '\\u0101': 'a',\n      '\\u0103': 'a',\n      '\\u0105': 'a',\n      '\\u0106': 'C',\n      '\\u0108': 'C',\n      '\\u010a': 'C',\n      '\\u010c': 'C',\n      '\\u0107': 'c',\n      '\\u0109': 'c',\n      '\\u010b': 'c',\n      '\\u010d': 'c',\n      '\\u010e': 'D',\n      '\\u0110': 'D',\n      '\\u010f': 'd',\n      '\\u0111': 'd',\n      '\\u0112': 'E',\n      '\\u0114': 'E',\n      '\\u0116': 'E',\n      '\\u0118': 'E',\n      '\\u011a': 'E',\n      '\\u0113': 'e',\n      '\\u0115': 'e',\n      '\\u0117': 'e',\n      '\\u0119': 'e',\n      '\\u011b': 'e',\n      '\\u011c': 'G',\n      '\\u011e': 'G',\n      '\\u0120': 'G',\n      '\\u0122': 'G',\n      '\\u011d': 'g',\n      '\\u011f': 'g',\n      '\\u0121': 'g',\n      '\\u0123': 'g',\n      '\\u0124': 'H',\n      '\\u0126': 'H',\n      '\\u0125': 'h',\n      '\\u0127': 'h',\n      '\\u0128': 'I',\n      '\\u012a': 'I',\n      '\\u012c': 'I',\n      '\\u012e': 'I',\n      '\\u0130': 'I',\n      '\\u0129': 'i',\n      '\\u012b': 'i',\n      '\\u012d': 'i',\n      '\\u012f': 'i',\n      '\\u0131': 'i',\n      '\\u0134': 'J',\n      '\\u0135': 'j',\n      '\\u0136': 'K',\n      '\\u0137': 'k',\n      '\\u0138': 'k',\n      '\\u0139': 'L',\n      '\\u013b': 'L',\n      '\\u013d': 'L',\n      '\\u013f': 'L',\n      '\\u0141': 'L',\n      '\\u013a': 'l',\n      '\\u013c': 'l',\n      '\\u013e': 'l',\n      '\\u0140': 'l',\n      '\\u0142': 'l',\n      '\\u0143': 'N',\n      '\\u0145': 'N',\n      '\\u0147': 'N',\n      '\\u014a': 'N',\n      '\\u0144': 'n',\n      '\\u0146': 'n',\n      '\\u0148': 'n',\n      '\\u014b': 'n',\n      '\\u014c': 'O',\n      '\\u014e': 'O',\n      '\\u0150': 'O',\n      '\\u014d': 'o',\n      '\\u014f': 'o',\n      '\\u0151': 'o',\n      '\\u0154': 'R',\n      '\\u0156': 'R',\n      '\\u0158': 'R',\n      '\\u0155': 'r',\n      '\\u0157': 'r',\n      '\\u0159': 'r',\n      '\\u015a': 'S',\n      '\\u015c': 'S',\n      '\\u015e': 'S',\n      '\\u0160': 'S',\n      '\\u015b': 's',\n      '\\u015d': 's',\n      '\\u015f': 's',\n      '\\u0161': 's',\n      '\\u0162': 'T',\n      '\\u0164': 'T',\n      '\\u0166': 'T',\n      '\\u0163': 't',\n      '\\u0165': 't',\n      '\\u0167': 't',\n      '\\u0168': 'U',\n      '\\u016a': 'U',\n      '\\u016c': 'U',\n      '\\u016e': 'U',\n      '\\u0170': 'U',\n      '\\u0172': 'U',\n      '\\u0169': 'u',\n      '\\u016b': 'u',\n      '\\u016d': 'u',\n      '\\u016f': 'u',\n      '\\u0171': 'u',\n      '\\u0173': 'u',\n      '\\u0174': 'W',\n      '\\u0175': 'w',\n      '\\u0176': 'Y',\n      '\\u0177': 'y',\n      '\\u0178': 'Y',\n      '\\u0179': 'Z',\n      '\\u017b': 'Z',\n      '\\u017d': 'Z',\n      '\\u017a': 'z',\n      '\\u017c': 'z',\n      '\\u017e': 'z',\n      '\\u0132': 'IJ',\n      '\\u0133': 'ij',\n      '\\u0152': 'Oe',\n      '\\u0153': 'oe',\n      '\\u0149': \"'n\",\n      '\\u017f': 's'\n    };\n    /** Used to match Latin Unicode letters (excluding mathematical operators). */\n\n    var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n    /** Used to compose unicode character classes. */\n\n    var rsComboMarksRange = '\\\\u0300-\\\\u036f',\n        reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n        rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n        rsComboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff',\n        rsComboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff',\n        rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\n    /** Used to compose unicode capture groups. */\n\n    var rsCombo = '[' + rsComboRange + ']';\n    /**\r\n     * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\r\n     * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\r\n     */\n\n    var reComboMark = RegExp(rsCombo, 'g');\n\n    function deburrLetter(key) {\n      return deburredLetters[key];\n    }\n\n    ;\n\n    function normalizeToBase(string) {\n      string = string.toString();\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    } // List of HTML entities for escaping.\n\n\n    var escapeMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '`': '&#x60;'\n    }; // Functions for escaping and unescaping strings to/from HTML interpolation.\n\n    var createEscaper = function (map) {\n      var escaper = function (match) {\n        return map[match];\n      }; // Regexes for identifying a key that needs to be escaped.\n\n\n      var source = '(?:' + Object.keys(map).join('|') + ')';\n      var testRegexp = RegExp(source);\n      var replaceRegexp = RegExp(source, 'g');\n      return function (string) {\n        string = string == null ? '' : '' + string;\n        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n      };\n    };\n\n    var htmlEscape = createEscaper(escapeMap);\n    /**\r\n     * ------------------------------------------------------------------------\r\n     * Constants\r\n     * ------------------------------------------------------------------------\r\n     */\n\n    var keyCodeMap = {\n      32: ' ',\n      48: '0',\n      49: '1',\n      50: '2',\n      51: '3',\n      52: '4',\n      53: '5',\n      54: '6',\n      55: '7',\n      56: '8',\n      57: '9',\n      59: ';',\n      65: 'A',\n      66: 'B',\n      67: 'C',\n      68: 'D',\n      69: 'E',\n      70: 'F',\n      71: 'G',\n      72: 'H',\n      73: 'I',\n      74: 'J',\n      75: 'K',\n      76: 'L',\n      77: 'M',\n      78: 'N',\n      79: 'O',\n      80: 'P',\n      81: 'Q',\n      82: 'R',\n      83: 'S',\n      84: 'T',\n      85: 'U',\n      86: 'V',\n      87: 'W',\n      88: 'X',\n      89: 'Y',\n      90: 'Z',\n      96: '0',\n      97: '1',\n      98: '2',\n      99: '3',\n      100: '4',\n      101: '5',\n      102: '6',\n      103: '7',\n      104: '8',\n      105: '9'\n    };\n    var keyCodes = {\n      ESCAPE: 27,\n      // KeyboardEvent.which value for Escape (Esc) key\n      ENTER: 13,\n      // KeyboardEvent.which value for Enter key\n      SPACE: 32,\n      // KeyboardEvent.which value for space key\n      TAB: 9,\n      // KeyboardEvent.which value for tab key\n      ARROW_UP: 38,\n      // KeyboardEvent.which value for up arrow key\n      ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\n\n    };\n    var version = {\n      success: false,\n      major: '3'\n    };\n\n    try {\n      version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n      version.major = version.full[0];\n      version.success = true;\n    } catch (err) {// do nothing\n    }\n\n    var selectId = 0;\n    var EVENT_KEY = '.bs.select';\n    var classNames = {\n      DISABLED: 'disabled',\n      DIVIDER: 'divider',\n      SHOW: 'open',\n      DROPUP: 'dropup',\n      MENU: 'dropdown-menu',\n      MENURIGHT: 'dropdown-menu-right',\n      MENULEFT: 'dropdown-menu-left',\n      // to-do: replace with more advanced template/customization options\n      BUTTONCLASS: 'btn-default',\n      POPOVERHEADER: 'popover-title',\n      ICONBASE: 'glyphicon',\n      TICKICON: 'glyphicon-ok'\n    };\n    var Selector = {\n      MENU: '.' + classNames.MENU\n    };\n    var elementTemplates = {\n      div: document.createElement('div'),\n      span: document.createElement('span'),\n      i: document.createElement('i'),\n      subtext: document.createElement('small'),\n      a: document.createElement('a'),\n      li: document.createElement('li'),\n      whitespace: document.createTextNode('\\u00A0'),\n      fragment: document.createDocumentFragment()\n    };\n    elementTemplates.noResults = elementTemplates.li.cloneNode(false);\n    elementTemplates.noResults.className = 'no-results';\n    elementTemplates.a.setAttribute('role', 'option');\n    elementTemplates.a.className = 'dropdown-item';\n    elementTemplates.subtext.className = 'text-muted';\n    elementTemplates.text = elementTemplates.span.cloneNode(false);\n    elementTemplates.text.className = 'text';\n    elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\n    var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\n    var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\n    var generateOption = {\n      li: function (content, classes, optgroup) {\n        var li = elementTemplates.li.cloneNode(false);\n\n        if (content) {\n          if (content.nodeType === 1 || content.nodeType === 11) {\n            li.appendChild(content);\n          } else {\n            li.innerHTML = content;\n          }\n        }\n\n        if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\n        if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\n        return li;\n      },\n      a: function (text, classes, inline) {\n        var a = elementTemplates.a.cloneNode(true);\n\n        if (text) {\n          if (text.nodeType === 11) {\n            a.appendChild(text);\n          } else {\n            a.insertAdjacentHTML('beforeend', text);\n          }\n        }\n\n        if (typeof classes !== 'undefined' && classes !== '') a.classList.add.apply(a.classList, classes.split(/\\s+/));\n        if (inline) a.setAttribute('style', inline);\n        return a;\n      },\n      text: function (options, useFragment) {\n        var textElement = elementTemplates.text.cloneNode(false),\n            subtextElement,\n            iconElement;\n\n        if (options.content) {\n          textElement.innerHTML = options.content;\n        } else {\n          textElement.textContent = options.text;\n\n          if (options.icon) {\n            var whitespace = elementTemplates.whitespace.cloneNode(false); // need to use <i> for icons in the button to prevent a breaking change\n            // note: switch to span in next major release\n\n            iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\n            iconElement.className = this.options.iconBase + ' ' + options.icon;\n            elementTemplates.fragment.appendChild(iconElement);\n            elementTemplates.fragment.appendChild(whitespace);\n          }\n\n          if (options.subtext) {\n            subtextElement = elementTemplates.subtext.cloneNode(false);\n            subtextElement.textContent = options.subtext;\n            textElement.appendChild(subtextElement);\n          }\n        }\n\n        if (useFragment === true) {\n          while (textElement.childNodes.length > 0) {\n            elementTemplates.fragment.appendChild(textElement.childNodes[0]);\n          }\n        } else {\n          elementTemplates.fragment.appendChild(textElement);\n        }\n\n        return elementTemplates.fragment;\n      },\n      label: function (options) {\n        var textElement = elementTemplates.text.cloneNode(false),\n            subtextElement,\n            iconElement;\n        textElement.innerHTML = options.display;\n\n        if (options.icon) {\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\n          iconElement = elementTemplates.span.cloneNode(false);\n          iconElement.className = this.options.iconBase + ' ' + options.icon;\n          elementTemplates.fragment.appendChild(iconElement);\n          elementTemplates.fragment.appendChild(whitespace);\n        }\n\n        if (options.subtext) {\n          subtextElement = elementTemplates.subtext.cloneNode(false);\n          subtextElement.textContent = options.subtext;\n          textElement.appendChild(subtextElement);\n        }\n\n        elementTemplates.fragment.appendChild(textElement);\n        return elementTemplates.fragment;\n      }\n    };\n\n    function showNoResults(searchMatch, searchValue) {\n      if (!searchMatch.length) {\n        elementTemplates.noResults.innerHTML = this.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\n        this.$menuInner[0].firstChild.appendChild(elementTemplates.noResults);\n      }\n    }\n\n    var Selectpicker = function (element, options) {\n      var that = this; // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\n\n      if (!valHooks.useDefault) {\n        $.valHooks.select.set = valHooks._set;\n        valHooks.useDefault = true;\n      }\n\n      this.$element = $(element);\n      this.$newElement = null;\n      this.$button = null;\n      this.$menu = null;\n      this.options = options;\n      this.selectpicker = {\n        main: {},\n        search: {},\n        current: {},\n        // current changes if a search is in progress\n        view: {},\n        isSearching: false,\n        keydown: {\n          keyHistory: '',\n          resetKeyHistory: {\n            start: function () {\n              return setTimeout(function () {\n                that.selectpicker.keydown.keyHistory = '';\n              }, 800);\n            }\n          }\n        }\n      };\n      this.sizeInfo = {}; // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n      // data-attribute)\n\n      if (this.options.title === null) {\n        this.options.title = this.$element.attr('title');\n      } // Format window padding\n\n\n      var winPad = this.options.windowPadding;\n\n      if (typeof winPad === 'number') {\n        this.options.windowPadding = [winPad, winPad, winPad, winPad];\n      } // Expose public methods\n\n\n      this.val = Selectpicker.prototype.val;\n      this.render = Selectpicker.prototype.render;\n      this.refresh = Selectpicker.prototype.refresh;\n      this.setStyle = Selectpicker.prototype.setStyle;\n      this.selectAll = Selectpicker.prototype.selectAll;\n      this.deselectAll = Selectpicker.prototype.deselectAll;\n      this.destroy = Selectpicker.prototype.destroy;\n      this.remove = Selectpicker.prototype.remove;\n      this.show = Selectpicker.prototype.show;\n      this.hide = Selectpicker.prototype.hide;\n      this.init();\n    };\n\n    Selectpicker.VERSION = '1.13.18'; // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n\n    Selectpicker.DEFAULTS = {\n      noneSelectedText: 'Nothing selected',\n      noneResultsText: 'No results matched {0}',\n      countSelectedText: function (numSelected, numTotal) {\n        return numSelected == 1 ? '{0} item selected' : '{0} items selected';\n      },\n      maxOptionsText: function (numAll, numGroup) {\n        return [numAll == 1 ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)', numGroup == 1 ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'];\n      },\n      selectAllText: 'Select All',\n      deselectAllText: 'Deselect All',\n      doneButton: false,\n      doneButtonText: 'Close',\n      multipleSeparator: ', ',\n      styleBase: 'btn',\n      style: classNames.BUTTONCLASS,\n      size: 'auto',\n      title: null,\n      selectedTextFormat: 'values',\n      width: false,\n      container: false,\n      hideDisabled: false,\n      showSubtext: false,\n      showIcon: true,\n      showContent: true,\n      dropupAuto: true,\n      header: false,\n      liveSearch: false,\n      liveSearchPlaceholder: null,\n      liveSearchNormalize: false,\n      liveSearchStyle: 'contains',\n      actionsBox: false,\n      iconBase: classNames.ICONBASE,\n      tickIcon: classNames.TICKICON,\n      showTick: false,\n      template: {\n        caret: '<span class=\"caret\"></span>'\n      },\n      maxOptions: false,\n      mobile: false,\n      selectOnTab: false,\n      dropdownAlignRight: false,\n      windowPadding: 0,\n      virtualScroll: 600,\n      display: false,\n      sanitize: true,\n      sanitizeFn: null,\n      whiteList: DefaultWhitelist\n    };\n    Selectpicker.prototype = {\n      constructor: Selectpicker,\n      init: function () {\n        var that = this,\n            id = this.$element.attr('id'),\n            element = this.$element[0],\n            form = element.form;\n        selectId++;\n        this.selectId = 'bs-select-' + selectId;\n        element.classList.add('bs-select-hidden');\n        this.multiple = this.$element.prop('multiple');\n        this.autofocus = this.$element.prop('autofocus');\n\n        if (element.classList.contains('show-tick')) {\n          this.options.showTick = true;\n        }\n\n        this.$newElement = this.createDropdown();\n        this.buildData();\n        this.$element.after(this.$newElement).prependTo(this.$newElement); // ensure select is associated with form element if it got unlinked after moving it inside newElement\n\n        if (form && element.form === null) {\n          if (!form.id) form.id = 'form-' + this.selectId;\n          element.setAttribute('form', form.id);\n        }\n\n        this.$button = this.$newElement.children('button');\n        this.$menu = this.$newElement.children(Selector.MENU);\n        this.$menuInner = this.$menu.children('.inner');\n        this.$searchbox = this.$menu.find('input');\n        element.classList.remove('bs-select-hidden');\n        if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\n\n        if (typeof id !== 'undefined') {\n          this.$button.attr('data-id', id);\n        }\n\n        this.checkDisabled();\n        this.clickListener();\n\n        if (this.options.liveSearch) {\n          this.liveSearchListener();\n          this.focusedParent = this.$searchbox[0];\n        } else {\n          this.focusedParent = this.$menuInner[0];\n        }\n\n        this.setStyle();\n        this.render();\n        this.setWidth();\n\n        if (this.options.container) {\n          this.selectPosition();\n        } else {\n          this.$element.on('hide' + EVENT_KEY, function () {\n            if (that.isVirtual()) {\n              // empty menu on close\n              var menuInner = that.$menuInner[0],\n                  emptyMenu = menuInner.firstChild.cloneNode(false); // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\n\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n              menuInner.scrollTop = 0;\n            }\n          });\n        }\n\n        this.$menu.data('this', this);\n        this.$newElement.data('this', this);\n        if (this.options.mobile) this.mobile();\n        this.$newElement.on({\n          'hide.bs.dropdown': function (e) {\n            that.$element.trigger('hide' + EVENT_KEY, e);\n          },\n          'hidden.bs.dropdown': function (e) {\n            that.$element.trigger('hidden' + EVENT_KEY, e);\n          },\n          'show.bs.dropdown': function (e) {\n            that.$element.trigger('show' + EVENT_KEY, e);\n          },\n          'shown.bs.dropdown': function (e) {\n            that.$element.trigger('shown' + EVENT_KEY, e);\n          }\n        });\n\n        if (element.hasAttribute('required')) {\n          this.$element.on('invalid' + EVENT_KEY, function () {\n            that.$button[0].classList.add('bs-invalid');\n            that.$element.on('shown' + EVENT_KEY + '.invalid', function () {\n              that.$element.val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n              .off('shown' + EVENT_KEY + '.invalid');\n            }).on('rendered' + EVENT_KEY, function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\n              that.$element.off('rendered' + EVENT_KEY);\n            });\n            that.$button.on('blur' + EVENT_KEY, function () {\n              that.$element.trigger('focus').trigger('blur');\n              that.$button.off('blur' + EVENT_KEY);\n            });\n          });\n        }\n\n        setTimeout(function () {\n          that.buildList();\n          that.$element.trigger('loaded' + EVENT_KEY);\n        });\n      },\n      createDropdown: function () {\n        // Options\n        // If we are multiple or showTick option is set, then add the show-tick class\n        var showTick = this.multiple || this.options.showTick ? ' show-tick' : '',\n            multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\n            inputGroup = '',\n            autofocus = this.autofocus ? ' autofocus' : '';\n\n        if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\n          inputGroup = ' input-group-btn';\n        } // Elements\n\n\n        var drop,\n            header = '',\n            searchbox = '',\n            actionsbox = '',\n            donebutton = '';\n\n        if (this.options.header) {\n          header = '<div class=\"' + classNames.POPOVERHEADER + '\">' + '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' + this.options.header + '</div>';\n        }\n\n        if (this.options.liveSearch) {\n          searchbox = '<div class=\"bs-searchbox\">' + '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' + (this.options.liveSearchPlaceholder === null ? '' : ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"') + ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' + '</div>';\n        }\n\n        if (this.multiple && this.options.actionsBox) {\n          actionsbox = '<div class=\"bs-actionsbox\">' + '<div class=\"btn-group btn-group-sm btn-block\">' + '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.selectAllText + '</button>' + '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.deselectAllText + '</button>' + '</div>' + '</div>';\n        }\n\n        if (this.multiple && this.options.doneButton) {\n          donebutton = '<div class=\"bs-donebutton\">' + '<div class=\"btn-group btn-block\">' + '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' + this.options.doneButtonText + '</button>' + '</div>' + '</div>';\n        }\n\n        drop = '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' + '<button type=\"button\" tabindex=\"-1\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' + '<div class=\"filter-option\">' + '<div class=\"filter-option-inner\">' + '<div class=\"filter-option-inner-inner\"></div>' + '</div> ' + '</div>' + (version.major === '4' ? '' : '<span class=\"bs-caret\">' + this.options.template.caret + '</span>') + '</button>' + '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' + header + searchbox + actionsbox + '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' + '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' + '</ul>' + '</div>' + donebutton + '</div>' + '</div>';\n        return $(drop);\n      },\n      setPositionData: function () {\n        this.selectpicker.view.canHighlight = [];\n        this.selectpicker.view.size = 0;\n        this.selectpicker.view.firstHighlightIndex = false;\n\n        for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n          var li = this.selectpicker.current.data[i],\n              canHighlight = true;\n\n          if (li.type === 'divider') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dividerHeight;\n          } else if (li.type === 'optgroup-label') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dropdownHeaderHeight;\n          } else {\n            li.height = this.sizeInfo.liHeight;\n          }\n\n          if (li.disabled) canHighlight = false;\n          this.selectpicker.view.canHighlight.push(canHighlight);\n\n          if (canHighlight) {\n            this.selectpicker.view.size++;\n            li.posinset = this.selectpicker.view.size;\n            if (this.selectpicker.view.firstHighlightIndex === false) this.selectpicker.view.firstHighlightIndex = i;\n          }\n\n          li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\n        }\n      },\n      isVirtual: function () {\n        return this.options.virtualScroll !== false && this.selectpicker.main.elements.length >= this.options.virtualScroll || this.options.virtualScroll === true;\n      },\n      createView: function (isSearching, setSize, refresh) {\n        var that = this,\n            scrollTop = 0,\n            active = [],\n            selected,\n            prevActive;\n        this.selectpicker.isSearching = isSearching;\n        this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\n        this.setPositionData();\n\n        if (setSize) {\n          if (refresh) {\n            scrollTop = this.$menuInner[0].scrollTop;\n          } else if (!that.multiple) {\n            var element = that.$element[0],\n                selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n            if (typeof selectedIndex === 'number' && that.options.size !== false) {\n              var selectedData = that.selectpicker.main.data[selectedIndex],\n                  position = selectedData && selectedData.position;\n\n              if (position) {\n                scrollTop = position - (that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2;\n              }\n            }\n          }\n        }\n\n        scroll(scrollTop, true);\n        this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\n          if (!that.noScroll) scroll(this.scrollTop, updateValue);\n          that.noScroll = false;\n        });\n\n        function scroll(scrollTop, init) {\n          var size = that.selectpicker.current.elements.length,\n              chunks = [],\n              chunkSize,\n              chunkCount,\n              firstChunk,\n              lastChunk,\n              currentChunk,\n              prevPositions,\n              positionIsDifferent,\n              previousElements,\n              menuIsDifferent = true,\n              isVirtual = that.isVirtual();\n          that.selectpicker.view.scrollTop = scrollTop;\n          chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\n\n          chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\n\n          for (var i = 0; i < chunkCount; i++) {\n            var endOfChunk = (i + 1) * chunkSize;\n\n            if (i === chunkCount - 1) {\n              endOfChunk = size;\n            }\n\n            chunks[i] = [i * chunkSize + (!i ? 0 : 1), endOfChunk];\n            if (!size) break;\n\n            if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\n              currentChunk = i;\n            }\n          }\n\n          if (currentChunk === undefined) currentChunk = 0;\n          prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1]; // always display previous, current, and next chunks\n\n          firstChunk = Math.max(0, currentChunk - 1);\n          lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\n          that.selectpicker.view.position0 = isVirtual === false ? 0 : Math.max(0, chunks[firstChunk][0]) || 0;\n          that.selectpicker.view.position1 = isVirtual === false ? size : Math.min(size, chunks[lastChunk][1]) || 0;\n          positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\n\n          if (that.activeIndex !== undefined) {\n            prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\n            active = that.selectpicker.main.elements[that.activeIndex];\n            selected = that.selectpicker.main.elements[that.selectedIndex];\n\n            if (init) {\n              if (that.activeIndex !== that.selectedIndex) {\n                that.defocusItem(active);\n              }\n\n              that.activeIndex = undefined;\n            }\n\n            if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\n              that.defocusItem(selected);\n            }\n          }\n\n          if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\n            that.defocusItem(prevActive);\n          }\n\n          if (init || positionIsDifferent) {\n            previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\n\n            if (isVirtual === false) {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\n            } else {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\n            }\n\n            that.setOptionStatus(); // if searching, check to make sure the list has actually been updated before updating DOM\n            // this prevents unnecessary repaints\n\n            if (isSearching || isVirtual === false && init) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements); // if virtual scroll is disabled and not searching,\n            // menu should never need to be updated more than once\n\n            if ((init || isVirtual === true) && menuIsDifferent) {\n              var menuInner = that.$menuInner[0],\n                  menuFragment = document.createDocumentFragment(),\n                  emptyMenu = menuInner.firstChild.cloneNode(false),\n                  marginTop,\n                  marginBottom,\n                  elements = that.selectpicker.view.visibleElements,\n                  toSanitize = []; // replace the existing UL with an empty one - this is faster than $.empty()\n\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n\n              for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\n                var element = elements[i],\n                    elText,\n                    elementData;\n\n                if (that.options.sanitize) {\n                  elText = element.lastChild;\n\n                  if (elText) {\n                    elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\n\n                    if (elementData && elementData.content && !elementData.sanitized) {\n                      toSanitize.push(elText);\n                      elementData.sanitized = true;\n                    }\n                  }\n                }\n\n                menuFragment.appendChild(element);\n              }\n\n              if (that.options.sanitize && toSanitize.length) {\n                sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\n              }\n\n              if (isVirtual === true) {\n                marginTop = that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position;\n                marginBottom = that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position;\n                menuInner.firstChild.style.marginTop = marginTop + 'px';\n                menuInner.firstChild.style.marginBottom = marginBottom + 'px';\n              } else {\n                menuInner.firstChild.style.marginTop = 0;\n                menuInner.firstChild.style.marginBottom = 0;\n              }\n\n              menuInner.firstChild.appendChild(menuFragment); // if an option is encountered that is wider than the current menu width, update the menu width accordingly\n              // switch to ResizeObserver with increased browser support\n\n              if (isVirtual === true && that.sizeInfo.hasScrollBar) {\n                var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\n\n                if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\n                  // set to 0 to get actual width of menu\n                  that.$menu[0].style.minWidth = 0;\n                  var actualMenuWidth = menuInner.firstChild.offsetWidth;\n\n                  if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\n                    that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\n                    menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                  } // reset to default CSS styling\n\n\n                  that.$menu[0].style.minWidth = '';\n                }\n              }\n            }\n          }\n\n          that.prevActiveIndex = that.activeIndex;\n\n          if (!that.options.liveSearch) {\n            that.$menuInner.trigger('focus');\n          } else if (isSearching && init) {\n            var index = 0,\n                newActive;\n\n            if (!that.selectpicker.view.canHighlight[index]) {\n              index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\n            }\n\n            newActive = that.selectpicker.view.visibleElements[index];\n            that.defocusItem(that.selectpicker.view.currentActive);\n            that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\n            that.focusItem(newActive);\n          }\n        }\n\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + '.createView').on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\n        });\n      },\n      focusItem: function (li, liData, noStyle) {\n        if (li) {\n          liData = liData || this.selectpicker.main.data[this.activeIndex];\n          var a = li.firstChild;\n\n          if (a) {\n            a.setAttribute('aria-setsize', this.selectpicker.view.size);\n            a.setAttribute('aria-posinset', liData.posinset);\n\n            if (noStyle !== true) {\n              this.focusedParent.setAttribute('aria-activedescendant', a.id);\n              li.classList.add('active');\n              a.classList.add('active');\n            }\n          }\n        }\n      },\n      defocusItem: function (li) {\n        if (li) {\n          li.classList.remove('active');\n          if (li.firstChild) li.firstChild.classList.remove('active');\n        }\n      },\n      setPlaceholder: function () {\n        var that = this,\n            updateIndex = false;\n\n        if (this.options.title && !this.multiple) {\n          if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option'); // this option doesn't create a new <li> element, but does add a new option at the start,\n          // so startIndex should increase to prevent having to check every option for the bs-title-option class\n\n          updateIndex = true;\n          var element = this.$element[0],\n              selectTitleOption = false,\n              titleNotAppended = !this.selectpicker.view.titleOption.parentNode,\n              selectedIndex = element.selectedIndex,\n              selectedOption = element.options[selectedIndex],\n              navigation = window.performance && window.performance.getEntriesByType('navigation'),\n              // Safari doesn't support getEntriesByType('navigation') - fall back to performance.navigation\n          isNotBackForward = navigation && navigation.length ? navigation[0].type !== 'back_forward' : window.performance.navigation.type !== 2;\n\n          if (titleNotAppended) {\n            // Use native JS to prepend option (faster)\n            this.selectpicker.view.titleOption.className = 'bs-title-option';\n            this.selectpicker.view.titleOption.value = ''; // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\n            // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\n            // if so, the select will have the data-selected attribute\n\n            selectTitleOption = !selectedOption || selectedIndex === 0 && selectedOption.defaultSelected === false && this.$element.data('selected') === undefined;\n          }\n\n          if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\n            element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\n          } // Set selected *after* appending to select,\n          // otherwise the option doesn't get selected in IE\n          // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\n\n\n          if (selectTitleOption && isNotBackForward) {\n            element.selectedIndex = 0;\n          } else if (document.readyState !== 'complete') {\n            // if navigation type is back_forward, there's a chance the select will have its value set by BFCache\n            // wait for that value to be set, then run render again\n            window.addEventListener('pageshow', function () {\n              if (that.selectpicker.view.displayedValue !== element.value) that.render();\n            });\n          }\n        }\n\n        return updateIndex;\n      },\n      buildData: function () {\n        var optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\n            mainData = [],\n            optID = 0,\n            startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\n\n        if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n        var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\n\n        function addDivider(config) {\n          var previousData = mainData[mainData.length - 1]; // ensure optgroup doesn't create back-to-back dividers\n\n          if (previousData && previousData.type === 'divider' && (previousData.optID || config.optID)) {\n            return;\n          }\n\n          config = config || {};\n          config.type = 'divider';\n          mainData.push(config);\n        }\n\n        function addOption(option, config) {\n          config = config || {};\n          config.divider = option.getAttribute('data-divider') === 'true';\n\n          if (config.divider) {\n            addDivider({\n              optID: config.optID\n            });\n          } else {\n            var liIndex = mainData.length,\n                cssText = option.style.cssText,\n                inlineStyle = cssText ? htmlEscape(cssText) : '',\n                optionClass = (option.className || '') + (config.optgroupClass || '');\n            if (config.optID) optionClass = 'opt ' + optionClass;\n            config.optionClass = optionClass.trim();\n            config.inlineStyle = inlineStyle;\n            config.text = option.textContent;\n            config.content = option.getAttribute('data-content');\n            config.tokens = option.getAttribute('data-tokens');\n            config.subtext = option.getAttribute('data-subtext');\n            config.icon = option.getAttribute('data-icon');\n            option.liIndex = liIndex;\n            config.display = config.content || config.text;\n            config.type = 'option';\n            config.index = liIndex;\n            config.option = option;\n            config.selected = !!option.selected;\n            config.disabled = config.disabled || !!option.disabled;\n            mainData.push(config);\n          }\n        }\n\n        function addOptgroup(index, selectOptions) {\n          var optgroup = selectOptions[index],\n              // skip placeholder option\n          previous = index - 1 < startIndex ? false : selectOptions[index - 1],\n              next = selectOptions[index + 1],\n              options = optgroup.querySelectorAll('option' + optionSelector);\n          if (!options.length) return;\n          var config = {\n            display: htmlEscape(optgroup.label),\n            subtext: optgroup.getAttribute('data-subtext'),\n            icon: optgroup.getAttribute('data-icon'),\n            type: 'optgroup-label',\n            optgroupClass: ' ' + (optgroup.className || '')\n          },\n              headerIndex,\n              lastIndex;\n          optID++;\n\n          if (previous) {\n            addDivider({\n              optID: optID\n            });\n          }\n\n          config.optID = optID;\n          mainData.push(config);\n\n          for (var j = 0, len = options.length; j < len; j++) {\n            var option = options[j];\n\n            if (j === 0) {\n              headerIndex = mainData.length - 1;\n              lastIndex = headerIndex + len;\n            }\n\n            addOption(option, {\n              headerIndex: headerIndex,\n              lastIndex: lastIndex,\n              optID: config.optID,\n              optgroupClass: config.optgroupClass,\n              disabled: optgroup.disabled\n            });\n          }\n\n          if (next) {\n            addDivider({\n              optID: optID\n            });\n          }\n        }\n\n        for (var len = selectOptions.length, i = startIndex; i < len; i++) {\n          var item = selectOptions[i];\n\n          if (item.tagName !== 'OPTGROUP') {\n            addOption(item, {});\n          } else {\n            addOptgroup(i, selectOptions);\n          }\n        }\n\n        this.selectpicker.main.data = this.selectpicker.current.data = mainData;\n      },\n      buildList: function () {\n        var that = this,\n            selectData = this.selectpicker.main.data,\n            mainElements = [],\n            widestOptionLength = 0;\n\n        if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\n          elementTemplates.checkMark.className = this.options.iconBase + ' ' + that.options.tickIcon + ' check-mark';\n          elementTemplates.a.appendChild(elementTemplates.checkMark);\n        }\n\n        function buildElement(item) {\n          var liElement,\n              combinedLength = 0;\n\n          switch (item.type) {\n            case 'divider':\n              liElement = generateOption.li(false, classNames.DIVIDER, item.optID ? item.optID + 'div' : undefined);\n              break;\n\n            case 'option':\n              liElement = generateOption.li(generateOption.a(generateOption.text.call(that, item), item.optionClass, item.inlineStyle), '', item.optID);\n\n              if (liElement.firstChild) {\n                liElement.firstChild.id = that.selectId + '-' + item.index;\n              }\n\n              break;\n\n            case 'optgroup-label':\n              liElement = generateOption.li(generateOption.label.call(that, item), 'dropdown-header' + item.optgroupClass, item.optID);\n              break;\n          }\n\n          item.element = liElement;\n          mainElements.push(liElement); // count the number of characters in the option - not perfect, but should work in most cases\n\n          if (item.display) combinedLength += item.display.length;\n          if (item.subtext) combinedLength += item.subtext.length; // if there is an icon, ensure this option's width is checked\n\n          if (item.icon) combinedLength += 1;\n\n          if (combinedLength > widestOptionLength) {\n            widestOptionLength = combinedLength; // guess which option is the widest\n            // use this when calculating menu width\n            // not perfect, but it's fast, and the width will be updating accordingly when scrolling\n\n            that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\n          }\n        }\n\n        for (var len = selectData.length, i = 0; i < len; i++) {\n          var item = selectData[i];\n          buildElement(item);\n        }\n\n        this.selectpicker.main.elements = this.selectpicker.current.elements = mainElements;\n      },\n      findLis: function () {\n        return this.$menuInner.find('.inner > li');\n      },\n      render: function () {\n        var that = this,\n            element = this.$element[0],\n            // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\n        placeholderSelected = this.setPlaceholder() && element.selectedIndex === 0,\n            selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\n            selectedCount = selectedOptions.length,\n            button = this.$button[0],\n            buttonInner = button.querySelector('.filter-option-inner-inner'),\n            multipleSeparator = document.createTextNode(this.options.multipleSeparator),\n            titleFragment = elementTemplates.fragment.cloneNode(false),\n            showCount,\n            countMax,\n            hasContent = false;\n        button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\n\n        if (!that.multiple && selectedOptions.length === 1) {\n          that.selectpicker.view.displayedValue = getSelectValues(element, selectedOptions);\n        }\n\n        if (this.options.selectedTextFormat === 'static') {\n          titleFragment = generateOption.text.call(this, {\n            text: this.options.title\n          }, true);\n        } else {\n          showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1; // determine if the number of selected options will be shown (showCount === true)\n\n          if (showCount) {\n            countMax = this.options.selectedTextFormat.split('>');\n            showCount = countMax.length > 1 && selectedCount > countMax[1] || countMax.length === 1 && selectedCount >= 2;\n          } // only loop through all selected options if the count won't be shown\n\n\n          if (showCount === false) {\n            if (!placeholderSelected) {\n              for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\n                if (selectedIndex < 50) {\n                  var option = selectedOptions[selectedIndex],\n                      thisData = this.selectpicker.main.data[option.liIndex],\n                      titleOptions = {};\n\n                  if (this.multiple && selectedIndex > 0) {\n                    titleFragment.appendChild(multipleSeparator.cloneNode(false));\n                  }\n\n                  if (option.title) {\n                    titleOptions.text = option.title;\n                  } else if (thisData) {\n                    if (thisData.content && that.options.showContent) {\n                      titleOptions.content = thisData.content.toString();\n                      hasContent = true;\n                    } else {\n                      if (that.options.showIcon) {\n                        titleOptions.icon = thisData.icon;\n                      }\n\n                      if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\n                      titleOptions.text = option.textContent.trim();\n                    }\n                  }\n\n                  titleFragment.appendChild(generateOption.text.call(this, titleOptions, true));\n                } else {\n                  break;\n                }\n              } // add ellipsis\n\n\n              if (selectedCount > 49) {\n                titleFragment.appendChild(document.createTextNode('...'));\n              }\n            }\n          } else {\n            var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\n            if (this.options.hideDisabled) optionSelector += ':not(:disabled)'; // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\n\n            var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\n                tr8nText = typeof this.options.countSelectedText === 'function' ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\n            titleFragment = generateOption.text.call(this, {\n              text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\n            }, true);\n          }\n        }\n\n        if (this.options.title == undefined) {\n          // use .attr to ensure undefined is returned if title attribute is not set\n          this.options.title = this.$element.attr('title');\n        } // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\n\n\n        if (!titleFragment.childNodes.length) {\n          titleFragment = generateOption.text.call(this, {\n            text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\n          }, true);\n        } // strip all HTML tags and trim the result, then unescape any escaped tags\n\n\n        button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\n\n        if (this.options.sanitize && hasContent) {\n          sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\n        }\n\n        buttonInner.innerHTML = '';\n        buttonInner.appendChild(titleFragment);\n\n        if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\n          var filterExpand = button.querySelector('.filter-expand'),\n              clone = buttonInner.cloneNode(true);\n          clone.className = 'filter-expand';\n\n          if (filterExpand) {\n            button.replaceChild(clone, filterExpand);\n          } else {\n            button.appendChild(clone);\n          }\n        }\n\n        this.$element.trigger('rendered' + EVENT_KEY);\n      },\n\n      /**\r\n       * @param [style]\r\n       * @param [status]\r\n       */\n      setStyle: function (newStyle, status) {\n        var button = this.$button[0],\n            newElement = this.$newElement[0],\n            style = this.options.style.trim(),\n            buttonClass;\n\n        if (this.$element.attr('class')) {\n          this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n        }\n\n        if (version.major < 4) {\n          newElement.classList.add('bs3');\n\n          if (newElement.parentNode.classList && newElement.parentNode.classList.contains('input-group') && (newElement.previousElementSibling || newElement.nextElementSibling) && (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')) {\n            newElement.classList.add('bs3-has-addon');\n          }\n        }\n\n        if (newStyle) {\n          buttonClass = newStyle.trim();\n        } else {\n          buttonClass = style;\n        }\n\n        if (status == 'add') {\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        } else if (status == 'remove') {\n          if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\n        } else {\n          if (style) button.classList.remove.apply(button.classList, style.split(' '));\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        }\n      },\n      liHeight: function (refresh) {\n        if (!refresh && (this.options.size === false || Object.keys(this.sizeInfo).length)) return;\n        var newElement = elementTemplates.div.cloneNode(false),\n            menu = elementTemplates.div.cloneNode(false),\n            menuInner = elementTemplates.div.cloneNode(false),\n            menuInnerInner = document.createElement('ul'),\n            divider = elementTemplates.li.cloneNode(false),\n            dropdownHeader = elementTemplates.li.cloneNode(false),\n            li,\n            a = elementTemplates.a.cloneNode(false),\n            text = elementTemplates.span.cloneNode(false),\n            header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\n            search = this.options.liveSearch ? elementTemplates.div.cloneNode(false) : null,\n            actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n            doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\n            firstOption = this.$element.find('option')[0];\n        this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\n        text.className = 'text';\n        a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\n        newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\n        newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\n\n        if (this.options.width === 'auto') menu.style.minWidth = 0;\n        menu.className = classNames.MENU + ' ' + classNames.SHOW;\n        menuInner.className = 'inner ' + classNames.SHOW;\n        menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\n        divider.className = classNames.DIVIDER;\n        dropdownHeader.className = 'dropdown-header';\n        text.appendChild(document.createTextNode('\\u200b'));\n\n        if (this.selectpicker.current.data.length) {\n          for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n            var data = this.selectpicker.current.data[i];\n\n            if (data.type === 'option') {\n              li = data.element;\n              break;\n            }\n          }\n        } else {\n          li = elementTemplates.li.cloneNode(false);\n          a.appendChild(text);\n          li.appendChild(a);\n        }\n\n        dropdownHeader.appendChild(text.cloneNode(true));\n\n        if (this.selectpicker.view.widestOption) {\n          menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\n        }\n\n        menuInnerInner.appendChild(li);\n        menuInnerInner.appendChild(divider);\n        menuInnerInner.appendChild(dropdownHeader);\n        if (header) menu.appendChild(header);\n\n        if (search) {\n          var input = document.createElement('input');\n          search.className = 'bs-searchbox';\n          input.className = 'form-control';\n          search.appendChild(input);\n          menu.appendChild(search);\n        }\n\n        if (actions) menu.appendChild(actions);\n        menuInner.appendChild(menuInnerInner);\n        menu.appendChild(menuInner);\n        if (doneButton) menu.appendChild(doneButton);\n        newElement.appendChild(menu);\n        document.body.appendChild(newElement);\n        var liHeight = li.offsetHeight,\n            dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\n            headerHeight = header ? header.offsetHeight : 0,\n            searchHeight = search ? search.offsetHeight : 0,\n            actionsHeight = actions ? actions.offsetHeight : 0,\n            doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n            dividerHeight = $(divider).outerHeight(true),\n            // fall back to jQuery if getComputedStyle is not supported\n        menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\n            menuWidth = menu.offsetWidth,\n            $menu = menuStyle ? null : $(menu),\n            menuPadding = {\n          vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) + toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) + toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) + toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n          horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) + toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) + toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) + toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\n        },\n            menuExtras = {\n          vert: menuPadding.vert + toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) + toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\n          horiz: menuPadding.horiz + toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) + toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\n        },\n            scrollBarWidth;\n        menuInner.style.overflowY = 'scroll';\n        scrollBarWidth = menu.offsetWidth - menuWidth;\n        document.body.removeChild(newElement);\n        this.sizeInfo.liHeight = liHeight;\n        this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\n        this.sizeInfo.headerHeight = headerHeight;\n        this.sizeInfo.searchHeight = searchHeight;\n        this.sizeInfo.actionsHeight = actionsHeight;\n        this.sizeInfo.doneButtonHeight = doneButtonHeight;\n        this.sizeInfo.dividerHeight = dividerHeight;\n        this.sizeInfo.menuPadding = menuPadding;\n        this.sizeInfo.menuExtras = menuExtras;\n        this.sizeInfo.menuWidth = menuWidth;\n        this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\n        this.sizeInfo.scrollBarWidth = scrollBarWidth;\n        this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\n        this.setPositionData();\n      },\n      getSelectPosition: function () {\n        var that = this,\n            $window = $(window),\n            pos = that.$newElement.offset(),\n            $container = $(that.options.container),\n            containerPos;\n\n        if (that.options.container && $container.length && !$container.is('body')) {\n          containerPos = $container.offset();\n          containerPos.top += parseInt($container.css('borderTopWidth'));\n          containerPos.left += parseInt($container.css('borderLeftWidth'));\n        } else {\n          containerPos = {\n            top: 0,\n            left: 0\n          };\n        }\n\n        var winPad = that.options.windowPadding;\n        this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\n        this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\n        this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\n        this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\n        this.sizeInfo.selectOffsetTop -= winPad[0];\n        this.sizeInfo.selectOffsetLeft -= winPad[3];\n      },\n      setMenuSize: function (isAuto) {\n        this.getSelectPosition();\n\n        var selectWidth = this.sizeInfo.selectWidth,\n            liHeight = this.sizeInfo.liHeight,\n            headerHeight = this.sizeInfo.headerHeight,\n            searchHeight = this.sizeInfo.searchHeight,\n            actionsHeight = this.sizeInfo.actionsHeight,\n            doneButtonHeight = this.sizeInfo.doneButtonHeight,\n            divHeight = this.sizeInfo.dividerHeight,\n            menuPadding = this.sizeInfo.menuPadding,\n            menuInnerHeight,\n            menuHeight,\n            divLength = 0,\n            minHeight,\n            _minHeight,\n            maxHeight,\n            menuInnerMinHeight,\n            estimate,\n            isDropup;\n\n        if (this.options.dropupAuto) {\n          // Get the estimated height of the menu without scrollbars.\n          // This is useful for smaller menus, where there might be plenty of room\n          // below the button without setting dropup, but we can't know\n          // the exact height of the menu until createView is called later\n          estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\n          isDropup = this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot; // ensure dropup doesn't change while searching (so menu doesn't bounce back and forth)\n\n          if (this.selectpicker.isSearching === true) {\n            isDropup = this.selectpicker.dropup;\n          }\n\n          this.$newElement.toggleClass(classNames.DROPUP, isDropup);\n          this.selectpicker.dropup = isDropup;\n        }\n\n        if (this.options.size === 'auto') {\n          _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\n          menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\n          minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\n\n          if (this.$newElement.hasClass(classNames.DROPUP)) {\n            menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\n          }\n\n          maxHeight = menuHeight;\n          menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n          for (var i = 0; i < this.options.size; i++) {\n            if (this.selectpicker.current.data[i].type === 'divider') divLength++;\n          }\n\n          menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\n          menuInnerHeight = menuHeight - menuPadding.vert;\n          maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          minHeight = menuInnerMinHeight = '';\n        }\n\n        this.$menu.css({\n          'max-height': maxHeight + 'px',\n          'overflow': 'hidden',\n          'min-height': minHeight + 'px'\n        });\n        this.$menuInner.css({\n          'max-height': menuInnerHeight + 'px',\n          'overflow-y': 'auto',\n          'min-height': menuInnerMinHeight + 'px'\n        }); // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\n\n        this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\n\n        if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\n          this.sizeInfo.hasScrollBar = true;\n          this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\n        }\n\n        if (this.options.dropdownAlignRight === 'auto') {\n          this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < this.sizeInfo.totalMenuWidth - selectWidth);\n        }\n\n        if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\n      },\n      setSize: function (refresh) {\n        this.liHeight(refresh);\n        if (this.options.header) this.$menu.css('padding-top', 0);\n\n        if (this.options.size !== false) {\n          var that = this,\n              $window = $(window);\n          this.setMenuSize();\n\n          if (this.options.liveSearch) {\n            this.$searchbox.off('input.setMenuSize propertychange.setMenuSize').on('input.setMenuSize propertychange.setMenuSize', function () {\n              return that.setMenuSize();\n            });\n          }\n\n          if (this.options.size === 'auto') {\n            $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize').on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\n              return that.setMenuSize();\n            });\n          } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n            $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\n          }\n        }\n\n        this.createView(false, true, refresh);\n      },\n      setWidth: function () {\n        var that = this;\n\n        if (this.options.width === 'auto') {\n          requestAnimationFrame(function () {\n            that.$menu.css('min-width', '0');\n            that.$element.on('loaded' + EVENT_KEY, function () {\n              that.liHeight();\n              that.setMenuSize(); // Get correct width if element is hidden\n\n              var $selectClone = that.$newElement.clone().appendTo('body'),\n                  btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\n              $selectClone.remove(); // Set width to whatever's larger, button title or longest option\n\n              that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\n              that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\n            });\n          });\n        } else if (this.options.width === 'fit') {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '').addClass('fit-width');\n        } else if (this.options.width) {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', this.options.width);\n        } else {\n          // Remove inline min-width/width so width can be changed\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '');\n        } // Remove fit-width class if width is changed programmatically\n\n\n        if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n          this.$newElement[0].classList.remove('fit-width');\n        }\n      },\n      selectPosition: function () {\n        this.$bsContainer = $('<div class=\"bs-container\" />');\n\n        var that = this,\n            $container = $(this.options.container),\n            pos,\n            containerPos,\n            actualHeight,\n            getPlacement = function ($element) {\n          var containerPosition = {},\n              // fall back to dropdown's default display setting if display is not manually set\n          display = that.options.display || ( // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\n          $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display : false);\n          that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\n          pos = $element.offset();\n\n          if (!$container.is('body')) {\n            containerPos = $container.offset();\n            containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\n            containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\n          } else {\n            containerPos = {\n              top: 0,\n              left: 0\n            };\n          }\n\n          actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight; // Bootstrap 4+ uses Popper for menu positioning\n\n          if (version.major < 4 || display === 'static') {\n            containerPosition.top = pos.top - containerPos.top + actualHeight;\n            containerPosition.left = pos.left - containerPos.left;\n          }\n\n          containerPosition.width = $element[0].offsetWidth;\n          that.$bsContainer.css(containerPosition);\n        };\n\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (that.isDisabled()) {\n            return;\n          }\n\n          getPlacement(that.$newElement);\n          that.$bsContainer.appendTo(that.options.container).toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW)).append(that.$menu);\n        });\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId).on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) getPlacement(that.$newElement);\n        });\n        this.$element.on('hide' + EVENT_KEY, function () {\n          that.$menu.data('height', that.$menu.height());\n          that.$bsContainer.detach();\n        });\n      },\n      setOptionStatus: function (selectedOnly) {\n        var that = this;\n        that.noScroll = false;\n\n        if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\n          for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\n            var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\n                option = liData.option;\n\n            if (option) {\n              if (selectedOnly !== true) {\n                that.setDisabled(liData.index, liData.disabled);\n              }\n\n              that.setSelected(liData.index, option.selected);\n            }\n          }\n        }\n      },\n\n      /**\r\n       * @param {number} index - the index of the option that is being changed\r\n       * @param {boolean} selected - true if the option is being selected, false if being deselected\r\n       */\n      setSelected: function (index, selected) {\n        var li = this.selectpicker.main.elements[index],\n            liData = this.selectpicker.main.data[index],\n            activeIndexIsSet = this.activeIndex !== undefined,\n            thisIsActive = this.activeIndex === index,\n            prevActive,\n            a,\n            // if current option is already active\n        // OR\n        // if the current option is being selected, it's NOT multiple, and\n        // activeIndex is undefined:\n        //  - when the menu is first being opened, OR\n        //  - after a search has been performed, OR\n        //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\n        keepActive = thisIsActive || selected && !this.multiple && !activeIndexIsSet;\n        liData.selected = selected;\n        a = li.firstChild;\n\n        if (selected) {\n          this.selectedIndex = index;\n        }\n\n        li.classList.toggle('selected', selected);\n\n        if (keepActive) {\n          this.focusItem(li, liData);\n          this.selectpicker.view.currentActive = li;\n          this.activeIndex = index;\n        } else {\n          this.defocusItem(li);\n        }\n\n        if (a) {\n          a.classList.toggle('selected', selected);\n\n          if (selected) {\n            a.setAttribute('aria-selected', true);\n          } else {\n            if (this.multiple) {\n              a.setAttribute('aria-selected', false);\n            } else {\n              a.removeAttribute('aria-selected');\n            }\n          }\n        }\n\n        if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\n          prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\n          this.defocusItem(prevActive);\n        }\n      },\n\n      /**\r\n       * @param {number} index - the index of the option that is being disabled\r\n       * @param {boolean} disabled - true if the option is being disabled, false if being enabled\r\n       */\n      setDisabled: function (index, disabled) {\n        var li = this.selectpicker.main.elements[index],\n            a;\n        this.selectpicker.main.data[index].disabled = disabled;\n        a = li.firstChild;\n        li.classList.toggle(classNames.DISABLED, disabled);\n\n        if (a) {\n          if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\n\n          if (disabled) {\n            a.setAttribute('aria-disabled', disabled);\n            a.setAttribute('tabindex', -1);\n          } else {\n            a.removeAttribute('aria-disabled');\n            a.setAttribute('tabindex', 0);\n          }\n        }\n      },\n      isDisabled: function () {\n        return this.$element[0].disabled;\n      },\n      checkDisabled: function () {\n        if (this.isDisabled()) {\n          this.$newElement[0].classList.add(classNames.DISABLED);\n          this.$button.addClass(classNames.DISABLED).attr('aria-disabled', true);\n        } else {\n          if (this.$button[0].classList.contains(classNames.DISABLED)) {\n            this.$newElement[0].classList.remove(classNames.DISABLED);\n            this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\n          }\n        }\n      },\n      clickListener: function () {\n        var that = this,\n            $document = $(document);\n        $document.data('spaceSelect', false);\n        this.$button.on('keyup', function (e) {\n          if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n            e.preventDefault();\n            $document.data('spaceSelect', false);\n          }\n        });\n        this.$newElement.on('show.bs.dropdown', function () {\n          if (version.major > 3 && !that.dropdown) {\n            that.dropdown = that.$button.data('bs.dropdown');\n            that.dropdown._menu = that.$menu[0];\n          }\n        });\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!that.$newElement.hasClass(classNames.SHOW)) {\n            that.setSize();\n          }\n        });\n\n        function setFocus() {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$menuInner.trigger('focus');\n          }\n        }\n\n        function checkPopperExists() {\n          if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\n            setFocus();\n          } else {\n            requestAnimationFrame(checkPopperExists);\n          }\n        }\n\n        this.$element.on('shown' + EVENT_KEY, function () {\n          if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\n            that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\n          }\n\n          if (version.major > 3) {\n            requestAnimationFrame(checkPopperExists);\n          } else {\n            setFocus();\n          }\n        }); // ensure posinset and setsize are correct before selecting an option via a click\n\n        this.$menuInner.on('mouseenter', 'li a', function (e) {\n          var hoverLi = this.parentElement,\n              position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n              index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\n              hoverData = that.selectpicker.current.data[index + position0];\n          that.focusItem(hoverLi, hoverData, true);\n        });\n        this.$menuInner.on('click', 'li a', function (e, retainActive) {\n          var $this = $(this),\n              element = that.$element[0],\n              position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n              clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\n              clickedIndex = clickedData.index,\n              prevValue = getSelectValues(element),\n              prevIndex = element.selectedIndex,\n              prevOption = element.options[prevIndex],\n              triggerChange = true; // Don't close on multi choice menu\n\n          if (that.multiple && that.options.maxOptions !== 1) {\n            e.stopPropagation();\n          }\n\n          e.preventDefault(); // Don't run if the select is disabled\n\n          if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\n            var option = clickedData.option,\n                $option = $(option),\n                state = option.selected,\n                $optgroup = $option.parent('optgroup'),\n                $optgroupOptions = $optgroup.find('option'),\n                maxOptions = that.options.maxOptions,\n                maxOptionsGrp = $optgroup.data('maxOptions') || false;\n            if (clickedIndex === that.activeIndex) retainActive = true;\n\n            if (!retainActive) {\n              that.prevActiveIndex = that.activeIndex;\n              that.activeIndex = undefined;\n            }\n\n            if (!that.multiple) {\n              // Deselect all others if not multi select box\n              if (prevOption) prevOption.selected = false;\n              option.selected = true;\n              that.setSelected(clickedIndex, true);\n            } else {\n              // Toggle the one we have chosen if we are multi select.\n              option.selected = !state;\n              that.setSelected(clickedIndex, !state);\n              that.focusedParent.focus();\n\n              if (maxOptions !== false || maxOptionsGrp !== false) {\n                var maxReached = maxOptions < getSelectedOptions(element).length,\n                    maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n\n                if (maxOptions && maxReached || maxOptionsGrp && maxReachedGrp) {\n                  if (maxOptions && maxOptions == 1) {\n                    element.selectedIndex = -1;\n                    option.selected = true;\n                    that.setOptionStatus(true);\n                  } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                    for (var i = 0; i < $optgroupOptions.length; i++) {\n                      var _option = $optgroupOptions[i];\n                      _option.selected = false;\n                      that.setSelected(_option.liIndex, false);\n                    }\n\n                    option.selected = true;\n                    that.setSelected(clickedIndex, true);\n                  } else {\n                    var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\n                        maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\n                        maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                        maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                        $notify = $('<div class=\"notify\"></div>'); // If {var} is set in array, replace it\n\n                    /** @deprecated */\n\n                    if (maxOptionsArr[2]) {\n                      maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                      maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                    }\n\n                    option.selected = false;\n                    that.$menu.append($notify);\n\n                    if (maxOptions && maxReached) {\n                      $notify.append($('<div>' + maxTxt + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReached' + EVENT_KEY);\n                    }\n\n                    if (maxOptionsGrp && maxReachedGrp) {\n                      $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReachedGrp' + EVENT_KEY);\n                    }\n\n                    setTimeout(function () {\n                      that.setSelected(clickedIndex, false);\n                    }, 10);\n                    $notify[0].classList.add('fadeOut');\n                    setTimeout(function () {\n                      $notify.remove();\n                    }, 1050);\n                  }\n                }\n              }\n            }\n\n            if (!that.multiple || that.multiple && that.options.maxOptions === 1) {\n              that.$button.trigger('focus');\n            } else if (that.options.liveSearch) {\n              that.$searchbox.trigger('focus');\n            } // Trigger select 'change'\n\n\n            if (triggerChange) {\n              if (that.multiple || prevIndex !== element.selectedIndex) {\n                // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\n                changedArguments = [option.index, $option.prop('selected'), prevValue];\n                that.$element.triggerNative('change');\n              }\n            }\n          }\n        });\n        this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\n          if (e.currentTarget == this) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n              that.$searchbox.trigger('focus');\n            } else {\n              that.$button.trigger('focus');\n            }\n          }\n        });\n        this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n        });\n        this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\n          that.$button.trigger('click');\n        });\n        this.$searchbox.on('click', function (e) {\n          e.stopPropagation();\n        });\n        this.$menu.on('click', '.actions-btn', function (e) {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n\n          if ($(this).hasClass('bs-select-all')) {\n            that.selectAll();\n          } else {\n            that.deselectAll();\n          }\n        });\n        this.$button.on('focus' + EVENT_KEY, function (e) {\n          var tabindex = that.$element[0].getAttribute('tabindex'); // only change when button is actually focused\n\n          if (tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\n            // apply select element's tabindex to ensure correct order is followed when tabbing to the next element\n            this.setAttribute('tabindex', tabindex); // set element's tabindex to -1 to allow for reverse tabbing\n\n            that.$element[0].setAttribute('tabindex', -1);\n            that.selectpicker.view.tabindex = tabindex;\n          }\n        }).on('blur' + EVENT_KEY, function (e) {\n          // revert everything to original tabindex\n          if (that.selectpicker.view.tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\n            that.$element[0].setAttribute('tabindex', that.selectpicker.view.tabindex);\n            this.setAttribute('tabindex', -1);\n            that.selectpicker.view.tabindex = undefined;\n          }\n        });\n        this.$element.on('change' + EVENT_KEY, function () {\n          that.render();\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\n          changedArguments = null;\n        }).on('focus' + EVENT_KEY, function () {\n          if (!that.options.mobile) that.$button[0].focus();\n        });\n      },\n      liveSearchListener: function () {\n        var that = this;\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!!that.$searchbox.val()) {\n            that.$searchbox.val('');\n            that.selectpicker.search.previousValue = undefined;\n          }\n        });\n        this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\n          e.stopPropagation();\n        });\n        this.$searchbox.on('input propertychange', function () {\n          var searchValue = that.$searchbox[0].value;\n          that.selectpicker.search.elements = [];\n          that.selectpicker.search.data = [];\n\n          if (searchValue) {\n            var i,\n                searchMatch = [],\n                q = searchValue.toUpperCase(),\n                cache = {},\n                cacheArr = [],\n                searchStyle = that._searchStyle(),\n                normalizeSearch = that.options.liveSearchNormalize;\n\n            if (normalizeSearch) q = normalizeToBase(q);\n\n            for (var i = 0; i < that.selectpicker.main.data.length; i++) {\n              var li = that.selectpicker.main.data[i];\n\n              if (!cache[i]) {\n                cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\n              }\n\n              if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\n                if (li.headerIndex > 0) {\n                  cache[li.headerIndex - 1] = true;\n                  cacheArr.push(li.headerIndex - 1);\n                }\n\n                cache[li.headerIndex] = true;\n                cacheArr.push(li.headerIndex);\n                cache[li.lastIndex + 1] = true;\n              }\n\n              if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\n            }\n\n            for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\n              var index = cacheArr[i],\n                  prevIndex = cacheArr[i - 1],\n                  li = that.selectpicker.main.data[index],\n                  liPrev = that.selectpicker.main.data[prevIndex];\n\n              if (li.type !== 'divider' || li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i) {\n                that.selectpicker.search.data.push(li);\n                searchMatch.push(that.selectpicker.main.elements[index]);\n              }\n            }\n\n            that.activeIndex = undefined;\n            that.noScroll = true;\n            that.$menuInner.scrollTop(0);\n            that.selectpicker.search.elements = searchMatch;\n            that.createView(true);\n            showNoResults.call(that, searchMatch, searchValue);\n          } else if (that.selectpicker.search.previousValue) {\n            // for IE11 (#2402)\n            that.$menuInner.scrollTop(0);\n            that.createView(false);\n          }\n\n          that.selectpicker.search.previousValue = searchValue;\n        });\n      },\n      _searchStyle: function () {\n        return this.options.liveSearchStyle || 'contains';\n      },\n      val: function (value) {\n        var element = this.$element[0];\n\n        if (typeof value !== 'undefined') {\n          var prevValue = getSelectValues(element);\n          changedArguments = [null, null, prevValue];\n          this.$element.val(value).trigger('changed' + EVENT_KEY, changedArguments);\n\n          if (this.$newElement.hasClass(classNames.SHOW)) {\n            if (this.multiple) {\n              this.setOptionStatus(true);\n            } else {\n              var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n              if (typeof liSelectedIndex === 'number') {\n                this.setSelected(this.selectedIndex, false);\n                this.setSelected(liSelectedIndex, true);\n              }\n            }\n          }\n\n          this.render();\n          changedArguments = null;\n          return this.$element;\n        } else {\n          return this.$element.val();\n        }\n      },\n      changeAll: function (status) {\n        if (!this.multiple) return;\n        if (typeof status === 'undefined') status = true;\n        var element = this.$element[0],\n            previousSelected = 0,\n            currentSelected = 0,\n            prevValue = getSelectValues(element);\n        element.classList.add('bs-select-hidden');\n\n        for (var i = 0, data = this.selectpicker.current.data, len = data.length; i < len; i++) {\n          var liData = data[i],\n              option = liData.option;\n\n          if (option && !liData.disabled && liData.type !== 'divider') {\n            if (liData.selected) previousSelected++;\n            option.selected = status;\n            if (status === true) currentSelected++;\n          }\n        }\n\n        element.classList.remove('bs-select-hidden');\n        if (previousSelected === currentSelected) return;\n        this.setOptionStatus();\n        changedArguments = [null, null, prevValue];\n        this.$element.triggerNative('change');\n      },\n      selectAll: function () {\n        return this.changeAll(true);\n      },\n      deselectAll: function () {\n        return this.changeAll(false);\n      },\n      toggle: function (e) {\n        e = e || window.event;\n        if (e) e.stopPropagation();\n        this.$button.trigger('click.bs.dropdown.data-api');\n      },\n      keydown: function (e) {\n        var $this = $(this),\n            isToggle = $this.hasClass('dropdown-toggle'),\n            $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\n            that = $parent.data('this'),\n            $items = that.findLis(),\n            index,\n            isActive,\n            liActive,\n            activeLi,\n            offset,\n            updateScroll = false,\n            downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\n            isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\n            scrollTop = that.$menuInner[0].scrollTop,\n            isVirtual = that.isVirtual(),\n            position0 = isVirtual === true ? that.selectpicker.view.position0 : 0; // do nothing if a function key is pressed\n\n        if (e.which >= 112 && e.which <= 123) return;\n        isActive = that.$newElement.hasClass(classNames.SHOW);\n\n        if (!isActive && (isArrowKey || e.which >= 48 && e.which <= 57 || e.which >= 96 && e.which <= 105 || e.which >= 65 && e.which <= 90)) {\n          that.$button.trigger('click.bs.dropdown.data-api');\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n            return;\n          }\n        }\n\n        if (e.which === keyCodes.ESCAPE && isActive) {\n          e.preventDefault();\n          that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\n        }\n\n        if (isArrowKey) {\n          // if up or down\n          if (!$items.length) return;\n          liActive = that.selectpicker.main.elements[that.activeIndex];\n          index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\n\n          if (index !== -1) {\n            that.defocusItem(liActive);\n          }\n\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            if (index !== -1) index--;\n            if (index + position0 < 0) index += $items.length;\n\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\n              if (index === -1) index = $items.length - 1;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            index++;\n            if (index + position0 >= that.selectpicker.view.canHighlight.length) index = that.selectpicker.view.firstHighlightIndex;\n\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\n            }\n          }\n\n          e.preventDefault();\n          var liActiveIndex = position0 + index;\n\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            // scroll to bottom and highlight last option\n            if (position0 === 0 && index === $items.length - 1) {\n              that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\n              liActiveIndex = that.selectpicker.current.elements.length - 1;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - activeLi.height;\n              updateScroll = offset < scrollTop;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            // scroll to top and highlight first option\n            if (index === that.selectpicker.view.firstHighlightIndex) {\n              that.$menuInner[0].scrollTop = 0;\n              liActiveIndex = that.selectpicker.view.firstHighlightIndex;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n              updateScroll = offset > scrollTop;\n            }\n          }\n\n          liActive = that.selectpicker.current.elements[liActiveIndex];\n          that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\n          that.focusItem(liActive);\n          that.selectpicker.view.currentActive = liActive;\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            $this.trigger('focus');\n          }\n        } else if (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which) || e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory) {\n          var searchMatch,\n              matches = [],\n              keyHistory;\n          e.preventDefault();\n          that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\n          if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\n          that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\n          keyHistory = that.selectpicker.keydown.keyHistory; // if all letters are the same, set keyHistory to just the first character when searching\n\n          if (/^(.)\\1+$/.test(keyHistory)) {\n            keyHistory = keyHistory.charAt(0);\n          } // find matches\n\n\n          for (var i = 0; i < that.selectpicker.current.data.length; i++) {\n            var li = that.selectpicker.current.data[i],\n                hasMatch;\n            hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\n\n            if (hasMatch && that.selectpicker.view.canHighlight[i]) {\n              matches.push(li.index);\n            }\n          }\n\n          if (matches.length) {\n            var matchIndex = 0;\n            $items.removeClass('active').find('a').removeClass('active'); // either only one key has been pressed or they are all the same key\n\n            if (keyHistory.length === 1) {\n              matchIndex = matches.indexOf(that.activeIndex);\n\n              if (matchIndex === -1 || matchIndex === matches.length - 1) {\n                matchIndex = 0;\n              } else {\n                matchIndex++;\n              }\n            }\n\n            searchMatch = matches[matchIndex];\n            activeLi = that.selectpicker.main.data[searchMatch];\n\n            if (scrollTop - activeLi.position > 0) {\n              offset = activeLi.position - activeLi.height;\n              updateScroll = true;\n            } else {\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight; // if the option is already visible at the current scroll position, just keep it the same\n\n              updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\n            }\n\n            liActive = that.selectpicker.main.elements[searchMatch];\n            that.activeIndex = matches[matchIndex];\n            that.focusItem(liActive);\n            if (liActive) liActive.firstChild.focus();\n            if (updateScroll) that.$menuInner[0].scrollTop = offset;\n            $this.trigger('focus');\n          }\n        } // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n\n\n        if (isActive && (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory || e.which === keyCodes.ENTER || e.which === keyCodes.TAB && that.options.selectOnTab)) {\n          if (e.which !== keyCodes.SPACE) e.preventDefault();\n\n          if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\n            that.$menuInner.find('.active a').trigger('click', true); // retain active class\n\n            $this.trigger('focus');\n\n            if (!that.options.liveSearch) {\n              // Prevent screen from scrolling if the user hits the spacebar\n              e.preventDefault(); // Fixes spacebar selection of dropdown items in FF & IE\n\n              $(document).data('spaceSelect', true);\n            }\n          }\n        }\n      },\n      mobile: function () {\n        // ensure mobile is set to true if mobile function is called after init\n        this.options.mobile = true;\n        this.$element[0].classList.add('mobile-device');\n      },\n      refresh: function () {\n        // update options if data attributes have been changed\n        var config = $.extend({}, this.options, this.$element.data());\n        this.options = config;\n        this.checkDisabled();\n        this.buildData();\n        this.setStyle();\n        this.render();\n        this.buildList();\n        this.setWidth();\n        this.setSize(true);\n        this.$element.trigger('refreshed' + EVENT_KEY);\n      },\n      hide: function () {\n        this.$newElement.hide();\n      },\n      show: function () {\n        this.$newElement.show();\n      },\n      remove: function () {\n        this.$newElement.remove();\n        this.$element.remove();\n      },\n      destroy: function () {\n        this.$newElement.before(this.$element).remove();\n\n        if (this.$bsContainer) {\n          this.$bsContainer.remove();\n        } else {\n          this.$menu.remove();\n        }\n\n        if (this.selectpicker.view.titleOption && this.selectpicker.view.titleOption.parentNode) {\n          this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption);\n        }\n\n        this.$element.off(EVENT_KEY).removeData('selectpicker').removeClass('bs-select-hidden selectpicker');\n        $(window).off(EVENT_KEY + '.' + this.selectId);\n      }\n    }; // SELECTPICKER PLUGIN DEFINITION\n    // ==============================\n\n    function Plugin(option) {\n      // get the args of the outer function..\n      var args = arguments; // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n      // to get lost/corrupted in android 2.3 and IE9 #715 #775\n\n      var _option = option;\n      [].shift.apply(args); // if the version was not set successfully\n\n      if (!version.success) {\n        // try to retreive it again\n        try {\n          version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n        } catch (err) {\n          // fall back to use BootstrapVersion if set\n          if (Selectpicker.BootstrapVersion) {\n            version.full = Selectpicker.BootstrapVersion.split(' ')[0].split('.');\n          } else {\n            version.full = [version.major, '0', '0'];\n            console.warn('There was an issue retrieving Bootstrap\\'s version. ' + 'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' + 'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.', err);\n          }\n        }\n\n        version.major = version.full[0];\n        version.success = true;\n      }\n\n      if (version.major === '4') {\n        // some defaults need to be changed if using Bootstrap 4\n        // check to see if they have already been manually changed before forcing them to update\n        var toUpdate = [];\n        if (Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({\n          name: 'style',\n          className: 'BUTTONCLASS'\n        });\n        if (Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({\n          name: 'iconBase',\n          className: 'ICONBASE'\n        });\n        if (Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({\n          name: 'tickIcon',\n          className: 'TICKICON'\n        });\n        classNames.DIVIDER = 'dropdown-divider';\n        classNames.SHOW = 'show';\n        classNames.BUTTONCLASS = 'btn-light';\n        classNames.POPOVERHEADER = 'popover-header';\n        classNames.ICONBASE = '';\n        classNames.TICKICON = 'bs-ok-default';\n\n        for (var i = 0; i < toUpdate.length; i++) {\n          var option = toUpdate[i];\n          Selectpicker.DEFAULTS[option.name] = classNames[option.className];\n        }\n      }\n\n      var value;\n      var chain = this.each(function () {\n        var $this = $(this);\n\n        if ($this.is('select')) {\n          var data = $this.data('selectpicker'),\n              options = typeof _option == 'object' && _option;\n\n          if (!data) {\n            var dataAttributes = $this.data();\n\n            for (var dataAttr in dataAttributes) {\n              if (Object.prototype.hasOwnProperty.call(dataAttributes, dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\n                delete dataAttributes[dataAttr];\n              }\n            }\n\n            var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\n            config.template = $.extend({}, Selectpicker.DEFAULTS.template, $.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}, dataAttributes.template, options.template);\n            $this.data('selectpicker', data = new Selectpicker(this, config));\n          } else if (options) {\n            for (var i in options) {\n              if (Object.prototype.hasOwnProperty.call(options, i)) {\n                data.options[i] = options[i];\n              }\n            }\n          }\n\n          if (typeof _option == 'string') {\n            if (data[_option] instanceof Function) {\n              value = data[_option].apply(data, args);\n            } else {\n              value = data.options[_option];\n            }\n          }\n        }\n      });\n\n      if (typeof value !== 'undefined') {\n        // noinspection JSUnusedAssignment\n        return value;\n      } else {\n        return chain;\n      }\n    }\n\n    var old = $.fn.selectpicker;\n    $.fn.selectpicker = Plugin;\n    $.fn.selectpicker.Constructor = Selectpicker; // SELECTPICKER NO CONFLICT\n    // ========================\n\n    $.fn.selectpicker.noConflict = function () {\n      $.fn.selectpicker = old;\n      return this;\n    }; // get Bootstrap's keydown event handler for either Bootstrap 4 or Bootstrap 3\n\n\n    function keydownHandler() {\n      if ($.fn.dropdown) {\n        // wait to define until function is called in case Bootstrap isn't loaded yet\n        var bootstrapKeydown = $.fn.dropdown.Constructor._dataApiKeydownHandler || $.fn.dropdown.Constructor.prototype.keydown;\n        return bootstrapKeydown.apply(this, arguments);\n      }\n    }\n\n    $(document).off('keydown.bs.dropdown.data-api').on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > [data-toggle=\"dropdown\"]', keydownHandler).on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > .dropdown-menu', keydownHandler).on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', Selectpicker.prototype.keydown).on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\n      e.stopPropagation();\n    }); // SELECTPICKER DATA-API\n    // =====================\n\n    $(window).on('load' + EVENT_KEY + '.data-api', function () {\n      $('.selectpicker').each(function () {\n        var $selectpicker = $(this);\n        Plugin.call($selectpicker, $selectpicker.data());\n      });\n    });\n  })(jQuery);\n});","map":{"version":3,"sources":["../../js/bootstrap-select.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,GAAC,UAAS,CAAT,EAAa;AACZ;;AAEA,QAAI,qBAAqB,GAAG,CAAA,UAAA,EAAa,WAAb,EAA0B,YAA1B,CAA5B;AAEA,QAAI,QAAQ,GAAG,CACb,YADa,EAEb,MAFa,EAGb,MAHa,EAIb,UAJa,EAKb,UALa,EAMb,QANa,EAOb,KAPa,EAQb,YARa,CAAf;AAWA,QAAI,sBAAsB,GAAG,gBAA7B;AAEA,QAAI,gBAAgB,GAAG;AACrB;AACA,WAAK,CAAA,OAAA,EAAU,KAAV,EAAiB,IAAjB,EAAuB,MAAvB,EAA+B,MAA/B,EAAuC,UAAvC,EAAmD,OAAnD,EAA4D,sBAA5D,CAFgB;AAGrB,MAAA,CAAC,EAAE,CAAA,QAAA,EAAW,MAAX,EAAmB,OAAnB,EAA4B,KAA5B,CAHkB;AAIrB,MAAA,IAAI,EAAE,EAJe;AAKrB,MAAA,CAAC,EAAE,EALkB;AAMrB,MAAA,EAAE,EAAE,EANiB;AAOrB,MAAA,GAAG,EAAE,EAPgB;AAQrB,MAAA,IAAI,EAAE,EARe;AASrB,MAAA,GAAG,EAAE,EATgB;AAUrB,MAAA,EAAE,EAAE,EAViB;AAWrB,MAAA,EAAE,EAAE,EAXiB;AAYrB,MAAA,EAAE,EAAE,EAZiB;AAarB,MAAA,EAAE,EAAE,EAbiB;AAcrB,MAAA,EAAE,EAAE,EAdiB;AAerB,MAAA,EAAE,EAAE,EAfiB;AAgBrB,MAAA,EAAE,EAAE,EAhBiB;AAiBrB,MAAA,EAAE,EAAE,EAjBiB;AAkBrB,MAAA,CAAC,EAAE,EAlBkB;AAmBrB,MAAA,GAAG,EAAE,CAAA,KAAA,EAAQ,KAAR,EAAe,OAAf,EAAwB,OAAxB,EAAiC,QAAjC,CAnBgB;AAoBrB,MAAA,EAAE,EAAE,EApBiB;AAqBrB,MAAA,EAAE,EAAE,EArBiB;AAsBrB,MAAA,CAAC,EAAE,EAtBkB;AAuBrB,MAAA,GAAG,EAAE,EAvBgB;AAwBrB,MAAA,CAAC,EAAE,EAxBkB;AAyBrB,MAAA,KAAK,EAAE,EAzBc;AA0BrB,MAAA,IAAI,EAAE,EA1Be;AA2BrB,MAAA,GAAG,EAAE,EA3BgB;AA4BrB,MAAA,GAAG,EAAE,EA5BgB;AA6BrB,MAAA,MAAM,EAAE,EA7Ba;AA8BrB,MAAA,CAAC,EAAE,EA9BkB;AA+BrB,MAAA,EAAE,EAAE;AA/BiB,KAAvB;AAkCA;AACF;AACA;AACA;AACA;;AACE,QAAI,gBAAgB,GAAG,6DAAvB;AAEA;AACF;AACA;AACA;AACA;;AACE,QAAI,gBAAgB,GAAG,qIAAvB;;AAEA,aAAS,gBAAT,CAA2B,IAA3B,EAAiC,oBAAjC,EAAuD;AACrD,UAAI,QAAQ,GAAG,IAAI,CAAC,QAAL,CAAc,WAAd,EAAf;;AAEA,UAAG,CAAA,CAAG,OAAH,CAAW,QAAX,EAAqB,oBAArB,MAA+C,CAAC,CAAnD,EAAsD;AACpD,YAAG,CAAA,CAAG,OAAH,CAAW,QAAX,EAAqB,QAArB,MAAmC,CAAC,CAAvC,EAA0C;AACxC,iBAAO,OAAO,CAAC,IAAI,CAAC,SAAL,CAAe,KAAf,CAAqB,gBAArB,KAA0C,IAAI,CAAC,SAAL,CAAe,KAAf,CAAqB,gBAArB,CAA3C,CAAd;AACD;;AAED,eAAO,IAAP;AACD;;AAED,UAAI,MAAM,GAAG,CAAA,CAAE,oBAAF,CAAA,CAAwB,MAAxB,CAA+B,UAAU,KAAV,EAAiB,KAAjB,EAAwB;AAClE,eAAO,KAAK,YAAY,MAAxB;AACF,OAFa,CAAb,CAXqD,CAerD;;AACA,WAAK,IAAI,CAAC,GAAG,CAAR,EAAW,CAAC,GAAG,MAAM,CAAC,MAA3B,EAAmC,CAAC,GAAG,CAAvC,EAA0C,CAAC,EAA3C,EAA+C;AAC7C,YAAI,QAAQ,CAAC,KAAT,CAAe,MAAM,CAAC,CAAD,CAArB,CAAJ,EAA+B;AAC7B,iBAAO,IAAP;AACD;AACF;;AAED,aAAO,KAAP;AACD;;AAED,aAAS,YAAT,CAAuB,cAAvB,EAAuC,SAAvC,EAAkD,UAAlD,EAA8D;AAC5D,UAAI,UAAU,IAAI,OAAO,UAAP,KAAsB,UAAxC,EAAoD;AAClD,eAAO,UAAU,CAAC,cAAD,CAAjB;AACD;;AAED,UAAI,aAAa,GAAG,MAAM,CAAC,IAAP,CAAY,SAAZ,CAApB;;AAEA,WAAK,IAAI,CAAC,GAAG,CAAR,EAAW,GAAG,GAAG,cAAc,CAAC,MAArC,EAA6C,CAAC,GAAG,GAAjD,EAAsD,CAAC,EAAvD,EAA2D;AACzD,YAAI,QAAQ,GAAG,cAAc,CAAC,CAAD,CAAd,CAAkB,gBAAlB,CAAkC,GAAlC,CAAf;;AAEA,aAAK,IAAI,CAAC,GAAG,CAAR,EAAW,IAAI,GAAG,QAAQ,CAAC,MAAhC,EAAwC,CAAC,GAAG,IAA5C,EAAkD,CAAC,EAAnD,EAAuD;AACrD,cAAI,EAAE,GAAG,QAAQ,CAAC,CAAD,CAAjB;AACA,cAAI,MAAM,GAAG,EAAE,CAAC,QAAH,CAAY,WAAZ,EAAb;;AAEA,cAAI,aAAa,CAAC,OAAd,CAAsB,MAAtB,MAAkC,CAAC,CAAvC,EAA0C;AACxC,YAAA,EAAE,CAAC,UAAH,CAAc,WAAd,CAA0B,EAA1B;AAEA;AACD;;AAED,cAAI,aAAa,GAAG,GAAG,KAAH,CAAS,IAAT,CAAc,EAAE,CAAC,UAAjB,CAApB;AACA,cAAI,qBAAqB,GAAG,GAAG,MAAH,CAAU,SAAS,CAAA,GAAA,CAAT,IAAkB,EAA5B,EAAgC,SAAS,CAAC,MAAD,CAAT,IAAqB,EAArD,CAA5B;;AAEA,eAAK,IAAI,CAAC,GAAG,CAAR,EAAW,IAAI,GAAG,aAAa,CAAC,MAArC,EAA6C,CAAC,GAAG,IAAjD,EAAuD,CAAC,EAAxD,EAA4D;AAC1D,gBAAI,IAAI,GAAG,aAAa,CAAC,CAAD,CAAxB;;AAEA,gBAAG,CAAE,gBAAgB,CAAC,IAAD,EAAO,qBAAP,CAArB,EAAoD;AAClD,cAAA,EAAE,CAAC,eAAH,CAAmB,IAAI,CAAC,QAAxB;AACD;AACF;AACF;AACF;AACF,KA3HW,CA6HZ;AACA;;;AACA,QAAG,EAAA,eAAkB,QAAQ,CAAC,aAAT,CAAsB,GAAtB,CAAlB,CAAH,EAAmD;AAChD,iBAAU,IAAV,EAAgB;AACf,YAAG,EAAA,aAAgB,IAAhB,CAAH,EAA0B;;AAE1B,YAAI,aAAa,GAAG,WAApB;AAAA,YACI,SAAS,GAAG,WADhB;AAAA,YAEI,YAAY,GAAG,IAAI,CAAC,OAAL,CAAa,SAAb,CAFnB;AAAA,YAGI,MAAM,GAAG,MAHb;AAAA,YAII,eAAe,GAAG,YAAY;AAC5B,cAAI,KAAK,GAAG,CAAA,CAAE,IAAF,CAAZ;AAEA,iBAAO;AACL,YAAA,GAAG,EAAE,UAAU,OAAV,EAAmB;AACtB,cAAA,OAAO,GAAG,KAAK,CAAC,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,EAAsC,IAAtC,CAA0C,GAA1C,CAAV;AACA,qBAAO,KAAK,CAAC,QAAN,CAAe,OAAf,CAAP;AACF,aAJK;AAKL,YAAA,MAAM,EAAE,UAAU,OAAV,EAAmB;AACzB,cAAA,OAAO,GAAG,KAAK,CAAC,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,EAAsC,IAAtC,CAA0C,GAA1C,CAAV;AACA,qBAAO,KAAK,CAAC,WAAN,CAAkB,OAAlB,CAAP;AACF,aARK;AASL,YAAA,MAAM,EAAE,UAAU,OAAV,EAAmB,KAAnB,EAA0B;AAChC,qBAAO,KAAK,CAAC,WAAN,CAAkB,OAAlB,EAA2B,KAA3B,CAAP;AACF,aAXK;AAYL,YAAA,QAAQ,EAAE,UAAU,OAAV,EAAmB;AAC3B,qBAAO,KAAK,CAAC,QAAN,CAAe,OAAf,CAAP;AACD;AAdI,WAAP;AAgBF,SAvBJ;;AAyBA,YAAI,MAAM,CAAC,cAAX,EAA2B;AACzB,cAAI,iBAAiB,GAAG;AACtB,YAAA,GAAG,EAAE,eADiB;AAEtB,YAAA,UAAU,EAAE,IAFU;AAGtB,YAAA,YAAY,EAAE;AAHQ,WAAxB;;AAKA,cAAI;AACF,YAAA,MAAM,CAAC,cAAP,CAAsB,YAAtB,EAAoC,aAApC,EAAmD,iBAAnD;AACD,WAFD,CAEE,OAAO,EAAP,EAAW;AAAE;AACb;AACA;AACA,gBAAI,EAAE,CAAC,MAAH,KAAc,SAAd,IAA2B,EAAE,CAAC,MAAH,KAAc,CAAC,UAA9C,EAA0D;AACxD,cAAA,iBAAiB,CAAC,UAAlB,GAA+B,KAA/B;AACA,cAAA,MAAM,CAAC,cAAP,CAAsB,YAAtB,EAAoC,aAApC,EAAmD,iBAAnD;AACD;AACF;AACF,SAhBD,MAgBO,IAAI,MAAM,CAAC,SAAD,CAAN,CAAkB,gBAAtB,EAAwC;AAC7C,UAAA,YAAY,CAAC,gBAAb,CAA8B,aAA9B,EAA6C,eAA7C;AACD;AACH,OA/CC,EA+CC,MA/CD,CAAD;AAgDD;;AAED,QAAI,WAAW,GAAG,QAAQ,CAAC,aAAT,CAAsB,GAAtB,CAAlB;AAEA,IAAA,WAAW,CAAC,SAAZ,CAAsB,GAAtB,CAAyB,IAAzB,EAAgC,IAAhC;;AAEA,QAAG,CAAE,WAAW,CAAC,SAAZ,CAAsB,QAAtB,CAA8B,IAA9B,CAAL,EAA2C;AACzC,UAAI,IAAI,GAAG,YAAY,CAAC,SAAb,CAAuB,GAAlC;AAAA,UACI,OAAO,GAAG,YAAY,CAAC,SAAb,CAAuB,MADrC;;AAGA,MAAA,YAAY,CAAC,SAAb,CAAuB,GAAvB,GAA6B,YAAY;AACvC,QAAA,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,SAA7B,EAAwC,IAAI,CAAC,IAAL,CAAU,IAAV,CAAxC;AACD,OAFD;;AAIA,MAAA,YAAY,CAAC,SAAb,CAAuB,MAAvB,GAAgC,YAAY;AAC1C,QAAA,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,SAA7B,EAAwC,OAAO,CAAC,IAAR,CAAa,IAAb,CAAxC;AACD,OAFD;AAGD;;AAED,IAAA,WAAW,CAAC,SAAZ,CAAsB,MAAtB,CAA4B,IAA5B,EAAmC,KAAnC,EAnMY,CAqMZ;AACA;;AACA,QAAI,WAAW,CAAC,SAAZ,CAAsB,QAAtB,CAA8B,IAA9B,CAAJ,EAA0C;AACxC,UAAI,OAAO,GAAG,YAAY,CAAC,SAAb,CAAuB,MAArC;;AAEA,MAAA,YAAY,CAAC,SAAb,CAAuB,MAAvB,GAAgC,UAAU,KAAV,EAAiB,KAAjB,EAAwB;AACtD,YAAI,KAAK,SAAL,IAAkB,CAAC,KAAK,QAAL,CAAc,KAAd,CAAD,KAA0B,CAAC,KAAjD,EAAwD;AACtD,iBAAO,KAAP;AACD,SAFD,MAEO;AACL,iBAAO,OAAO,CAAC,IAAR,CAAa,IAAb,EAAmB,KAAnB,CAAP;AACD;AACH,OANA;AAOD;;AAED,IAAA,WAAW,GAAG,IAAd,CAnNY,CAqNZ;;AACA,aAAS,OAAT,CAAkB,MAAlB,EAA0B,MAA1B,EAAkC;AAChC,aAAO,MAAM,CAAC,MAAP,KAAkB,MAAM,CAAC,MAAzB,IAAmC,MAAM,CAAC,KAAP,CAAa,UAAU,OAAV,EAAmB,KAAnB,EAA0B;AAC/E,eAAO,OAAO,KAAK,MAAM,CAAC,KAAD,CAAzB;AACF,OAF0C,CAA1C;AAGF;;AAAA,KA1NY,CA4NZ;;AACA,QAAG,CAAE,MAAM,CAAC,SAAP,CAAiB,UAAtB,EAAkC;AAC/B,mBAAY;AACX,qBADW,CACG;;AACd,YAAI,cAAc,GAAI,YAAY;AAChC;AACA,cAAI;AACF,gBAAI,MAAM,GAAG,EAAb;AACA,gBAAI,eAAe,GAAG,MAAM,CAAC,cAA7B;AACA,gBAAI,MAAM,GAAG,eAAe,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,CAAf,IAA2C,eAAxD;AACD,WAJD,CAIE,OAAO,KAAP,EAAc,CACf;;AACD,iBAAO,MAAP;AACF,SATsB,EAAtB;;AAUA,YAAI,QAAQ,GAAG,GAAG,QAAlB;;AACA,YAAI,UAAU,GAAG,UAAU,MAAV,EAAkB;AACjC,cAAI,QAAQ,IAAZ,EAAkB;AAChB,kBAAM,IAAI,SAAJ,EAAN;AACD;;AACD,cAAI,MAAM,GAAG,MAAM,CAAC,IAAD,CAAnB;;AACA,cAAI,MAAM,IAAI,QAAQ,CAAC,IAAT,CAAc,MAAd,KAAyB,iBAAvC,EAA0D;AACxD,kBAAM,IAAI,SAAJ,EAAN;AACD;;AACD,cAAI,YAAY,GAAG,MAAM,CAAC,MAA1B;AACA,cAAI,YAAY,GAAG,MAAM,CAAC,MAAD,CAAzB;AACA,cAAI,YAAY,GAAG,YAAY,CAAC,MAAhC;AACA,cAAI,QAAQ,GAAG,SAAS,CAAC,MAAV,GAAmB,CAAnB,GAAuB,SAAS,CAAC,CAAD,CAAhC,GAAsC,SAArD,CAXiC,CAYjC;;AACA,cAAI,GAAG,GAAG,QAAQ,GAAG,MAAM,CAAC,QAAD,CAAT,GAAsB,CAAxC;;AACA,cAAI,GAAG,IAAI,GAAX,EAAgB;AAAE;AAChB,YAAA,GAAG,GAAG,CAAN;AACD;;AACD,cAAI,KAAK,GAAG,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,GAAL,CAAS,GAAT,EAAc,CAAd,CAAT,EAA2B,YAA3B,CAAZ,CAjBiC,CAkBjC;;AACA,cAAI,YAAY,GAAG,KAAf,GAAuB,YAA3B,EAAyC;AACvC,mBAAO,KAAP;AACD;;AACD,cAAI,KAAK,GAAG,CAAC,CAAb;;AACA,iBAAM,EAAG,KAAH,GAAW,YAAjB,EAA+B;AAC7B,gBAAI,MAAM,CAAC,UAAP,CAAkB,KAAK,GAAG,KAA1B,KAAoC,YAAY,CAAC,UAAb,CAAwB,KAAxB,CAAxC,EAAwE;AACtE,qBAAO,KAAP;AACD;AACF;;AACD,iBAAO,IAAP;AACF,SA7BA;;AA8BA,YAAI,cAAJ,EAAoB;AAClB,UAAA,cAAc,CAAC,MAAM,CAAC,SAAR,EAAmB,YAAnB,EAAiC;AAC7C,qBAAS,UADoC;AAE7C,4BAAgB,IAF6B;AAG7C,wBAAY;AAHiC,WAAjC,CAAd;AAKD,SAND,MAMO;AACL,UAAA,MAAM,CAAC,SAAP,CAAiB,UAAjB,GAA8B,UAA9B;AACD;AACH,OApDC,GAAD;AAqDD;;AAED,QAAG,CAAE,MAAM,CAAC,IAAZ,EAAkB;AAChB,MAAA,MAAM,CAAC,IAAP,GAAc,UACZ,CADY,EACT;AACH,MAAA,CAFY,EAET;AACH,MAAA,CAHY,CAGT;AAHS,QAIZ;AACA;AACA,QAAA,CAAC,GAAG,EAAJ,CAFA,CAGA;;AACA,aAAK,CAAL,IAAU,CAAV,EAAa;AACX;AACA,UAAA,CAAC,CAAC,cAAF,CAAiB,IAAjB,CAAsB,CAAtB,EAAyB,CAAzB,KAA+B,CAAC,CAAC,IAAF,CAAO,CAAP,CAA/B;AACD,SAPD,CAQA;;;AACA,eAAO,CAAP;AACF,OAdA;AAeD;;AAED,QAAI,iBAAiB,IAAI,CAAC,iBAAiB,CAAC,SAAlB,CAA4B,cAA5B,CAA0C,iBAA1C,CAA1B,EAAyF;AACvF,MAAA,MAAM,CAAC,cAAP,CAAsB,iBAAiB,CAAC,SAAxC,EAAmD,iBAAnD,EAAsE;AACpE,QAAA,GAAG,EAAE,YAAY;AACf,iBAAO,KAAK,gBAAL,CAAqB,UAArB,CAAP;AACD;AAHmE,OAAtE;AAKD;;AAED,aAAS,kBAAT,CAA6B,MAA7B,EAAqC,cAArC,EAAqD;AACnD,UAAI,eAAe,GAAG,MAAM,CAAC,eAA7B;AAAA,UACI,OAAO,GAAG,EADd;AAAA,UAEI,GAFJ;;AAIA,UAAI,cAAJ,EAAoB;AAClB,aAAK,IAAI,CAAC,GAAG,CAAR,EAAW,GAAG,GAAG,eAAe,CAAC,MAAtC,EAA8C,CAAC,GAAG,GAAlD,EAAuD,CAAC,EAAxD,EAA4D;AAC1D,UAAA,GAAG,GAAG,eAAe,CAAC,CAAD,CAArB;;AAEA,cAAG,EAAG,GAAG,CAAC,QAAJ,IAAgB,GAAG,CAAC,UAAJ,CAAe,OAAf,KAA2B,UAA3B,IAAyC,GAAG,CAAC,UAAJ,CAAe,QAA3E,CAAH,EAAyF;AACvF,YAAA,OAAO,CAAC,IAAR,CAAa,GAAb;AACD;AACF;;AAED,eAAO,OAAP;AACD;;AAED,aAAO,eAAP;AACD,KAjUW,CAmUZ;;;AACA,aAAS,eAAT,CAA0B,MAA1B,EAAkC,eAAlC,EAAmD;AACjD,UAAI,KAAK,GAAG,EAAZ;AAAA,UACI,OAAO,GAAG,eAAe,IAAI,MAAM,CAAC,eADxC;AAAA,UAEI,GAFJ;;AAIA,WAAK,IAAI,CAAC,GAAG,CAAR,EAAW,GAAG,GAAG,OAAO,CAAC,MAA9B,EAAsC,CAAC,GAAG,GAA1C,EAA+C,CAAC,EAAhD,EAAoD;AAClD,QAAA,GAAG,GAAG,OAAO,CAAC,CAAD,CAAb;;AAEA,YAAG,EAAG,GAAG,CAAC,QAAJ,IAAgB,GAAG,CAAC,UAAJ,CAAe,OAAf,KAA2B,UAA3B,IAAyC,GAAG,CAAC,UAAJ,CAAe,QAA3E,CAAH,EAAyF;AACvF,UAAA,KAAK,CAAC,IAAN,CAAW,GAAG,CAAC,KAAf;AACD;AACF;;AAED,UAAG,CAAE,MAAM,CAAC,QAAZ,EAAsB;AACpB,eAAO,CAAC,KAAK,CAAC,MAAP,GAAgB,IAAhB,GAAuB,KAAK,CAAC,CAAD,CAAnC;AACD;;AAED,aAAO,KAAP;AACD,KAtVW,CAwVZ;AACA;AACA;;;AACA,QAAI,QAAQ,GAAG;AACb,MAAA,UAAU,EAAE,KADC;AAEb,MAAA,IAAI,EAAE,CAAA,CAAE,QAAF,CAAW,MAAX,CAAkB;AAFX,KAAf;;AAKA,IAAA,CAAA,CAAE,QAAF,CAAW,MAAX,CAAkB,GAAlB,GAAwB,UAAU,IAAV,EAAgB,KAAhB,EAAuB;AAC7C,UAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAvB,EAAmC,CAAA,CAAE,IAAF,CAAA,CAAQ,IAAR,CAAY,UAAZ,EAAyB,IAAzB;AAEnC,aAAO,QAAQ,CAAC,IAAT,CAAc,KAAd,CAAoB,IAApB,EAA0B,SAA1B,CAAP;AACF,KAJA;;AAMA,QAAI,gBAAgB,GAAG,IAAvB;;AAEA,QAAI,gBAAgB,GAAI,YAAY;AAClC,UAAI;AACF,YAAI,KAAJ,CAAS,QAAT;AACA,eAAO,IAAP;AACD,OAHD,CAGE,OAAO,CAAP,EAAU;AACV,eAAO,KAAP;AACD;AACH,KAPuB,EAAvB;;AASA,IAAA,CAAA,CAAE,EAAF,CAAK,aAAL,GAAqB,UAAU,SAAV,EAAqB;AACxC,UAAI,EAAE,GAAG,KAAK,CAAL,CAAT;AAAA,UACI,KADJ;;AAGA,UAAI,EAAE,CAAC,aAAP,EAAsB;AAAE;AACtB,YAAI,gBAAJ,EAAsB;AACpB;AACA,UAAA,KAAK,GAAG,IAAI,KAAJ,CAAU,SAAV,EAAqB;AAC3B,YAAA,OAAO,EAAE;AADkB,WAArB,CAAR;AAGD,SALD,MAKO;AACL;AACA,UAAA,KAAK,GAAG,QAAQ,CAAC,WAAT,CAAoB,OAApB,CAAR;AACA,UAAA,KAAK,CAAC,SAAN,CAAgB,SAAhB,EAA2B,IAA3B,EAAiC,KAAjC;AACD;;AAED,QAAA,EAAE,CAAC,aAAH,CAAiB,KAAjB;AACD,OAbD,MAaO,IAAI,EAAE,CAAC,SAAP,EAAkB;AAAE;AACzB,QAAA,KAAK,GAAG,QAAQ,CAAC,iBAAT,EAAR;AACA,QAAA,KAAK,CAAC,SAAN,GAAkB,SAAlB;AACA,QAAA,EAAE,CAAC,SAAH,CAAY,OAAQ,SAApB,EAA+B,KAA/B;AACD,OAJM,MAIA;AACL;AACA,aAAK,OAAL,CAAa,SAAb;AACD;AACH,KAzBA,CAjXY,CA2YZ;;;AAEA,aAAS,YAAT,CAAuB,EAAvB,EAA2B,YAA3B,EAAyC,MAAzC,EAAiD,SAAjD,EAA4D;AAC1D,UAAI,WAAW,GAAG,CACZ,SADY,EAEZ,SAFY,EAGZ,QAHY,CAAlB;AAAA,UAKI,aAAa,GAAG,KALpB;;AAOA,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,WAAW,CAAC,MAAhC,EAAwC,CAAC,EAAzC,EAA6C;AAC3C,YAAI,UAAU,GAAG,WAAW,CAAC,CAAD,CAA5B;AAAA,YACI,MAAM,GAAG,EAAE,CAAC,UAAD,CADf;;AAGA,YAAI,MAAJ,EAAY;AACV,UAAA,MAAM,GAAG,MAAM,CAAC,QAAP,EAAT,CADU,CAGV;;AACA,cAAI,UAAU,KAAK,SAAnB,EAA8B;AAC5B,YAAA,MAAM,GAAG,MAAM,CAAC,OAAP,CAAc,UAAd,EAA2B,EAA3B,CAAT;AACD;;AAED,cAAI,SAAJ,EAAe,MAAM,GAAG,eAAe,CAAC,MAAD,CAAxB;AACf,UAAA,MAAM,GAAG,MAAM,CAAC,WAAP,EAAT;;AAEA,cAAI,MAAM,KAAK,UAAf,EAA2B;AACzB,YAAA,aAAa,GAAG,MAAM,CAAC,OAAP,CAAe,YAAf,KAAgC,CAAhD;AACD,WAFD,MAEO;AACL,YAAA,aAAa,GAAG,MAAM,CAAC,UAAP,CAAkB,YAAlB,CAAhB;AACD;;AAED,cAAI,aAAJ,EAAmB;AACpB;AACF;;AAED,aAAO,aAAP;AACD;;AAED,aAAS,SAAT,CAAoB,KAApB,EAA2B;AACzB,aAAO,QAAQ,CAAC,KAAD,EAAQ,EAAR,CAAR,IAAuB,CAA9B;AACD,KAnbW,CAqbZ;;AACA;;;AACA,QAAI,eAAe,GAAG;AACpB;AACA,cAAQ,GAFY;AAEN,cAAQ,GAFF;AAEO,cAAQ,GAFf;AAEoB,cAAQ,GAF5B;AAEiC,cAAQ,GAFzC;AAE8C,cAAQ,GAFtD;AAGpB,cAAQ,GAHY;AAGN,cAAQ,GAHF;AAGO,cAAQ,GAHf;AAGoB,cAAQ,GAH5B;AAGiC,cAAQ,GAHzC;AAG8C,cAAQ,GAHtD;AAIpB,cAAQ,GAJY;AAIN,cAAQ,GAJF;AAKpB,cAAQ,GALY;AAKN,cAAQ,GALF;AAMpB,cAAQ,GANY;AAMN,cAAQ,GANF;AAMO,cAAQ,GANf;AAMoB,cAAQ,GAN5B;AAOpB,cAAQ,GAPY;AAON,cAAQ,GAPF;AAOO,cAAQ,GAPf;AAOoB,cAAQ,GAP5B;AAQpB,cAAQ,GARY;AAQN,cAAQ,GARF;AAQO,cAAQ,GARf;AAQoB,cAAQ,GAR5B;AASpB,cAAQ,GATY;AASN,cAAQ,GATF;AASO,cAAQ,GATf;AASoB,cAAQ,GAT5B;AAUpB,cAAQ,GAVY;AAUN,cAAQ,GAVF;AAWpB,cAAQ,GAXY;AAWN,cAAQ,GAXF;AAWO,cAAQ,GAXf;AAWoB,cAAQ,GAX5B;AAWiC,cAAQ,GAXzC;AAW8C,cAAQ,GAXtD;AAYpB,cAAQ,GAZY;AAYN,cAAQ,GAZF;AAYO,cAAQ,GAZf;AAYoB,cAAQ,GAZ5B;AAYiC,cAAQ,GAZzC;AAY8C,cAAQ,GAZtD;AAapB,cAAQ,GAbY;AAaN,cAAQ,GAbF;AAaO,cAAQ,GAbf;AAaoB,cAAQ,GAb5B;AAcpB,cAAQ,GAdY;AAcN,cAAQ,GAdF;AAcO,cAAQ,GAdf;AAcoB,cAAQ,GAd5B;AAepB,cAAQ,GAfY;AAeN,cAAQ,GAfF;AAeO,cAAQ,GAff;AAgBpB,cAAQ,IAhBY;AAgBN,cAAQ,IAhBF;AAiBpB,cAAQ,IAjBY;AAiBN,cAAQ,IAjBF;AAkBpB,cAAQ,IAlBY;AAmBpB;AACA,gBAAU,GApBU;AAoBJ,gBAAU,GApBN;AAoBW,gBAAU,GApBrB;AAqBpB,gBAAU,GArBU;AAqBJ,gBAAU,GArBN;AAqBW,gBAAU,GArBrB;AAsBpB,gBAAU,GAtBU;AAsBJ,gBAAU,GAtBN;AAsBW,gBAAU,GAtBrB;AAsB0B,gBAAU,GAtBpC;AAuBpB,gBAAU,GAvBU;AAuBJ,gBAAU,GAvBN;AAuBW,gBAAU,GAvBrB;AAuB0B,gBAAU,GAvBpC;AAwBpB,gBAAU,GAxBU;AAwBJ,gBAAU,GAxBN;AAwBW,gBAAU,GAxBrB;AAwB0B,gBAAU,GAxBpC;AAyBpB,gBAAU,GAzBU;AAyBJ,gBAAU,GAzBN;AAyBW,gBAAU,GAzBrB;AAyB0B,gBAAU,GAzBpC;AAyByC,gBAAU,GAzBnD;AA0BpB,gBAAU,GA1BU;AA0BJ,gBAAU,GA1BN;AA0BW,gBAAU,GA1BrB;AA0B0B,gBAAU,GA1BpC;AA0ByC,gBAAU,GA1BnD;AA2BpB,gBAAU,GA3BU;AA2BJ,gBAAU,GA3BN;AA2BW,gBAAU,GA3BrB;AA2B0B,gBAAU,GA3BpC;AA4BpB,gBAAU,GA5BU;AA4BJ,gBAAU,GA5BN;AA4BW,gBAAU,GA5BrB;AA4B0B,gBAAU,GA5BpC;AA6BpB,gBAAU,GA7BU;AA6BJ,gBAAU,GA7BN;AA6BW,gBAAU,GA7BrB;AA6B0B,gBAAU,GA7BpC;AA8BpB,gBAAU,GA9BU;AA8BJ,gBAAU,GA9BN;AA8BW,gBAAU,GA9BrB;AA8B0B,gBAAU,GA9BpC;AA8ByC,gBAAU,GA9BnD;AA+BpB,gBAAU,GA/BU;AA+BJ,gBAAU,GA/BN;AA+BW,gBAAU,GA/BrB;AA+B0B,gBAAU,GA/BpC;AA+ByC,gBAAU,GA/BnD;AAgCpB,gBAAU,GAhCU;AAgCJ,gBAAU,GAhCN;AAiCpB,gBAAU,GAjCU;AAiCJ,gBAAU,GAjCN;AAiCW,gBAAU,GAjCrB;AAkCpB,gBAAU,GAlCU;AAkCJ,gBAAU,GAlCN;AAkCW,gBAAU,GAlCrB;AAkC0B,gBAAU,GAlCpC;AAkCyC,gBAAU,GAlCnD;AAmCpB,gBAAU,GAnCU;AAmCJ,gBAAU,GAnCN;AAmCW,gBAAU,GAnCrB;AAmC0B,gBAAU,GAnCpC;AAmCyC,gBAAU,GAnCnD;AAoCpB,gBAAU,GApCU;AAoCJ,gBAAU,GApCN;AAoCW,gBAAU,GApCrB;AAoC0B,gBAAU,GApCpC;AAqCpB,gBAAU,GArCU;AAqCJ,gBAAU,GArCN;AAqCW,gBAAU,GArCrB;AAqC0B,gBAAU,GArCpC;AAsCpB,gBAAU,GAtCU;AAsCJ,gBAAU,GAtCN;AAsCW,gBAAU,GAtCrB;AAuCpB,gBAAU,GAvCU;AAuCJ,gBAAU,GAvCN;AAuCW,gBAAU,GAvCrB;AAwCpB,gBAAU,GAxCU;AAwCJ,gBAAU,GAxCN;AAwCW,gBAAU,GAxCrB;AAyCpB,gBAAU,GAzCU;AAyCJ,gBAAU,GAzCN;AAyCW,gBAAU,GAzCrB;AA0CpB,gBAAU,GA1CU;AA0CJ,gBAAU,GA1CN;AA0CW,gBAAU,GA1CrB;AA0C0B,gBAAU,GA1CpC;AA2CpB,gBAAU,GA3CU;AA2CJ,gBAAU,GA3CN;AA2CW,gBAAU,GA3CrB;AA2C0B,gBAAU,GA3CpC;AA4CpB,gBAAU,GA5CU;AA4CJ,gBAAU,GA5CN;AA4CW,gBAAU,GA5CrB;AA6CpB,gBAAU,GA7CU;AA6CJ,gBAAU,GA7CN;AA6CW,gBAAU,GA7CrB;AA8CpB,gBAAU,GA9CU;AA8CJ,gBAAU,GA9CN;AA8CW,gBAAU,GA9CrB;AA8C0B,gBAAU,GA9CpC;AA8CyC,gBAAU,GA9CnD;AA8CwD,gBAAU,GA9ClE;AA+CpB,gBAAU,GA/CU;AA+CJ,gBAAU,GA/CN;AA+CW,gBAAU,GA/CrB;AA+C0B,gBAAU,GA/CpC;AA+CyC,gBAAU,GA/CnD;AA+CwD,gBAAU,GA/ClE;AAgDpB,gBAAU,GAhDU;AAgDJ,gBAAU,GAhDN;AAiDpB,gBAAU,GAjDU;AAiDJ,gBAAU,GAjDN;AAiDW,gBAAU,GAjDrB;AAkDpB,gBAAU,GAlDU;AAkDJ,gBAAU,GAlDN;AAkDW,gBAAU,GAlDrB;AAmDpB,gBAAU,GAnDU;AAmDJ,gBAAU,GAnDN;AAmDW,gBAAU,GAnDrB;AAoDpB,gBAAU,IApDU;AAoDJ,gBAAU,IApDN;AAqDpB,gBAAU,IArDU;AAqDJ,gBAAU,IArDN;AAsDpB,gBAAU,IAtDU;AAsDJ,gBAAU;AAtDN,KAAtB;AAyDA;;AACA,QAAI,OAAO,GAAG,6CAAd;AAEA;;AACA,QAAI,iBAAiB,GAAG,iBAAxB;AAAA,QACI,qBAAqB,GAAG,iBAD5B;AAAA,QAEI,mBAAmB,GAAG,iBAF1B;AAAA,QAGI,yBAAyB,GAAG,iBAHhC;AAAA,QAII,2BAA2B,GAAG,iBAJlC;AAAA,QAKI,YAAY,GAAG,iBAAiB,GAAG,qBAApB,GAA4C,mBAA5C,GAAkE,yBAAlE,GAA8F,2BALjH;AAOA;;AACA,QAAI,OAAO,GAAG,MAAM,YAAN,GAAqB,GAAnC;AAEA;AACF;AACA;AACA;;AACE,QAAI,WAAW,GAAG,MAAM,CAAC,OAAD,EAAU,GAAV,CAAxB;;AAEA,aAAS,YAAT,CAAuB,GAAvB,EAA4B;AAC1B,aAAO,eAAe,CAAC,GAAD,CAAtB;AACF;;AAAA;;AAEA,aAAS,eAAT,CAA0B,MAA1B,EAAkC;AAChC,MAAA,MAAM,GAAG,MAAM,CAAC,QAAP,EAAT;AACA,aAAO,MAAM,IAAI,MAAM,CAAC,OAAP,CAAe,OAAf,EAAwB,YAAxB,EAAsC,OAAtC,CAA8C,WAA9C,EAA2D,EAA3D,CAAjB;AACD,KA3gBW,CA6gBZ;;;AACA,QAAI,SAAS,GAAG;AACd,WAAK,OADS;AAEd,WAAK,MAFS;AAGd,WAAK,MAHS;AAId,WAAK,QAJS;AAKd,WAAK,QALS;AAMd,WAAK;AANS,KAAhB,CA9gBY,CAuhBZ;;AACA,QAAI,aAAa,GAAG,UAAU,GAAV,EAAe;AACjC,UAAI,OAAO,GAAG,UAAU,KAAV,EAAiB;AAC7B,eAAO,GAAG,CAAC,KAAD,CAAV;AACF,OAFA,CADiC,CAIjC;;;AACA,UAAI,MAAM,GAAG,QAAQ,MAAM,CAAC,IAAP,CAAY,GAAZ,EAAiB,IAAjB,CAAqB,GAArB,CAAR,GAAqC,GAAlD;AACA,UAAI,UAAU,GAAG,MAAM,CAAC,MAAD,CAAvB;AACA,UAAI,aAAa,GAAG,MAAM,CAAC,MAAD,EAAS,GAAT,CAA1B;AACA,aAAO,UAAU,MAAV,EAAkB;AACvB,QAAA,MAAM,GAAG,MAAM,IAAI,IAAV,GAAiB,EAAjB,GAAsB,KAAK,MAApC;AACA,eAAO,UAAU,CAAC,IAAX,CAAgB,MAAhB,IAA0B,MAAM,CAAC,OAAP,CAAe,aAAf,EAA8B,OAA9B,CAA1B,GAAmE,MAA1E;AACF,OAHA;AAIF,KAZA;;AAcA,QAAI,UAAU,GAAG,aAAa,CAAC,SAAD,CAA9B;AAEA;AACF;AACA;AACA;AACA;;AAEE,QAAI,UAAU,GAAG;AACf,UAAI,GADW;AAEf,UAAI,GAFW;AAGf,UAAI,GAHW;AAIf,UAAI,GAJW;AAKf,UAAI,GALW;AAMf,UAAI,GANW;AAOf,UAAI,GAPW;AAQf,UAAI,GARW;AASf,UAAI,GATW;AAUf,UAAI,GAVW;AAWf,UAAI,GAXW;AAYf,UAAI,GAZW;AAaf,UAAI,GAbW;AAcf,UAAI,GAdW;AAef,UAAI,GAfW;AAgBf,UAAI,GAhBW;AAiBf,UAAI,GAjBW;AAkBf,UAAI,GAlBW;AAmBf,UAAI,GAnBW;AAoBf,UAAI,GApBW;AAqBf,UAAI,GArBW;AAsBf,UAAI,GAtBW;AAuBf,UAAI,GAvBW;AAwBf,UAAI,GAxBW;AAyBf,UAAI,GAzBW;AA0Bf,UAAI,GA1BW;AA2Bf,UAAI,GA3BW;AA4Bf,UAAI,GA5BW;AA6Bf,UAAI,GA7BW;AA8Bf,UAAI,GA9BW;AA+Bf,UAAI,GA/BW;AAgCf,UAAI,GAhCW;AAiCf,UAAI,GAjCW;AAkCf,UAAI,GAlCW;AAmCf,UAAI,GAnCW;AAoCf,UAAI,GApCW;AAqCf,UAAI,GArCW;AAsCf,UAAI,GAtCW;AAuCf,UAAI,GAvCW;AAwCf,UAAI,GAxCW;AAyCf,UAAI,GAzCW;AA0Cf,UAAI,GA1CW;AA2Cf,WAAK,GA3CU;AA4Cf,WAAK,GA5CU;AA6Cf,WAAK,GA7CU;AA8Cf,WAAK,GA9CU;AA+Cf,WAAK,GA/CU;AAgDf,WAAK;AAhDU,KAAjB;AAmDA,QAAI,QAAQ,GAAG;AACb,MAAA,MAAM,EAAE,EADK;AACD;AACZ,MAAA,KAAK,EAAE,EAFM;AAEF;AACX,MAAA,KAAK,EAAE,EAHM;AAGF;AACX,MAAA,GAAG,EAAE,CAJQ;AAIL;AACR,MAAA,QAAQ,EAAE,EALG;AAKC;AACd,MAAA,UAAU,EAAE,EANC,CAME;;AANF,KAAf;AASA,QAAI,OAAO,GAAG;AACZ,MAAA,OAAO,EAAE,KADG;AAEZ,MAAA,KAAK,EAAE;AAFK,KAAd;;AAKA,QAAI;AACF,MAAA,OAAO,CAAC,IAAR,GAAe,CAAA,CAAA,CAAG,EAAH,CAAM,QAAN,CAAe,WAAf,CAA2B,OAA3B,IAAsC,EAAtC,EAA0C,KAA1C,CAA+C,GAA/C,EAAqD,CAArD,EAAwD,KAAxD,CAA6D,GAA7D,CAAf;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,IAAR,CAAa,CAAb,CAAhB;AACA,MAAA,OAAO,CAAC,OAAR,GAAkB,IAAlB;AACD,KAJD,CAIE,OAAO,GAAP,EAAY,CACZ;AACD;;AAED,QAAI,QAAQ,GAAG,CAAf;AAEA,QAAI,SAAS,GAAG,YAAhB;AAEA,QAAI,UAAU,GAAG;AACf,MAAA,QAAQ,EAAE,UADK;AAEf,MAAA,OAAO,EAAE,SAFM;AAGf,MAAA,IAAI,EAAE,MAHS;AAIf,MAAA,MAAM,EAAE,QAJO;AAKf,MAAA,IAAI,EAAE,eALS;AAMf,MAAA,SAAS,EAAE,qBANI;AAOf,MAAA,QAAQ,EAAE,oBAPK;AAQf;AACA,MAAA,WAAW,EAAE,aATE;AAUf,MAAA,aAAa,EAAE,eAVA;AAWf,MAAA,QAAQ,EAAE,WAXK;AAYf,MAAA,QAAQ,EAAE;AAZK,KAAjB;AAeA,QAAI,QAAQ,GAAG;AACb,MAAA,IAAI,EAAE,MAAM,UAAU,CAAC;AADV,KAAf;AAIA,QAAI,gBAAgB,GAAG;AACrB,MAAA,GAAG,EAAE,QAAQ,CAAC,aAAT,CAAsB,KAAtB,CADgB;AAErB,MAAA,IAAI,EAAE,QAAQ,CAAC,aAAT,CAAsB,MAAtB,CAFe;AAGrB,MAAA,CAAC,EAAE,QAAQ,CAAC,aAAT,CAAsB,GAAtB,CAHkB;AAIrB,MAAA,OAAO,EAAE,QAAQ,CAAC,aAAT,CAAsB,OAAtB,CAJY;AAKrB,MAAA,CAAC,EAAE,QAAQ,CAAC,aAAT,CAAsB,GAAtB,CALkB;AAMrB,MAAA,EAAE,EAAE,QAAQ,CAAC,aAAT,CAAsB,IAAtB,CANiB;AAOrB,MAAA,UAAU,EAAE,QAAQ,CAAC,cAAT,CAAuB,QAAvB,CAPS;AAQrB,MAAA,QAAQ,EAAE,QAAQ,CAAC,sBAAT;AARW,KAAvB;AAWA,IAAA,gBAAgB,CAAC,SAAjB,GAA6B,gBAAgB,CAAC,EAAjB,CAAoB,SAApB,CAA8B,KAA9B,CAA7B;AACA,IAAA,gBAAgB,CAAC,SAAjB,CAA2B,SAA3B,GAAuC,YAAvC;AAEA,IAAA,gBAAgB,CAAC,CAAjB,CAAmB,YAAnB,CAA+B,MAA/B,EAAwC,QAAxC;AACA,IAAA,gBAAgB,CAAC,CAAjB,CAAmB,SAAnB,GAA+B,eAA/B;AAEA,IAAA,gBAAgB,CAAC,OAAjB,CAAyB,SAAzB,GAAqC,YAArC;AAEA,IAAA,gBAAgB,CAAC,IAAjB,GAAwB,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CAAxB;AACA,IAAA,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,GAAkC,MAAlC;AAEA,IAAA,gBAAgB,CAAC,SAAjB,GAA6B,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CAA7B;AAEA,QAAI,YAAY,GAAG,IAAI,MAAJ,CAAW,QAAQ,CAAC,QAAT,GAAoB,GAApB,GAA0B,QAAQ,CAAC,UAA9C,CAAnB;AACA,QAAI,oBAAoB,GAAG,IAAI,MAAJ,CAAU,MAAO,QAAQ,CAAC,GAAhB,GAAsB,IAAtB,GAA6B,QAAQ,CAAC,MAAhD,CAA3B;AAEA,QAAI,cAAc,GAAG;AACnB,MAAA,EAAE,EAAE,UAAU,OAAV,EAAmB,OAAnB,EAA4B,QAA5B,EAAsC;AACxC,YAAI,EAAE,GAAG,gBAAgB,CAAC,EAAjB,CAAoB,SAApB,CAA8B,KAA9B,CAAT;;AAEA,YAAI,OAAJ,EAAa;AACX,cAAI,OAAO,CAAC,QAAR,KAAqB,CAArB,IAA0B,OAAO,CAAC,QAAR,KAAqB,EAAnD,EAAuD;AACrD,YAAA,EAAE,CAAC,WAAH,CAAe,OAAf;AACD,WAFD,MAEO;AACL,YAAA,EAAE,CAAC,SAAH,GAAe,OAAf;AACD;AACF;;AAED,YAAI,OAAO,OAAP,KAAmB,WAAnB,IAAkC,OAAO,KAAK,EAAlD,EAAsD,EAAE,CAAC,SAAH,GAAe,OAAf;AACtD,YAAI,OAAO,QAAP,KAAoB,WAApB,IAAmC,QAAQ,KAAK,IAApD,EAA0D,EAAE,CAAC,SAAH,CAAa,GAAb,CAAgB,cAAe,QAA/B;AAE1D,eAAO,EAAP;AACF,OAhBmB;AAkBnB,MAAA,CAAC,EAAE,UAAU,IAAV,EAAgB,OAAhB,EAAyB,MAAzB,EAAiC;AAClC,YAAI,CAAC,GAAG,gBAAgB,CAAC,CAAjB,CAAmB,SAAnB,CAA6B,IAA7B,CAAR;;AAEA,YAAI,IAAJ,EAAU;AACR,cAAI,IAAI,CAAC,QAAL,KAAkB,EAAtB,EAA0B;AACxB,YAAA,CAAC,CAAC,WAAF,CAAc,IAAd;AACD,WAFD,MAEO;AACL,YAAA,CAAC,CAAC,kBAAF,CAAoB,WAApB,EAAkC,IAAlC;AACD;AACF;;AAED,YAAI,OAAO,OAAP,KAAmB,WAAnB,IAAkC,OAAO,KAAK,EAAlD,EAAsD,CAAC,CAAC,SAAF,CAAY,GAAZ,CAAgB,KAAhB,CAAsB,CAAC,CAAC,SAAxB,EAAmC,OAAO,CAAC,KAAR,CAAa,KAAb,CAAnC;AACtD,YAAI,MAAJ,EAAY,CAAC,CAAC,YAAF,CAAc,OAAd,EAAwB,MAAxB;AAEZ,eAAO,CAAP;AACF,OAjCmB;AAmCnB,MAAA,IAAI,EAAE,UAAU,OAAV,EAAmB,WAAnB,EAAgC;AACpC,YAAI,WAAW,GAAG,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CAAlB;AAAA,YACI,cADJ;AAAA,YAEI,WAFJ;;AAIA,YAAI,OAAO,CAAC,OAAZ,EAAqB;AACnB,UAAA,WAAW,CAAC,SAAZ,GAAwB,OAAO,CAAC,OAAhC;AACD,SAFD,MAEO;AACL,UAAA,WAAW,CAAC,WAAZ,GAA0B,OAAO,CAAC,IAAlC;;AAEA,cAAI,OAAO,CAAC,IAAZ,EAAkB;AAChB,gBAAI,UAAU,GAAG,gBAAgB,CAAC,UAAjB,CAA4B,SAA5B,CAAsC,KAAtC,CAAjB,CADgB,CAGhB;AACA;;AACA,YAAA,WAAW,GAAG,CAAC,WAAW,KAAK,IAAhB,GAAuB,gBAAgB,CAAC,CAAxC,GAA4C,gBAAgB,CAAC,IAA9D,EAAoE,SAApE,CAA8E,KAA9E,CAAd;AACA,YAAA,WAAW,CAAC,SAAZ,GAAwB,KAAK,OAAL,CAAa,QAAb,GAAwB,GAAxB,GAA8B,OAAO,CAAC,IAA9D;AAEA,YAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,WAAtC;AACA,YAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,UAAtC;AACD;;AAED,cAAI,OAAO,CAAC,OAAZ,EAAqB;AACnB,YAAA,cAAc,GAAG,gBAAgB,CAAC,OAAjB,CAAyB,SAAzB,CAAmC,KAAnC,CAAjB;AACA,YAAA,cAAc,CAAC,WAAf,GAA6B,OAAO,CAAC,OAArC;AACA,YAAA,WAAW,CAAC,WAAZ,CAAwB,cAAxB;AACD;AACF;;AAED,YAAI,WAAW,KAAK,IAApB,EAA0B;AACxB,iBAAO,WAAW,CAAC,UAAZ,CAAuB,MAAvB,GAAgC,CAAvC,EAA0C;AACxC,YAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,WAAW,CAAC,UAAZ,CAAuB,CAAvB,CAAtC;AACD;AACF,SAJD,MAIO;AACL,UAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,WAAtC;AACD;;AAED,eAAO,gBAAgB,CAAC,QAAxB;AACF,OAzEmB;AA2EnB,MAAA,KAAK,EAAE,UAAU,OAAV,EAAmB;AACxB,YAAI,WAAW,GAAG,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CAAlB;AAAA,YACI,cADJ;AAAA,YAEI,WAFJ;AAIA,QAAA,WAAW,CAAC,SAAZ,GAAwB,OAAO,CAAC,OAAhC;;AAEA,YAAI,OAAO,CAAC,IAAZ,EAAkB;AAChB,cAAI,UAAU,GAAG,gBAAgB,CAAC,UAAjB,CAA4B,SAA5B,CAAsC,KAAtC,CAAjB;AAEA,UAAA,WAAW,GAAG,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CAAd;AACA,UAAA,WAAW,CAAC,SAAZ,GAAwB,KAAK,OAAL,CAAa,QAAb,GAAwB,GAAxB,GAA8B,OAAO,CAAC,IAA9D;AAEA,UAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,WAAtC;AACA,UAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,UAAtC;AACD;;AAED,YAAI,OAAO,CAAC,OAAZ,EAAqB;AACnB,UAAA,cAAc,GAAG,gBAAgB,CAAC,OAAjB,CAAyB,SAAzB,CAAmC,KAAnC,CAAjB;AACA,UAAA,cAAc,CAAC,WAAf,GAA6B,OAAO,CAAC,OAArC;AACA,UAAA,WAAW,CAAC,WAAZ,CAAwB,cAAxB;AACD;;AAED,QAAA,gBAAgB,CAAC,QAAjB,CAA0B,WAA1B,CAAsC,WAAtC;AAEA,eAAO,gBAAgB,CAAC,QAAxB;AACD;AArGkB,KAArB;;AAwGA,aAAS,aAAT,CAAwB,WAAxB,EAAqC,WAArC,EAAkD;AAChD,UAAG,CAAE,WAAW,CAAC,MAAjB,EAAyB;AACvB,QAAA,gBAAgB,CAAC,SAAjB,CAA2B,SAA3B,GAAuC,KAAK,OAAL,CAAa,eAAb,CAA6B,OAA7B,CAAoC,KAApC,EAA4C,MAAM,UAAU,CAAC,WAAD,CAAhB,GAAgC,GAA5E,CAAvC;AACA,aAAI,UAAJ,CAAgB,CAAhB,EAAmB,UAAnB,CAA8B,WAA9B,CAA0C,gBAAgB,CAAC,SAA3D;AACD;AACF;;AAED,QAAI,YAAY,GAAG,UAAU,OAAV,EAAmB,OAAnB,EAA4B;AAC7C,UAAI,IAAI,GAAG,IAAX,CAD6C,CAG7C;;AACA,UAAG,CAAE,QAAQ,CAAC,UAAd,EAA0B;AACxB,QAAA,CAAA,CAAE,QAAF,CAAW,MAAX,CAAkB,GAAlB,GAAwB,QAAQ,CAAC,IAAjC;AACA,QAAA,QAAQ,CAAC,UAAT,GAAsB,IAAtB;AACD;;AAED,WAAI,QAAJ,GAAgB,CAAA,CAAE,OAAF,CAAhB;AACA,WAAI,WAAJ,GAAmB,IAAnB;AACA,WAAI,OAAJ,GAAe,IAAf;AACA,WAAI,KAAJ,GAAa,IAAb;AACA,WAAK,OAAL,GAAe,OAAf;AACA,WAAK,YAAL,GAAoB;AAClB,QAAA,IAAI,EAAE,EADY;AAElB,QAAA,MAAM,EAAE,EAFU;AAGlB,QAAA,OAAO,EAAE,EAHS;AAGL;AACb,QAAA,IAAI,EAAE,EAJY;AAKlB,QAAA,WAAW,EAAE,KALK;AAMlB,QAAA,OAAO,EAAE;AACP,UAAA,UAAU,EAAE,EADL;AAEP,UAAA,eAAe,EAAE;AACf,YAAA,KAAK,EAAE,YAAY;AACjB,qBAAO,UAAU,CAAC,YAAY;AAC5B,gBAAA,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAA1B,GAAuC,EAAvC;AACF,eAFiB,EAEd,GAFc,CAAjB;AAGD;AALc;AAFV;AANS,OAApB;AAkBA,WAAK,QAAL,GAAgB,EAAhB,CAhC6C,CAkC7C;AACA;;AACA,UAAI,KAAK,OAAL,CAAa,KAAb,KAAuB,IAA3B,EAAiC;AAC/B,aAAK,OAAL,CAAa,KAAb,GAAqB,KAAI,QAAJ,CAAc,IAAd,CAAkB,OAAlB,CAArB;AACD,OAtC4C,CAwC7C;;;AACA,UAAI,MAAM,GAAG,KAAK,OAAL,CAAa,aAA1B;;AACA,UAAI,OAAO,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,aAAK,OAAL,CAAa,aAAb,GAA6B,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,CAA7B;AACD,OA5C4C,CA8C7C;;;AACA,WAAK,GAAL,GAAW,YAAY,CAAC,SAAb,CAAuB,GAAlC;AACA,WAAK,MAAL,GAAc,YAAY,CAAC,SAAb,CAAuB,MAArC;AACA,WAAK,OAAL,GAAe,YAAY,CAAC,SAAb,CAAuB,OAAtC;AACA,WAAK,QAAL,GAAgB,YAAY,CAAC,SAAb,CAAuB,QAAvC;AACA,WAAK,SAAL,GAAiB,YAAY,CAAC,SAAb,CAAuB,SAAxC;AACA,WAAK,WAAL,GAAmB,YAAY,CAAC,SAAb,CAAuB,WAA1C;AACA,WAAK,OAAL,GAAe,YAAY,CAAC,SAAb,CAAuB,OAAtC;AACA,WAAK,MAAL,GAAc,YAAY,CAAC,SAAb,CAAuB,MAArC;AACA,WAAK,IAAL,GAAY,YAAY,CAAC,SAAb,CAAuB,IAAnC;AACA,WAAK,IAAL,GAAY,YAAY,CAAC,SAAb,CAAuB,IAAnC;AAEA,WAAK,IAAL;AACF,KA3DA;;AA6DA,IAAA,YAAY,CAAC,OAAb,GAAuB,SAAvB,CAr1BY,CAu1BZ;;AACA,IAAA,YAAY,CAAC,QAAb,GAAwB;AACtB,MAAA,gBAAgB,EAAE,kBADI;AAEtB,MAAA,eAAe,EAAE,wBAFK;AAGtB,MAAA,iBAAiB,EAAE,UAAU,WAAV,EAAuB,QAAvB,EAAiC;AAClD,eAAQ,WAAW,IAAI,CAAhB,GAAqB,mBAArB,GAA2C,oBAAlD;AACF,OALsB;AAMtB,MAAA,cAAc,EAAE,UAAU,MAAV,EAAkB,QAAlB,EAA4B;AAC1C,eAAO,CACJ,MAAM,IAAI,CAAX,GAAgB,8BAAhB,GAAiD,+BAD5C,EAEJ,QAAQ,IAAI,CAAb,GAAkB,oCAAlB,GAAyD,qCAFpD,CAAP;AAIF,OAXsB;AAYtB,MAAA,aAAa,EAAE,YAZO;AAatB,MAAA,eAAe,EAAE,cAbK;AActB,MAAA,UAAU,EAAE,KAdU;AAetB,MAAA,cAAc,EAAE,OAfM;AAgBtB,MAAA,iBAAiB,EAAE,IAhBG;AAiBtB,MAAA,SAAS,EAAE,KAjBW;AAkBtB,MAAA,KAAK,EAAE,UAAU,CAAC,WAlBI;AAmBtB,MAAA,IAAI,EAAE,MAnBgB;AAoBtB,MAAA,KAAK,EAAE,IApBe;AAqBtB,MAAA,kBAAkB,EAAE,QArBE;AAsBtB,MAAA,KAAK,EAAE,KAtBe;AAuBtB,MAAA,SAAS,EAAE,KAvBW;AAwBtB,MAAA,YAAY,EAAE,KAxBQ;AAyBtB,MAAA,WAAW,EAAE,KAzBS;AA0BtB,MAAA,QAAQ,EAAE,IA1BY;AA2BtB,MAAA,WAAW,EAAE,IA3BS;AA4BtB,MAAA,UAAU,EAAE,IA5BU;AA6BtB,MAAA,MAAM,EAAE,KA7Bc;AA8BtB,MAAA,UAAU,EAAE,KA9BU;AA+BtB,MAAA,qBAAqB,EAAE,IA/BD;AAgCtB,MAAA,mBAAmB,EAAE,KAhCC;AAiCtB,MAAA,eAAe,EAAE,UAjCK;AAkCtB,MAAA,UAAU,EAAE,KAlCU;AAmCtB,MAAA,QAAQ,EAAE,UAAU,CAAC,QAnCC;AAoCtB,MAAA,QAAQ,EAAE,UAAU,CAAC,QApCC;AAqCtB,MAAA,QAAQ,EAAE,KArCY;AAsCtB,MAAA,QAAQ,EAAE;AACR,QAAA,KAAK,EAAE;AADC,OAtCY;AAyCtB,MAAA,UAAU,EAAE,KAzCU;AA0CtB,MAAA,MAAM,EAAE,KA1Cc;AA2CtB,MAAA,WAAW,EAAE,KA3CS;AA4CtB,MAAA,kBAAkB,EAAE,KA5CE;AA6CtB,MAAA,aAAa,EAAE,CA7CO;AA8CtB,MAAA,aAAa,EAAE,GA9CO;AA+CtB,MAAA,OAAO,EAAE,KA/Ca;AAgDtB,MAAA,QAAQ,EAAE,IAhDY;AAiDtB,MAAA,UAAU,EAAE,IAjDU;AAkDtB,MAAA,SAAS,EAAE;AAlDW,KAAxB;AAqDA,IAAA,YAAY,CAAC,SAAb,GAAyB;AAEvB,MAAA,WAAW,EAAE,YAFU;AAIvB,MAAA,IAAI,EAAE,YAAY;AAChB,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,EAAE,GAAG,KAAI,QAAJ,CAAc,IAAd,CAAkB,IAAlB,CADT;AAAA,YAEI,OAAO,GAAG,KAAI,QAAJ,CAAc,CAAd,CAFd;AAAA,YAGI,IAAI,GAAG,OAAO,CAAC,IAHnB;AAKA,QAAA,QAAQ;AACR,aAAK,QAAL,GAAgB,eAAe,QAA/B;AAEA,QAAA,OAAO,CAAC,SAAR,CAAkB,GAAlB,CAAqB,kBAArB;AAEA,aAAK,QAAL,GAAgB,KAAI,QAAJ,CAAc,IAAd,CAAkB,UAAlB,CAAhB;AACA,aAAK,SAAL,GAAiB,KAAI,QAAJ,CAAc,IAAd,CAAkB,WAAlB,CAAjB;;AAEA,YAAI,OAAO,CAAC,SAAR,CAAkB,QAAlB,CAA0B,WAA1B,CAAJ,EAA6C;AAC3C,eAAK,OAAL,CAAa,QAAb,GAAwB,IAAxB;AACD;;AAED,aAAI,WAAJ,GAAmB,KAAK,cAAL,EAAnB;AACA,aAAK,SAAL;AACA,aAAI,QAAJ,CACG,KADH,CACS,KAAI,WADb,EAEG,SAFH,CAEa,KAAI,WAFjB,EApBgB,CAwBhB;;AACA,YAAI,IAAI,IAAI,OAAO,CAAC,IAAR,KAAiB,IAA7B,EAAmC;AACjC,cAAG,CAAE,IAAI,CAAC,EAAV,EAAc,IAAI,CAAC,EAAL,GAAU,UAAU,KAAK,QAAzB;AACd,UAAA,OAAO,CAAC,YAAR,CAAoB,MAApB,EAA6B,IAAI,CAAC,EAAlC;AACD;;AAED,aAAI,OAAJ,GAAe,KAAI,WAAJ,CAAiB,QAAjB,CAAyB,QAAzB,CAAf;AACA,aAAI,KAAJ,GAAa,KAAI,WAAJ,CAAiB,QAAjB,CAA0B,QAAQ,CAAC,IAAnC,CAAb;AACA,aAAI,UAAJ,GAAkB,KAAI,KAAJ,CAAW,QAAX,CAAmB,QAAnB,CAAlB;AACA,aAAI,UAAJ,GAAkB,KAAI,KAAJ,CAAW,IAAX,CAAe,OAAf,CAAlB;AAEA,QAAA,OAAO,CAAC,SAAR,CAAkB,MAAlB,CAAwB,kBAAxB;AAEA,YAAI,KAAK,OAAL,CAAa,kBAAb,KAAoC,IAAxC,EAA8C,KAAI,KAAJ,CAAW,CAAX,EAAc,SAAd,CAAwB,GAAxB,CAA4B,UAAU,CAAC,SAAvC;;AAE9C,YAAI,OAAO,EAAP,KAAc,WAAlB,EAA+B;AAC7B,eAAI,OAAJ,CAAa,IAAb,CAAiB,SAAjB,EAA6B,EAA7B;AACD;;AAED,aAAK,aAAL;AACA,aAAK,aAAL;;AAEA,YAAI,KAAK,OAAL,CAAa,UAAjB,EAA6B;AAC3B,eAAK,kBAAL;AACA,eAAK,aAAL,GAAqB,KAAI,UAAJ,CAAgB,CAAhB,CAArB;AACD,SAHD,MAGO;AACL,eAAK,aAAL,GAAqB,KAAI,UAAJ,CAAgB,CAAhB,CAArB;AACD;;AAED,aAAK,QAAL;AACA,aAAK,MAAL;AACA,aAAK,QAAL;;AACA,YAAI,KAAK,OAAL,CAAa,SAAjB,EAA4B;AAC1B,eAAK,cAAL;AACD,SAFD,MAEO;AACL,eAAI,QAAJ,CAAc,EAAd,CAAgB,SAAU,SAA1B,EAAqC,YAAY;AAC/C,gBAAI,IAAI,CAAC,SAAL,EAAJ,EAAsB;AACpB;AACA,kBAAI,SAAS,GAAG,IAAI,CAAA,UAAJ,CAAgB,CAAhB,CAAhB;AAAA,kBACI,SAAS,GAAG,SAAS,CAAC,UAAV,CAAqB,SAArB,CAA+B,KAA/B,CADhB,CAFoB,CAKpB;;AACA,cAAA,SAAS,CAAC,YAAV,CAAuB,SAAvB,EAAkC,SAAS,CAAC,UAA5C;AACA,cAAA,SAAS,CAAC,SAAV,GAAsB,CAAtB;AACD;AACH,WAVA;AAWD;;AACD,aAAI,KAAJ,CAAW,IAAX,CAAe,MAAf,EAAwB,IAAxB;AACA,aAAI,WAAJ,CAAiB,IAAjB,CAAqB,MAArB,EAA8B,IAA9B;AACA,YAAI,KAAK,OAAL,CAAa,MAAjB,EAAyB,KAAK,MAAL;AAEzB,aAAI,WAAJ,CAAiB,EAAjB,CAAmB;AACjB,8BAAoB,UAAU,CAAV,EAAa;AAC/B,YAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,SAAU,SAA/B,EAA0C,CAA1C;AACF,WAHiB;AAIjB,gCAAsB,UAAU,CAAV,EAAa;AACjC,YAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,WAAY,SAAjC,EAA4C,CAA5C;AACF,WANiB;AAOjB,8BAAoB,UAAU,CAAV,EAAa;AAC/B,YAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,SAAU,SAA/B,EAA0C,CAA1C;AACF,WATiB;AAUjB,+BAAqB,UAAU,CAAV,EAAa;AAChC,YAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,UAAW,SAAhC,EAA2C,CAA3C;AACD;AAZgB,SAAnB;;AAeA,YAAI,OAAO,CAAC,YAAR,CAAoB,UAApB,CAAJ,EAAsC;AACpC,eAAI,QAAJ,CAAc,EAAd,CAAgB,YAAa,SAA7B,EAAwC,YAAY;AAClD,YAAA,IAAI,CAAA,OAAJ,CAAa,CAAb,EAAgB,SAAhB,CAA0B,GAA1B,CAA6B,YAA7B;AAEA,YAAA,IAAI,CAAA,QAAJ,CACG,EADH,CACK,UAAW,SAAX,GAAuB,UAD5B,EACwC,YAAY;AAChD,cAAA,IAAI,CAAA,QAAJ,CACG,GADH,CACO,IAAI,CAAA,QAAJ,CAAc,GAAd,EADP,EAC4B;AAD5B,eAEG,GAFH,CAEM,UAAW,SAAX,GAAuB,UAF7B;AAGF,aALF,EAMG,EANH,CAMK,aAAc,SANnB,EAM8B,YAAY;AACtC;AACA,kBAAI,KAAK,QAAL,CAAc,KAAlB,EAAyB,IAAI,CAAA,OAAJ,CAAa,CAAb,EAAgB,SAAhB,CAA0B,MAA1B,CAAgC,YAAhC;AACzB,cAAA,IAAI,CAAA,QAAJ,CAAc,GAAd,CAAiB,aAAc,SAA/B;AACF,aAVF;AAYA,YAAA,IAAI,CAAA,OAAJ,CAAa,EAAb,CAAe,SAAU,SAAzB,EAAoC,YAAY;AAC9C,cAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,OAArB,EAA+B,OAA/B,CAAsC,MAAtC;AACA,cAAA,IAAI,CAAA,OAAJ,CAAa,GAAb,CAAgB,SAAU,SAA1B;AACF,aAHA;AAIF,WAnBA;AAoBD;;AAED,QAAA,UAAU,CAAC,YAAY;AACrB,UAAA,IAAI,CAAC,SAAL;AACA,UAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,WAAY,SAAjC;AACF,SAHU,CAAV;AAIF,OAzHuB;AA2HvB,MAAA,cAAc,EAAE,YAAY;AAC1B;AACA;AACA,YAAI,QAAQ,GAAI,KAAK,QAAL,IAAiB,KAAK,OAAL,CAAa,QAA/B,GAA2C,YAA3C,GAA0D,EAAzE;AAAA,YACI,eAAe,GAAG,KAAK,QAAL,GAAgB,8BAAhB,GAAiD,EADvE;AAAA,YAEI,UAAU,GAAG,EAFjB;AAAA,YAGI,SAAS,GAAG,KAAK,SAAL,GAAiB,YAAjB,GAAgC,EAHhD;;AAKA,YAAI,OAAO,CAAC,KAAR,GAAgB,CAAhB,IAAqB,KAAI,QAAJ,CAAc,MAAd,GAAuB,QAAvB,CAA+B,aAA/B,CAAzB,EAAyE;AACvE,UAAA,UAAU,GAAG,kBAAb;AACD,SAVyB,CAY1B;;;AACA,YAAI,IAAJ;AAAA,YACI,MAAM,GAAG,EADb;AAAA,YAEI,SAAS,GAAG,EAFhB;AAAA,YAGI,UAAU,GAAG,EAHjB;AAAA,YAII,UAAU,GAAG,EAJjB;;AAMA,YAAI,KAAK,OAAL,CAAa,MAAjB,EAAyB;AACvB,UAAA,MAAM,GACJ,iBAAiB,UAAU,CAAC,aAA5B,GAA4C,IAA5C,GACE,yEADF,GAEI,KAAK,OAAL,CAAa,MAFjB,GAGA,QAJF;AAKD;;AAED,YAAI,KAAK,OAAL,CAAa,UAAjB,EAA6B;AAC3B,UAAA,SAAS,GACP,+BACE,8DADF,IAGM,KAAK,OAAL,CAAa,qBAAb,KAAuC,IAAvC,GAA8C,EAA9C,GAEA,mBAAmB,UAAU,CAAC,KAAK,OAAL,CAAa,qBAAd,CAA7B,GAAoE,GAL1E,IAOI,sDAPJ,GAO6D,KAAK,QAPlE,GAO6E,6BAP7E,GAQA,QATF;AAUD;;AAED,YAAI,KAAK,QAAL,IAAiB,KAAK,OAAL,CAAa,UAAlC,EAA8C;AAC5C,UAAA,UAAU,GACR,gCACE,gDADF,GAEI,6DAFJ,GAEoE,UAAU,CAAC,WAF/E,GAE6F,IAF7F,GAGM,KAAK,OAAL,CAAa,aAHnB,GAII,WAJJ,GAKI,+DALJ,GAKsE,UAAU,CAAC,WALjF,GAK+F,IAL/F,GAMM,KAAK,OAAL,CAAa,eANnB,GAOI,WAPJ,GAQE,QARF,GASA,QAVF;AAWD;;AAED,YAAI,KAAK,QAAL,IAAiB,KAAK,OAAL,CAAa,UAAlC,EAA8C;AAC5C,UAAA,UAAU,GACR,gCACE,mCADF,GAEI,0CAFJ,GAEiD,UAAU,CAAC,WAF5D,GAE0E,IAF1E,GAGM,KAAK,OAAL,CAAa,cAHnB,GAII,WAJJ,GAKE,QALF,GAMA,QAPF;AAQD;;AAED,QAAA,IAAI,GACF,0CAA0C,QAA1C,GAAqD,UAArD,GAAkE,IAAlE,GACE,6CADF,GACkD,KAAK,OAAL,CAAa,SAD/D,GAC2E,oBAD3E,IACmG,KAAK,OAAL,CAAa,OAAb,KAAyB,QAAzB,GAAoC,uBAApC,GAA8D,EADjK,IACuK,wBADvK,GACkM,SADlM,GAC8M,8BAD9M,GAC+O,KAAK,QADpP,GAC+P,kDAD/P,GAEI,6BAFJ,GAGM,mCAHN,GAIQ,+CAJR,GAKM,SALN,GAMI,QANJ,IAQM,OAAO,CAAC,KAAR,KAAkB,GAAlB,GAAwB,EAAxB,GAEA,4BACE,KAAK,OAAL,CAAa,QAAb,CAAsB,KADxB,GAEA,SAZN,IAcE,WAdF,GAeE,cAfF,GAemB,UAAU,CAAC,IAf9B,GAeqC,GAfrC,IAe4C,OAAO,CAAC,KAAR,KAAkB,GAAlB,GAAwB,EAAxB,GAA6B,UAAU,CAAC,IAfpF,IAe4F,IAf5F,GAgBI,MAhBJ,GAiBI,SAjBJ,GAkBI,UAlBJ,GAmBI,oBAnBJ,GAmB2B,UAAU,CAAC,IAnBtC,GAmB6C,uBAnB7C,GAmBuE,KAAK,QAnB5E,GAmBuF,kBAnBvF,GAmB4G,eAnB5G,GAmB8H,GAnB9H,GAoBQ,aApBR,GAoBwB,UAAU,CAAC,IApBnC,GAoB0C,SApB1C,IAoBuD,OAAO,CAAC,KAAR,KAAkB,GAAlB,GAAwB,UAAU,CAAC,IAAnC,GAA0C,EApBjG,IAoBuG,wBApBvG,GAqBQ,OArBR,GAsBI,QAtBJ,GAuBI,UAvBJ,GAwBE,QAxBF,GAyBA,QA1BF;AA4BA,eAAO,CAAA,CAAE,IAAF,CAAP;AACF,OAzNuB;AA2NvB,MAAA,eAAe,EAAE,YAAY;AAC3B,aAAK,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,GAAsC,EAAtC;AACA,aAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,GAA8B,CAA9B;AACA,aAAK,YAAL,CAAkB,IAAlB,CAAuB,mBAAvB,GAA6C,KAA7C;;AAEA,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAAnD,EAA2D,CAAC,EAA5D,EAAgE;AAC9D,cAAI,EAAE,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAA/B,CAAT;AAAA,cACI,YAAY,GAAG,IADnB;;AAGA,cAAI,EAAE,CAAC,IAAH,KAAY,SAAhB,EAA2B;AACzB,YAAA,YAAY,GAAG,KAAf;AACA,YAAA,EAAE,CAAC,MAAH,GAAY,KAAK,QAAL,CAAc,aAA1B;AACD,WAHD,MAGO,IAAI,EAAE,CAAC,IAAH,KAAY,gBAAhB,EAAkC;AACvC,YAAA,YAAY,GAAG,KAAf;AACA,YAAA,EAAE,CAAC,MAAH,GAAY,KAAK,QAAL,CAAc,oBAA1B;AACD,WAHM,MAGA;AACL,YAAA,EAAE,CAAC,MAAH,GAAY,KAAK,QAAL,CAAc,QAA1B;AACD;;AAED,cAAI,EAAE,CAAC,QAAP,EAAiB,YAAY,GAAG,KAAf;AAEjB,eAAK,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,IAApC,CAAyC,YAAzC;;AAEA,cAAI,YAAJ,EAAkB;AAChB,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB;AACA,YAAA,EAAE,CAAC,QAAH,GAAc,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAArC;AACA,gBAAI,KAAK,YAAL,CAAkB,IAAlB,CAAuB,mBAAvB,KAA+C,KAAnD,EAA0D,KAAK,YAAL,CAAkB,IAAlB,CAAuB,mBAAvB,GAA6C,CAA7C;AAC3D;;AAED,UAAA,EAAE,CAAC,QAAH,GAAc,CAAC,CAAC,KAAK,CAAN,GAAU,CAAV,GAAc,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAAC,GAAG,CAAnC,EAAsC,QAArD,IAAiE,EAAE,CAAC,MAAlF;AACD;AACH,OA1PuB;AA4PvB,MAAA,SAAS,EAAE,YAAY;AACrB,eAAQ,KAAK,OAAL,CAAa,aAAb,KAA+B,KAAhC,IAA2C,KAAK,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,MAAhC,IAA0C,KAAK,OAAL,CAAa,aAAlG,IAAoH,KAAK,OAAL,CAAa,aAAb,KAA+B,IAA1J;AACF,OA9PuB;AAgQvB,MAAA,UAAU,EAAE,UAAU,WAAV,EAAuB,OAAvB,EAAgC,OAAhC,EAAyC;AACnD,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,SAAS,GAAG,CADhB;AAAA,YAEI,MAAM,GAAG,EAFb;AAAA,YAGI,QAHJ;AAAA,YAII,UAJJ;AAMA,aAAK,YAAL,CAAkB,WAAlB,GAAgC,WAAhC;AACA,aAAK,YAAL,CAAkB,OAAlB,GAA4B,WAAW,GAAG,KAAK,YAAL,CAAkB,MAArB,GAA8B,KAAK,YAAL,CAAkB,IAAvF;AAEA,aAAK,eAAL;;AAEA,YAAI,OAAJ,EAAa;AACX,cAAI,OAAJ,EAAa;AACX,YAAA,SAAS,GAAG,KAAI,UAAJ,CAAgB,CAAhB,EAAmB,SAA/B;AACD,WAFD,MAEO,IAAG,CAAE,IAAI,CAAC,QAAV,EAAoB;AACzB,gBAAI,OAAO,GAAG,IAAI,CAAA,QAAJ,CAAc,CAAd,CAAd;AAAA,gBACI,aAAa,GAAG,CAAC,OAAO,CAAC,OAAR,CAAgB,OAAO,CAAC,aAAxB,KAA0C,EAA3C,EAA+C,OADnE;;AAGA,gBAAI,OAAO,aAAP,KAAyB,QAAzB,IAAqC,IAAI,CAAC,OAAL,CAAa,IAAb,KAAsB,KAA/D,EAAsE;AACpE,kBAAI,YAAY,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,aAA5B,CAAnB;AAAA,kBACI,QAAQ,GAAG,YAAY,IAAI,YAAY,CAAC,QAD5C;;AAGA,kBAAI,QAAJ,EAAc;AACZ,gBAAA,SAAS,GAAG,QAAQ,GAAG,CAAE,IAAI,CAAC,QAAL,CAAc,eAAd,GAAgC,IAAI,CAAC,QAAL,CAAc,QAAhD,IAA4D,CAAnF;AACD;AACF;AACF;AACF;;AAED,QAAA,MAAM,CAAC,SAAD,EAAY,IAAZ,CAAN;AAEA,aAAI,UAAJ,CAAgB,GAAhB,CAAmB,mBAAnB,EAAyC,EAAzC,CAA2C,mBAA3C,EAAiE,UAAU,CAAV,EAAa,WAAb,EAA0B;AACzF,cAAG,CAAE,IAAI,CAAC,QAAV,EAAoB,MAAM,CAAC,KAAK,SAAN,EAAiB,WAAjB,CAAN;AACpB,UAAA,IAAI,CAAC,QAAL,GAAgB,KAAhB;AACF,SAHA;;AAKA,iBAAS,MAAT,CAAiB,SAAjB,EAA4B,IAA5B,EAAkC;AAChC,cAAI,IAAI,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAA9C;AAAA,cACI,MAAM,GAAG,EADb;AAAA,cAEI,SAFJ;AAAA,cAGI,UAHJ;AAAA,cAII,UAJJ;AAAA,cAKI,SALJ;AAAA,cAMI,YANJ;AAAA,cAOI,aAPJ;AAAA,cAQI,mBARJ;AAAA,cASI,gBATJ;AAAA,cAUI,eAAe,GAAG,IAVtB;AAAA,cAWI,SAAS,GAAG,IAAI,CAAC,SAAL,EAXhB;AAaA,UAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,SAAnC;AAEA,UAAA,SAAS,GAAG,IAAI,CAAC,IAAL,CAAU,IAAI,CAAC,QAAL,CAAc,eAAd,GAAgC,IAAI,CAAC,QAAL,CAAc,QAA9C,GAAyD,GAAnE,CAAZ,CAhBgC,CAgBqD;;AACrF,UAAA,UAAU,GAAG,IAAI,CAAC,KAAL,CAAW,IAAI,GAAG,SAAlB,KAAgC,CAA7C,CAjBgC,CAiBgB;;AAEhD,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,UAApB,EAAgC,CAAC,EAAjC,EAAqC;AACnC,gBAAI,UAAU,GAAG,CAAC,CAAC,GAAG,CAAL,IAAU,SAA3B;;AAEA,gBAAI,CAAC,KAAK,UAAU,GAAG,CAAvB,EAA0B;AACxB,cAAA,UAAU,GAAG,IAAb;AACD;;AAED,YAAA,MAAM,CAAC,CAAD,CAAN,GAAY,CACT,CAAD,GAAM,SAAN,IAAkB,CAAE,CAAF,GAAM,CAAN,GAAU,CAA5B,CADU,EAEV,UAFU,CAAZ;AAKA,gBAAG,CAAE,IAAL,EAAW;;AAEX,gBAAI,YAAY,KAAK,SAAjB,IAA8B,SAAS,GAAG,CAAZ,IAAiB,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,UAAU,GAAG,CAA5C,EAA+C,QAA/C,GAA0D,IAAI,CAAC,QAAL,CAAc,eAA3H,EAA4I;AAC1I,cAAA,YAAY,GAAG,CAAf;AACD;AACF;;AAED,cAAI,YAAY,KAAK,SAArB,EAAgC,YAAY,GAAG,CAAf;AAEhC,UAAA,aAAa,GAAG,CAAC,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAxB,EAAmC,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA1D,CAAhB,CAxCgC,CA0ChC;;AACA,UAAA,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,YAAY,GAAG,CAA3B,CAAb;AACA,UAAA,SAAS,GAAG,IAAI,CAAC,GAAL,CAAS,UAAU,GAAG,CAAtB,EAAyB,YAAY,GAAG,CAAxC,CAAZ;AAEA,UAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,SAAS,KAAK,KAAd,GAAsB,CAAtB,GAA2B,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,MAAM,CAAC,UAAD,CAAN,CAAmB,CAAnB,CAAZ,KAAsC,CAApG;AACA,UAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,SAAS,KAAK,KAAd,GAAsB,IAAtB,GAA8B,IAAI,CAAC,GAAL,CAAS,IAAT,EAAe,MAAM,CAAC,SAAD,CAAN,CAAkB,CAAlB,CAAf,KAAwC,CAAzG;AAEA,UAAA,mBAAmB,GAAG,aAAa,CAAC,CAAD,CAAb,KAAqB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA5C,IAAyD,aAAa,CAAC,CAAD,CAAb,KAAqB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA3H;;AAEA,cAAI,IAAI,CAAC,WAAL,KAAqB,SAAzB,EAAoC;AAClC,YAAA,UAAU,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,IAAI,CAAC,eAArC,CAAb;AACA,YAAA,MAAM,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,IAAI,CAAC,WAArC,CAAT;AACA,YAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,IAAI,CAAC,aAArC,CAAX;;AAEA,gBAAI,IAAJ,EAAU;AACR,kBAAI,IAAI,CAAC,WAAL,KAAqB,IAAI,CAAC,aAA9B,EAA6C;AAC3C,gBAAA,IAAI,CAAC,WAAL,CAAiB,MAAjB;AACD;;AACD,cAAA,IAAI,CAAC,WAAL,GAAmB,SAAnB;AACD;;AAED,gBAAI,IAAI,CAAC,WAAL,IAAoB,IAAI,CAAC,WAAL,KAAqB,IAAI,CAAC,aAAlD,EAAiE;AAC/D,cAAA,IAAI,CAAC,WAAL,CAAiB,QAAjB;AACD;AACF;;AAED,cAAI,IAAI,CAAC,eAAL,KAAyB,SAAzB,IAAsC,IAAI,CAAC,eAAL,KAAyB,IAAI,CAAC,WAApE,IAAmF,IAAI,CAAC,eAAL,KAAyB,IAAI,CAAC,aAArH,EAAoI;AAClI,YAAA,IAAI,CAAC,WAAL,CAAiB,UAAjB;AACD;;AAED,cAAI,IAAI,IAAI,mBAAZ,EAAiC;AAC/B,YAAA,gBAAgB,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,GAAyC,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,CAAuC,KAAvC,EAAzC,GAA0F,EAA7G;;AAEA,gBAAI,SAAS,KAAK,KAAlB,EAAyB;AACvB,cAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,GAAyC,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,QAAnE;AACD,aAFD,MAEO;AACL,cAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,GAAyC,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,KAAnC,CAAyC,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAhE,EAA2E,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAlG,CAAzC;AACD;;AAED,YAAA,IAAI,CAAC,eAAL,GAT+B,CAW/B;AACA;;AACA,gBAAI,WAAW,IAAK,SAAS,KAAK,KAAd,IAAuB,IAA3C,EAAkD,eAAe,GAAG,CAAC,OAAO,CAAC,gBAAD,EAAmB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAA1C,CAA1B,CAbnB,CAe/B;AACA;;AACA,gBAAG,CAAE,IAAI,IAAI,SAAS,KAAK,IAAxB,KAAiC,eAApC,EAAqD;AACnD,kBAAI,SAAS,GAAG,IAAI,CAAA,UAAJ,CAAgB,CAAhB,CAAhB;AAAA,kBACI,YAAY,GAAG,QAAQ,CAAC,sBAAT,EADnB;AAAA,kBAEI,SAAS,GAAG,SAAS,CAAC,UAAV,CAAqB,SAArB,CAA+B,KAA/B,CAFhB;AAAA,kBAGI,SAHJ;AAAA,kBAII,YAJJ;AAAA,kBAKI,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eALtC;AAAA,kBAMI,UAAU,GAAG,EANjB,CADmD,CASnD;;AACA,cAAA,SAAS,CAAC,YAAV,CAAuB,SAAvB,EAAkC,SAAS,CAAC,UAA5C;;AAEA,mBAAK,IAAI,CAAC,GAAG,CAAR,EAAW,kBAAkB,GAAG,QAAQ,CAAC,MAA9C,EAAsD,CAAC,GAAG,kBAA1D,EAA8E,CAAC,EAA/E,EAAmF;AACjF,oBAAI,OAAO,GAAG,QAAQ,CAAC,CAAD,CAAtB;AAAA,oBACI,MADJ;AAAA,oBAEI,WAFJ;;AAIA,oBAAI,IAAI,CAAC,OAAL,CAAa,QAAjB,EAA2B;AACzB,kBAAA,MAAM,GAAG,OAAO,CAAC,SAAjB;;AAEA,sBAAI,MAAJ,EAAY;AACV,oBAAA,WAAW,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAAC,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA1D,CAAd;;AAEA,wBAAI,WAAW,IAAI,WAAW,CAAC,OAA3B,IAAsC,CAAC,WAAW,CAAC,SAAvD,EAAkE;AAChE,sBAAA,UAAU,CAAC,IAAX,CAAgB,MAAhB;AACA,sBAAA,WAAW,CAAC,SAAZ,GAAwB,IAAxB;AACD;AACF;AACF;;AAED,gBAAA,YAAY,CAAC,WAAb,CAAyB,OAAzB;AACD;;AAED,kBAAI,IAAI,CAAC,OAAL,CAAa,QAAb,IAAyB,UAAU,CAAC,MAAxC,EAAgD;AAC9C,gBAAA,YAAY,CAAC,UAAD,EAAa,IAAI,CAAC,OAAL,CAAa,SAA1B,EAAqC,IAAI,CAAC,OAAL,CAAa,UAAlD,CAAZ;AACD;;AAED,kBAAI,SAAS,KAAK,IAAlB,EAAwB;AACtB,gBAAA,SAAS,GAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,KAAqC,CAArC,GAAyC,CAAzC,GAA6C,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,CAAlE,EAAqE,QAA/H;AACA,gBAAA,YAAY,GAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,IAAI,GAAG,CAA1C,GAA8C,CAA9C,GAAkD,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,IAAI,GAAG,CAAtC,EAAyC,QAAzC,GAAoD,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAvB,GAAmC,CAAlE,EAAqE,QAA3L;AAEA,gBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,SAA3B,GAAuC,SAAS,GAAG,IAAnD;AACA,gBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,YAA3B,GAA0C,YAAY,GAAG,IAAzD;AACD,eAND,MAMO;AACL,gBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,SAA3B,GAAuC,CAAvC;AACA,gBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,YAA3B,GAA0C,CAA1C;AACD;;AAED,cAAA,SAAS,CAAC,UAAV,CAAqB,WAArB,CAAiC,YAAjC,EAhDmD,CAkDnD;AACA;;AACA,kBAAI,SAAS,KAAK,IAAd,IAAsB,IAAI,CAAC,QAAL,CAAc,YAAxC,EAAsD;AACpD,oBAAI,mBAAmB,GAAG,SAAS,CAAC,UAAV,CAAqB,WAA/C;;AAEA,oBAAI,IAAI,IAAI,mBAAmB,GAAG,IAAI,CAAC,QAAL,CAAc,mBAA5C,IAAmE,IAAI,CAAC,QAAL,CAAc,cAAd,GAA+B,IAAI,CAAC,QAAL,CAAc,WAApH,EAAiI;AAC/H,kBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,QAA3B,GAAsC,IAAI,CAAC,QAAL,CAAc,mBAAd,GAAoC,IAA1E;AACD,iBAFD,MAEO,IAAI,mBAAmB,GAAG,IAAI,CAAC,QAAL,CAAc,mBAAxC,EAA6D;AAClE;AACA,kBAAA,IAAI,CAAA,KAAJ,CAAW,CAAX,EAAc,KAAd,CAAoB,QAApB,GAA+B,CAA/B;AAEA,sBAAI,eAAe,GAAG,SAAS,CAAC,UAAV,CAAqB,WAA3C;;AAEA,sBAAI,eAAe,GAAG,IAAI,CAAC,QAAL,CAAc,mBAApC,EAAyD;AACvD,oBAAA,IAAI,CAAC,QAAL,CAAc,mBAAd,GAAoC,eAApC;AACA,oBAAA,SAAS,CAAC,UAAV,CAAqB,KAArB,CAA2B,QAA3B,GAAsC,IAAI,CAAC,QAAL,CAAc,mBAAd,GAAoC,IAA1E;AACD,mBATiE,CAWlE;;;AACA,kBAAA,IAAI,CAAA,KAAJ,CAAW,CAAX,EAAc,KAAd,CAAoB,QAApB,GAA+B,EAA/B;AACD;AACF;AACF;AACF;;AAED,UAAA,IAAI,CAAC,eAAL,GAAuB,IAAI,CAAC,WAA5B;;AAEA,cAAG,CAAE,IAAI,CAAC,OAAL,CAAa,UAAlB,EAA8B;AAC5B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,WAFD,MAEO,IAAI,WAAW,IAAI,IAAnB,EAAyB;AAC9B,gBAAI,KAAK,GAAG,CAAZ;AAAA,gBACI,SADJ;;AAGA,gBAAG,CAAE,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAApC,CAAL,EAAiD;AAC/C,cAAA,KAAK,GAAG,IAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAApC,CAA0C,CAA1C,EAA6C,OAA7C,CAAqD,IAArD,CAAZ;AACD;;AAED,YAAA,SAAS,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,CAAuC,KAAvC,CAAZ;AAEA,YAAA,IAAI,CAAC,WAAL,CAAiB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,aAAxC;AAEA,YAAA,IAAI,CAAC,WAAL,GAAmB,CAAC,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,KAA/B,KAAyC,EAA1C,EAA8C,KAAjE;AAEA,YAAA,IAAI,CAAC,SAAL,CAAe,SAAf;AACD;AACF;;AAED,QAAA,CAAA,CAAE,MAAF,CAAA,CACG,GADH,CACM,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,aADpD,EAEG,EAFH,CAEK,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,aAFnD,EAEkE,YAAY;AAC1E,cAAI,QAAQ,GAAG,IAAI,CAAA,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,IAArC,CAAf;AAEA,cAAI,QAAJ,EAAc,MAAM,CAAC,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAApB,CAAN;AAChB,SANF;AAOF,OAteuB;AAwevB,MAAA,SAAS,EAAE,UAAU,EAAV,EAAc,MAAd,EAAsB,OAAtB,EAA+B;AACxC,YAAI,EAAJ,EAAQ;AACN,UAAA,MAAM,GAAG,MAAM,IAAI,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,KAAK,WAAjC,CAAnB;AACA,cAAI,CAAC,GAAG,EAAE,CAAC,UAAX;;AAEA,cAAI,CAAJ,EAAO;AACL,YAAA,CAAC,CAAC,YAAF,CAAc,cAAd,EAA+B,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAtD;AACA,YAAA,CAAC,CAAC,YAAF,CAAc,eAAd,EAAgC,MAAM,CAAC,QAAvC;;AAEA,gBAAI,OAAO,KAAK,IAAhB,EAAsB;AACpB,mBAAK,aAAL,CAAmB,YAAnB,CAA+B,uBAA/B,EAAyD,CAAC,CAAC,EAA3D;AACA,cAAA,EAAE,CAAC,SAAH,CAAa,GAAb,CAAgB,QAAhB;AACA,cAAA,CAAC,CAAC,SAAF,CAAY,GAAZ,CAAe,QAAf;AACD;AACF;AACF;AACH,OAxfuB;AA0fvB,MAAA,WAAW,EAAE,UAAU,EAAV,EAAc;AACzB,YAAI,EAAJ,EAAQ;AACN,UAAA,EAAE,CAAC,SAAH,CAAa,MAAb,CAAmB,QAAnB;AACA,cAAI,EAAE,CAAC,UAAP,EAAmB,EAAE,CAAC,UAAH,CAAc,SAAd,CAAwB,MAAxB,CAA8B,QAA9B;AACpB;AACH,OA/fuB;AAigBvB,MAAA,cAAc,EAAE,YAAY;AAC1B,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,WAAW,GAAG,KADlB;;AAGA,YAAI,KAAK,OAAL,CAAa,KAAb,IAAsB,CAAC,KAAK,QAAhC,EAA0C;AACxC,cAAG,CAAE,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAA5B,EAAyC,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,GAAqC,QAAQ,CAAC,aAAT,CAAsB,QAAtB,CAArC,CADD,CAGxC;AACA;;AACA,UAAA,WAAW,GAAG,IAAd;AAEA,cAAI,OAAO,GAAG,KAAI,QAAJ,CAAc,CAAd,CAAd;AAAA,cACI,iBAAiB,GAAG,KADxB;AAAA,cAEI,gBAAgB,GAAG,CAAC,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,UAF3D;AAAA,cAGI,aAAa,GAAG,OAAO,CAAC,aAH5B;AAAA,cAII,cAAc,GAAG,OAAO,CAAC,OAAR,CAAgB,aAAhB,CAJrB;AAAA,cAKI,UAAU,GAAG,MAAM,CAAC,WAAP,IAAsB,MAAM,CAAC,WAAP,CAAmB,gBAAnB,CAAmC,YAAnC,CALvC;AAAA,cAMI;AACA,UAAA,gBAAgB,GAAI,UAAU,IAAI,UAAU,CAAC,MAA1B,GAAoC,UAAU,CAAC,CAAD,CAAV,CAAc,IAAd,KAAuB,cAA3D,GAA4E,MAAM,CAAC,WAAP,CAAmB,UAAnB,CAA8B,IAA9B,KAAuC,CAP1I;;AASA,cAAI,gBAAJ,EAAsB;AACpB;AACA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,SAAnC,GAA+C,iBAA/C;AACA,iBAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,KAAnC,GAA2C,EAA3C,CAHoB,CAKpB;AACA;AACA;;AACA,YAAA,iBAAiB,GAAG,CAAC,cAAD,IAAoB,aAAa,KAAK,CAAlB,IAAuB,cAAc,CAAC,eAAf,KAAmC,KAA1D,IAAmE,KAAI,QAAJ,CAAc,IAAd,CAAkB,UAAlB,MAAmC,SAA9I;AACD;;AAED,cAAI,gBAAgB,IAAI,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,KAAnC,KAA6C,CAArE,EAAwE;AACtE,YAAA,OAAO,CAAC,YAAR,CAAqB,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAA5C,EAAyD,OAAO,CAAC,UAAjE;AACD,WA7BuC,CA+BxC;AACA;AACA;;;AACA,cAAI,iBAAiB,IAAI,gBAAzB,EAA2C;AACzC,YAAA,OAAO,CAAC,aAAR,GAAwB,CAAxB;AACD,WAFD,MAEO,IAAI,QAAQ,CAAC,UAAT,KAAwB,UAA5B,EAAwC;AAC7C;AACA;AACA,YAAA,MAAM,CAAC,gBAAP,CAAuB,UAAvB,EAAoC,YAAY;AAC9C,kBAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,cAAvB,KAA0C,OAAO,CAAC,KAAtD,EAA6D,IAAI,CAAC,MAAL;AAC/D,aAFA;AAGD;AACF;;AAED,eAAO,WAAP;AACF,OAnjBuB;AAqjBvB,MAAA,SAAS,EAAE,YAAY;AACrB,YAAI,cAAc,GAAG,0CAArB;AAAA,YACI,QAAQ,GAAG,EADf;AAAA,YAEI,KAAK,GAAG,CAFZ;AAAA,YAGI,UAAU,GAAG,KAAK,cAAL,KAAwB,CAAxB,GAA4B,CAH7C,CADqB,CAI2B;;AAEhD,YAAI,KAAK,OAAL,CAAa,YAAjB,EAA+B,cAAc,IAAI,iBAAlB;AAE/B,YAAI,aAAa,GAAG,KAAI,QAAJ,CAAc,CAAd,EAAiB,gBAAjB,CAAiC,eAAgB,cAAjD,CAApB;;AAEA,iBAAS,UAAT,CAAqB,MAArB,EAA6B;AAC3B,cAAI,YAAY,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAT,GAAkB,CAAnB,CAA3B,CAD2B,CAG3B;;AACA,cACE,YAAY,IACZ,YAAY,CAAC,IAAb,KAAsB,SADtB,KAEC,YAAY,CAAC,KAAb,IAAsB,MAAM,CAAC,KAF9B,CADF,EAIE;AACA;AACD;;AAED,UAAA,MAAM,GAAG,MAAM,IAAI,EAAnB;AACA,UAAA,MAAM,CAAC,IAAP,GAAc,SAAd;AAEA,UAAA,QAAQ,CAAC,IAAT,CAAc,MAAd;AACD;;AAED,iBAAS,SAAT,CAAoB,MAApB,EAA4B,MAA5B,EAAoC;AAClC,UAAA,MAAM,GAAG,MAAM,IAAI,EAAnB;AAEA,UAAA,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,YAAP,CAAmB,cAAnB,MAAwC,MAAzD;;AAEA,cAAI,MAAM,CAAC,OAAX,EAAoB;AAClB,YAAA,UAAU,CAAA;AACR,cAAA,KAAK,EAAE,MAAM,CAAC;AADN,aAAA,CAAV;AAGD,WAJD,MAIO;AACL,gBAAI,OAAO,GAAG,QAAQ,CAAC,MAAvB;AAAA,gBACI,OAAO,GAAG,MAAM,CAAC,KAAP,CAAa,OAD3B;AAAA,gBAEI,WAAW,GAAG,OAAO,GAAG,UAAU,CAAC,OAAD,CAAb,GAAyB,EAFlD;AAAA,gBAGI,WAAW,GAAG,CAAC,MAAM,CAAC,SAAP,IAAoB,EAArB,KAA4B,MAAM,CAAC,aAAP,IAAwB,EAApD,CAHlB;AAKA,gBAAI,MAAM,CAAC,KAAX,EAAkB,WAAW,GAAG,SAAS,WAAvB;AAElB,YAAA,MAAM,CAAC,WAAP,GAAqB,WAAW,CAAC,IAAZ,EAArB;AACA,YAAA,MAAM,CAAC,WAAP,GAAqB,WAArB;AACA,YAAA,MAAM,CAAC,IAAP,GAAc,MAAM,CAAC,WAArB;AAEA,YAAA,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,YAAP,CAAmB,cAAnB,CAAjB;AACA,YAAA,MAAM,CAAC,MAAP,GAAgB,MAAM,CAAC,YAAP,CAAmB,aAAnB,CAAhB;AACA,YAAA,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,YAAP,CAAmB,cAAnB,CAAjB;AACA,YAAA,MAAM,CAAC,IAAP,GAAc,MAAM,CAAC,YAAP,CAAmB,WAAnB,CAAd;AAEA,YAAA,MAAM,CAAC,OAAP,GAAiB,OAAjB;AAEA,YAAA,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,OAAP,IAAkB,MAAM,CAAC,IAA1C;AACA,YAAA,MAAM,CAAC,IAAP,GAAc,QAAd;AACA,YAAA,MAAM,CAAC,KAAP,GAAe,OAAf;AACA,YAAA,MAAM,CAAC,MAAP,GAAgB,MAAhB;AACA,YAAA,MAAM,CAAC,QAAP,GAAkB,CAAA,CAAE,MAAM,CAAC,QAA3B;AACA,YAAA,MAAM,CAAC,QAAP,GAAkB,MAAM,CAAC,QAAP,IAAmB,CAAA,CAAE,MAAM,CAAC,QAA9C;AAEA,YAAA,QAAQ,CAAC,IAAT,CAAc,MAAd;AACD;AACF;;AAED,iBAAS,WAAT,CAAsB,KAAtB,EAA6B,aAA7B,EAA4C;AAC1C,cAAI,QAAQ,GAAG,aAAa,CAAC,KAAD,CAA5B;AAAA,cACI;AACA,UAAA,QAAQ,GAAG,KAAK,GAAG,CAAR,GAAY,UAAZ,GAAyB,KAAzB,GAAiC,aAAa,CAAC,KAAK,GAAG,CAAT,CAF7D;AAAA,cAGI,IAAI,GAAG,aAAa,CAAC,KAAK,GAAG,CAAT,CAHxB;AAAA,cAII,OAAO,GAAG,QAAQ,CAAC,gBAAT,CAAyB,WAAY,cAArC,CAJd;AAMA,cAAG,CAAE,OAAO,CAAC,MAAb,EAAqB;AAErB,cAAI,MAAM,GAAG;AACP,YAAA,OAAO,EAAE,UAAU,CAAC,QAAQ,CAAC,KAAV,CADZ;AAEP,YAAA,OAAO,EAAE,QAAQ,CAAC,YAAT,CAAqB,cAArB,CAFF;AAGP,YAAA,IAAI,EAAE,QAAQ,CAAC,YAAT,CAAqB,WAArB,CAHC;AAIP,YAAA,IAAI,EAAE,gBAJC;AAKP,YAAA,aAAa,EAAE,OAAO,QAAQ,CAAC,SAAT,IAAsB,EAA7B;AALR,WAAb;AAAA,cAOI,WAPJ;AAAA,cAQI,SARJ;AAUA,UAAA,KAAK;;AAEL,cAAI,QAAJ,EAAc;AACZ,YAAA,UAAU,CAAA;AAAG,cAAA,KAAK,EAAE;AAAV,aAAA,CAAV;AACD;;AAED,UAAA,MAAM,CAAC,KAAP,GAAe,KAAf;AAEA,UAAA,QAAQ,CAAC,IAAT,CAAc,MAAd;;AAEA,eAAK,IAAI,CAAC,GAAG,CAAR,EAAW,GAAG,GAAG,OAAO,CAAC,MAA9B,EAAsC,CAAC,GAAG,GAA1C,EAA+C,CAAC,EAAhD,EAAoD;AAClD,gBAAI,MAAM,GAAG,OAAO,CAAC,CAAD,CAApB;;AAEA,gBAAI,CAAC,KAAK,CAAV,EAAa;AACX,cAAA,WAAW,GAAG,QAAQ,CAAC,MAAT,GAAkB,CAAhC;AACA,cAAA,SAAS,GAAG,WAAW,GAAG,GAA1B;AACD;;AAED,YAAA,SAAS,CAAC,MAAD,EAAS;AAChB,cAAA,WAAW,EAAE,WADG;AAEhB,cAAA,SAAS,EAAE,SAFK;AAGhB,cAAA,KAAK,EAAE,MAAM,CAAC,KAHE;AAIhB,cAAA,aAAa,EAAE,MAAM,CAAC,aAJN;AAKhB,cAAA,QAAQ,EAAE,QAAQ,CAAC;AALH,aAAT,CAAT;AAOD;;AAED,cAAI,IAAJ,EAAU;AACR,YAAA,UAAU,CAAA;AAAG,cAAA,KAAK,EAAE;AAAV,aAAA,CAAV;AACD;AACF;;AAED,aAAK,IAAI,GAAG,GAAG,aAAa,CAAC,MAAxB,EAAgC,CAAC,GAAG,UAAzC,EAAqD,CAAC,GAAG,GAAzD,EAA8D,CAAC,EAA/D,EAAmE;AACjE,cAAI,IAAI,GAAG,aAAa,CAAC,CAAD,CAAxB;;AAEA,cAAI,IAAI,CAAC,OAAL,KAAiB,UAArB,EAAiC;AAC/B,YAAA,SAAS,CAAC,IAAD,EAAO,EAAP,CAAT;AACD,WAFD,MAEO;AACL,YAAA,WAAW,CAAC,CAAD,EAAI,aAAJ,CAAX;AACD;AACF;;AAED,aAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,GAA8B,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,GAAiC,QAA/D;AACF,OAtrBuB;AAwrBvB,MAAA,SAAS,EAAE,YAAY;AACrB,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,UAAU,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IADxC;AAAA,YAEI,YAAY,GAAG,EAFnB;AAAA,YAGI,kBAAkB,GAAG,CAHzB;;AAKA,YAAG,CAAE,IAAI,CAAC,OAAL,CAAa,QAAb,IAAyB,IAAI,CAAC,QAAhC,KAA6C,CAAC,gBAAgB,CAAC,SAAjB,CAA2B,UAA5E,EAAwF;AACtF,UAAA,gBAAgB,CAAC,SAAjB,CAA2B,SAA3B,GAAuC,KAAK,OAAL,CAAa,QAAb,GAAwB,GAAxB,GAA8B,IAAI,CAAC,OAAL,CAAa,QAA3C,GAAsD,aAA7F;AACA,UAAA,gBAAgB,CAAC,CAAjB,CAAmB,WAAnB,CAA+B,gBAAgB,CAAC,SAAhD;AACD;;AAED,iBAAS,YAAT,CAAuB,IAAvB,EAA6B;AAC3B,cAAI,SAAJ;AAAA,cACI,cAAc,GAAG,CADrB;;AAGA,kBAAQ,IAAI,CAAC,IAAb;AACE,iBAAK,SAAL;AACE,cAAA,SAAS,GAAG,cAAc,CAAC,EAAf,CACV,KADU,EAEV,UAAU,CAAC,OAFD,EAGT,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAL,GAAa,KAA1B,GAAkC,SAHzB,CAAZ;AAMA;;AAEF,iBAAK,QAAL;AACE,cAAA,SAAS,GAAG,cAAc,CAAC,EAAf,CACV,cAAc,CAAC,CAAf,CACE,cAAc,CAAC,IAAf,CAAoB,IAApB,CAAyB,IAAzB,EAA+B,IAA/B,CADF,EAEE,IAAI,CAAC,WAFP,EAGE,IAAI,CAAC,WAHP,CADU,EAMV,EANU,EAOV,IAAI,CAAC,KAPK,CAAZ;;AAUA,kBAAI,SAAS,CAAC,UAAd,EAA0B;AACxB,gBAAA,SAAS,CAAC,UAAV,CAAqB,EAArB,GAA0B,IAAI,CAAC,QAAL,GAAgB,GAAhB,GAAsB,IAAI,CAAC,KAArD;AACD;;AAED;;AAEF,iBAAK,gBAAL;AACE,cAAA,SAAS,GAAG,cAAc,CAAC,EAAf,CACV,cAAc,CAAC,KAAf,CAAqB,IAArB,CAA0B,IAA1B,EAAgC,IAAhC,CADU,EAEV,oBAAoB,IAAI,CAAC,aAFf,EAGV,IAAI,CAAC,KAHK,CAAZ;AAMA;AAlCJ;;AAqCA,UAAA,IAAI,CAAC,OAAL,GAAe,SAAf;AACA,UAAA,YAAY,CAAC,IAAb,CAAkB,SAAlB,EA1C2B,CA4C3B;;AACA,cAAI,IAAI,CAAC,OAAT,EAAkB,cAAc,IAAI,IAAI,CAAC,OAAL,CAAa,MAA/B;AAClB,cAAI,IAAI,CAAC,OAAT,EAAkB,cAAc,IAAI,IAAI,CAAC,OAAL,CAAa,MAA/B,CA9CS,CA+C3B;;AACA,cAAI,IAAI,CAAC,IAAT,EAAe,cAAc,IAAI,CAAlB;;AAEf,cAAI,cAAc,GAAG,kBAArB,EAAyC;AACvC,YAAA,kBAAkB,GAAG,cAArB,CADuC,CAGvC;AACA;AACA;;AACA,YAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,GAAsC,YAAY,CAAC,YAAY,CAAC,MAAb,GAAsB,CAAvB,CAAlD;AACD;AACF;;AAED,aAAK,IAAI,GAAG,GAAG,UAAU,CAAC,MAArB,EAA6B,CAAC,GAAG,CAAtC,EAAyC,CAAC,GAAG,GAA7C,EAAkD,CAAC,EAAnD,EAAuD;AACrD,cAAI,IAAI,GAAG,UAAU,CAAC,CAAD,CAArB;AAEA,UAAA,YAAY,CAAC,IAAD,CAAZ;AACD;;AAED,aAAK,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,GAAkC,KAAK,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,GAAqC,YAAvE;AACF,OAtwBuB;AAwwBvB,MAAA,OAAO,EAAE,YAAY;AACnB,eAAO,KAAI,UAAJ,CAAgB,IAAhB,CAAoB,aAApB,CAAP;AACF,OA1wBuB;AA4wBvB,MAAA,MAAM,EAAE,YAAY;AAClB,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,OAAO,GAAG,KAAI,QAAJ,CAAc,CAAd,CADd;AAAA,YAEI;AACA,QAAA,mBAAmB,GAAG,KAAK,cAAL,MAAyB,OAAO,CAAC,aAAR,KAA0B,CAH7E;AAAA,YAII,eAAe,GAAG,kBAAkB,CAAC,OAAD,EAAU,KAAK,OAAL,CAAa,YAAvB,CAJxC;AAAA,YAKI,aAAa,GAAG,eAAe,CAAC,MALpC;AAAA,YAMI,MAAM,GAAG,KAAI,OAAJ,CAAa,CAAb,CANb;AAAA,YAOI,WAAW,GAAG,MAAM,CAAC,aAAP,CAAoB,4BAApB,CAPlB;AAAA,YAQI,iBAAiB,GAAG,QAAQ,CAAC,cAAT,CAAwB,KAAK,OAAL,CAAa,iBAArC,CARxB;AAAA,YASI,aAAa,GAAG,gBAAgB,CAAC,QAAjB,CAA0B,SAA1B,CAAoC,KAApC,CATpB;AAAA,YAUI,SAVJ;AAAA,YAWI,QAXJ;AAAA,YAYI,UAAU,GAAG,KAZjB;AAcA,QAAA,MAAM,CAAC,SAAP,CAAiB,MAAjB,CAAuB,gBAAvB,EAA0C,IAAI,CAAC,QAAL,GAAgB,CAAC,aAAjB,GAAiC,CAAC,eAAe,CAAC,OAAD,EAAU,eAAV,CAA3F;;AAEA,YAAG,CAAE,IAAI,CAAC,QAAP,IAAmB,eAAe,CAAC,MAAhB,KAA2B,CAAjD,EAAoD;AAClD,UAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,cAAvB,GAAwC,eAAe,CAAC,OAAD,EAAU,eAAV,CAAvD;AACD;;AAED,YAAI,KAAK,OAAL,CAAa,kBAAb,KAAoC,QAAxC,EAAkD;AAChD,UAAA,aAAa,GAAG,cAAc,CAAC,IAAf,CAAoB,IAApB,CAAyB,IAAzB,EAA+B;AAAE,YAAA,IAAI,EAAE,KAAK,OAAL,CAAa;AAArB,WAA/B,EAA6D,IAA7D,CAAhB;AACD,SAFD,MAEO;AACL,UAAA,SAAS,GAAG,KAAK,QAAL,IAAiB,KAAK,OAAL,CAAa,kBAAb,CAAgC,OAAhC,CAAuC,OAAvC,MAAqD,CAAC,CAAvE,IAA4E,aAAa,GAAG,CAAxG,CADK,CAGL;;AACA,cAAI,SAAJ,EAAe;AACb,YAAA,QAAQ,GAAG,KAAK,OAAL,CAAa,kBAAb,CAAgC,KAAhC,CAAqC,GAArC,CAAX;AACA,YAAA,SAAS,GAAI,QAAQ,CAAC,MAAT,GAAkB,CAAlB,IAAuB,aAAa,GAAG,QAAQ,CAAC,CAAD,CAAhD,IAAyD,QAAQ,CAAC,MAAT,KAAoB,CAApB,IAAyB,aAAa,IAAI,CAA/G;AACD,WAPI,CASL;;;AACA,cAAI,SAAS,KAAK,KAAlB,EAAyB;AACvB,gBAAG,CAAE,mBAAL,EAA0B;AACxB,mBAAK,IAAI,aAAa,GAAG,CAAzB,EAA4B,aAAa,GAAG,aAA5C,EAA2D,aAAa,EAAxE,EAA4E;AAC1E,oBAAI,aAAa,GAAG,EAApB,EAAwB;AACtB,sBAAI,MAAM,GAAG,eAAe,CAAC,aAAD,CAA5B;AAAA,sBACI,QAAQ,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,MAAM,CAAC,OAAnC,CADf;AAAA,sBAEI,YAAY,GAAG,EAFnB;;AAIA,sBAAI,KAAK,QAAL,IAAiB,aAAa,GAAG,CAArC,EAAwC;AACtC,oBAAA,aAAa,CAAC,WAAd,CAA0B,iBAAiB,CAAC,SAAlB,CAA4B,KAA5B,CAA1B;AACD;;AAED,sBAAI,MAAM,CAAC,KAAX,EAAkB;AAChB,oBAAA,YAAY,CAAC,IAAb,GAAoB,MAAM,CAAC,KAA3B;AACD,mBAFD,MAEO,IAAI,QAAJ,EAAc;AACnB,wBAAI,QAAQ,CAAC,OAAT,IAAoB,IAAI,CAAC,OAAL,CAAa,WAArC,EAAkD;AAChD,sBAAA,YAAY,CAAC,OAAb,GAAuB,QAAQ,CAAC,OAAT,CAAiB,QAAjB,EAAvB;AACA,sBAAA,UAAU,GAAG,IAAb;AACD,qBAHD,MAGO;AACL,0BAAI,IAAI,CAAC,OAAL,CAAa,QAAjB,EAA2B;AACzB,wBAAA,YAAY,CAAC,IAAb,GAAoB,QAAQ,CAAC,IAA7B;AACD;;AACD,0BAAI,IAAI,CAAC,OAAL,CAAa,WAAb,IAA4B,CAAC,IAAI,CAAC,QAAlC,IAA8C,QAAQ,CAAC,OAA3D,EAAoE,YAAY,CAAC,OAAb,GAAuB,MAAM,QAAQ,CAAC,OAAtC;AACpE,sBAAA,YAAY,CAAC,IAAb,GAAoB,MAAM,CAAC,WAAP,CAAmB,IAAnB,EAApB;AACD;AACF;;AAED,kBAAA,aAAa,CAAC,WAAd,CAA0B,cAAc,CAAC,IAAf,CAAoB,IAApB,CAAyB,IAAzB,EAA+B,YAA/B,EAA6C,IAA7C,CAA1B;AACD,iBAzBD,MAyBO;AACL;AACD;AACF,eA9BuB,CAgCxB;;;AACA,kBAAI,aAAa,GAAG,EAApB,EAAwB;AACtB,gBAAA,aAAa,CAAC,WAAd,CAA0B,QAAQ,CAAC,cAAT,CAAuB,KAAvB,CAA1B;AACD;AACF;AACF,WAtCD,MAsCO;AACL,gBAAI,cAAc,GAAG,qEAArB;AACA,gBAAI,KAAK,OAAL,CAAa,YAAjB,EAA+B,cAAc,IAAI,iBAAlB,CAF1B,CAIL;;AACA,gBAAI,UAAU,GAAG,KAAI,QAAJ,CAAc,CAAd,EAAiB,gBAAjB,CAAiC,oBAAqB,cAArB,GAAsC,YAAtC,GAAqD,cAArD,GAAsE,SAAtE,GAAkF,cAAnH,EAAmI,MAApJ;AAAA,gBACI,QAAQ,GAAI,OAAO,KAAK,OAAL,CAAa,iBAApB,KAA0C,UAA3C,GAAyD,KAAK,OAAL,CAAa,iBAAb,CAA+B,aAA/B,EAA8C,UAA9C,CAAzD,GAAqH,KAAK,OAAL,CAAa,iBADjJ;AAGA,YAAA,aAAa,GAAG,cAAc,CAAC,IAAf,CAAoB,IAApB,CAAyB,IAAzB,EAA+B;AAC7C,cAAA,IAAI,EAAE,QAAQ,CAAC,OAAT,CAAgB,KAAhB,EAAwB,aAAa,CAAC,QAAd,EAAxB,EAAkD,OAAlD,CAAyD,KAAzD,EAAiE,UAAU,CAAC,QAAX,EAAjE;AADuC,aAA/B,EAEb,IAFa,CAAhB;AAGD;AACF;;AAED,YAAI,KAAK,OAAL,CAAa,KAAb,IAAsB,SAA1B,EAAqC;AACnC;AACA,eAAK,OAAL,CAAa,KAAb,GAAqB,KAAI,QAAJ,CAAc,IAAd,CAAkB,OAAlB,CAArB;AACD,SAxFiB,CA0FlB;;;AACA,YAAG,CAAE,aAAa,CAAC,UAAd,CAAyB,MAA9B,EAAsC;AACpC,UAAA,aAAa,GAAG,cAAc,CAAC,IAAf,CAAoB,IAApB,CAAyB,IAAzB,EAA+B;AAC7C,YAAA,IAAI,EAAE,OAAO,KAAK,OAAL,CAAa,KAApB,KAA8B,WAA9B,GAA4C,KAAK,OAAL,CAAa,KAAzD,GAAiE,KAAK,OAAL,CAAa;AADvC,WAA/B,EAEb,IAFa,CAAhB;AAGD,SA/FiB,CAiGlB;;;AACA,QAAA,MAAM,CAAC,KAAP,GAAe,aAAa,CAAC,WAAd,CAA0B,OAA1B,CAAiC,WAAjC,EAA+C,EAA/C,EAAmD,IAAnD,EAAf;;AAEA,YAAI,KAAK,OAAL,CAAa,QAAb,IAAyB,UAA7B,EAAyC;AACvC,UAAA,YAAY,CAAA,CAAE,aAAF,CAAA,EAAkB,IAAI,CAAC,OAAL,CAAa,SAA/B,EAA0C,IAAI,CAAC,OAAL,CAAa,UAAvD,CAAZ;AACD;;AAED,QAAA,WAAW,CAAC,SAAZ,GAAwB,EAAxB;AACA,QAAA,WAAW,CAAC,WAAZ,CAAwB,aAAxB;;AAEA,YAAI,OAAO,CAAC,KAAR,GAAgB,CAAhB,IAAqB,KAAI,WAAJ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,QAA9B,CAAsC,eAAtC,CAAzB,EAAkF;AAChF,cAAI,YAAY,GAAG,MAAM,CAAC,aAAP,CAAoB,gBAApB,CAAnB;AAAA,cACI,KAAK,GAAG,WAAW,CAAC,SAAZ,CAAsB,IAAtB,CADZ;AAGA,UAAA,KAAK,CAAC,SAAN,GAAkB,eAAlB;;AAEA,cAAI,YAAJ,EAAkB;AAChB,YAAA,MAAM,CAAC,YAAP,CAAoB,KAApB,EAA2B,YAA3B;AACD,WAFD,MAEO;AACL,YAAA,MAAM,CAAC,WAAP,CAAmB,KAAnB;AACD;AACF;;AAED,aAAI,QAAJ,CAAc,OAAd,CAAqB,aAAc,SAAnC;AACF,OAr4BuB;;AAu4BvB;AACJ;AACA;AACA;AACI,MAAA,QAAQ,EAAE,UAAU,QAAV,EAAoB,MAApB,EAA4B;AACpC,YAAI,MAAM,GAAG,KAAI,OAAJ,CAAa,CAAb,CAAb;AAAA,YACI,UAAU,GAAG,KAAI,WAAJ,CAAiB,CAAjB,CADjB;AAAA,YAEI,KAAK,GAAG,KAAK,OAAL,CAAa,KAAb,CAAmB,IAAnB,EAFZ;AAAA,YAGI,WAHJ;;AAKA,YAAI,KAAI,QAAJ,CAAc,IAAd,CAAkB,OAAlB,CAAJ,EAAiC;AAC/B,eAAI,WAAJ,CAAiB,QAAjB,CAA0B,KAAI,QAAJ,CAAc,IAAd,CAAkB,OAAlB,EAA4B,OAA5B,CAAmC,8DAAnC,EAAoG,EAApG,CAA1B;AACD;;AAED,YAAI,OAAO,CAAC,KAAR,GAAgB,CAApB,EAAuB;AACrB,UAAA,UAAU,CAAC,SAAX,CAAqB,GAArB,CAAwB,KAAxB;;AAEA,cAAI,UAAU,CAAC,UAAX,CAAsB,SAAtB,IAAmC,UAAU,CAAC,UAAX,CAAsB,SAAtB,CAAgC,QAAhC,CAAwC,aAAxC,CAAnC,KACC,UAAU,CAAC,sBAAX,IAAqC,UAAU,CAAC,kBADjD,KAEA,CAAC,UAAU,CAAC,sBAAX,IAAqC,UAAU,CAAC,kBAAjD,EAAqE,SAArE,CAA+E,QAA/E,CAAuF,mBAAvF,CAFJ,EAGE;AACA,YAAA,UAAU,CAAC,SAAX,CAAqB,GAArB,CAAwB,eAAxB;AACD;AACF;;AAED,YAAI,QAAJ,EAAc;AACZ,UAAA,WAAW,GAAG,QAAQ,CAAC,IAAT,EAAd;AACD,SAFD,MAEO;AACL,UAAA,WAAW,GAAG,KAAd;AACD;;AAED,YAAI,MAAM,IAAI,KAAd,EAAqB;AACnB,cAAI,WAAJ,EAAiB,MAAM,CAAC,SAAP,CAAiB,GAAjB,CAAqB,KAArB,CAA2B,MAAM,CAAC,SAAlC,EAA6C,WAAW,CAAC,KAAZ,CAAiB,GAAjB,CAA7C;AAClB,SAFD,MAEO,IAAI,MAAM,IAAI,QAAd,EAAwB;AAC7B,cAAI,WAAJ,EAAiB,MAAM,CAAC,SAAP,CAAiB,MAAjB,CAAwB,KAAxB,CAA8B,MAAM,CAAC,SAArC,EAAgD,WAAW,CAAC,KAAZ,CAAiB,GAAjB,CAAhD;AAClB,SAFM,MAEA;AACL,cAAI,KAAJ,EAAW,MAAM,CAAC,SAAP,CAAiB,MAAjB,CAAwB,KAAxB,CAA8B,MAAM,CAAC,SAArC,EAAgD,KAAK,CAAC,KAAN,CAAW,GAAX,CAAhD;AACX,cAAI,WAAJ,EAAiB,MAAM,CAAC,SAAP,CAAiB,GAAjB,CAAqB,KAArB,CAA2B,MAAM,CAAC,SAAlC,EAA6C,WAAW,CAAC,KAAZ,CAAiB,GAAjB,CAA7C;AAClB;AACH,OA96BuB;AAg7BvB,MAAA,QAAQ,EAAE,UAAU,OAAV,EAAmB;AAC3B,YAAG,CAAE,OAAF,KAAc,KAAK,OAAL,CAAa,IAAb,KAAsB,KAAtB,IAA+B,MAAM,CAAC,IAAP,CAAY,KAAK,QAAjB,EAA2B,MAAxE,CAAH,EAAoF;AAEpF,YAAI,UAAU,GAAG,gBAAgB,CAAC,GAAjB,CAAqB,SAArB,CAA+B,KAA/B,CAAjB;AAAA,YACI,IAAI,GAAG,gBAAgB,CAAC,GAAjB,CAAqB,SAArB,CAA+B,KAA/B,CADX;AAAA,YAEI,SAAS,GAAG,gBAAgB,CAAC,GAAjB,CAAqB,SAArB,CAA+B,KAA/B,CAFhB;AAAA,YAGI,cAAc,GAAG,QAAQ,CAAC,aAAT,CAAsB,IAAtB,CAHrB;AAAA,YAII,OAAO,GAAG,gBAAgB,CAAC,EAAjB,CAAoB,SAApB,CAA8B,KAA9B,CAJd;AAAA,YAKI,cAAc,GAAG,gBAAgB,CAAC,EAAjB,CAAoB,SAApB,CAA8B,KAA9B,CALrB;AAAA,YAMI,EANJ;AAAA,YAOI,CAAC,GAAG,gBAAgB,CAAC,CAAjB,CAAmB,SAAnB,CAA6B,KAA7B,CAPR;AAAA,YAQI,IAAI,GAAG,gBAAgB,CAAC,IAAjB,CAAsB,SAAtB,CAAgC,KAAhC,CARX;AAAA,YASI,MAAM,GAAG,KAAK,OAAL,CAAa,MAAb,IAAuB,KAAI,KAAJ,CAAW,IAAX,CAAe,MAAO,UAAU,CAAC,aAAjC,EAAgD,MAAhD,GAAyD,CAAhF,GAAoF,KAAI,KAAJ,CAAW,IAAX,CAAe,MAAO,UAAU,CAAC,aAAjC,EAAgD,CAAhD,EAAmD,SAAnD,CAA6D,IAA7D,CAApF,GAAyJ,IATtK;AAAA,YAUI,MAAM,GAAG,KAAK,OAAL,CAAa,UAAb,GAA0B,gBAAgB,CAAC,GAAjB,CAAqB,SAArB,CAA+B,KAA/B,CAA1B,GAAkE,IAV/E;AAAA,YAWI,OAAO,GAAG,KAAK,OAAL,CAAa,UAAb,IAA2B,KAAK,QAAhC,IAA4C,KAAI,KAAJ,CAAW,IAAX,CAAe,gBAAf,EAAkC,MAAlC,GAA2C,CAAvF,GAA2F,KAAI,KAAJ,CAAW,IAAX,CAAe,gBAAf,EAAkC,CAAlC,EAAqC,SAArC,CAA+C,IAA/C,CAA3F,GAAkJ,IAXhK;AAAA,YAYI,UAAU,GAAG,KAAK,OAAL,CAAa,UAAb,IAA2B,KAAK,QAAhC,IAA4C,KAAI,KAAJ,CAAW,IAAX,CAAe,gBAAf,EAAkC,MAAlC,GAA2C,CAAvF,GAA2F,KAAI,KAAJ,CAAW,IAAX,CAAe,gBAAf,EAAkC,CAAlC,EAAqC,SAArC,CAA+C,IAA/C,CAA3F,GAAkJ,IAZnK;AAAA,YAaI,WAAW,GAAG,KAAI,QAAJ,CAAc,IAAd,CAAkB,QAAlB,EAA6B,CAA7B,CAblB;AAeA,aAAK,QAAL,CAAc,WAAd,GAA4B,KAAI,WAAJ,CAAiB,CAAjB,EAAoB,WAAhD;AAEA,QAAA,IAAI,CAAC,SAAL,GAAiB,MAAjB;AACA,QAAA,CAAC,CAAC,SAAF,GAAc,oBAAoB,WAAW,GAAG,WAAW,CAAC,SAAf,GAA2B,EAA1D,CAAd;AACA,QAAA,UAAU,CAAC,SAAX,GAAuB,KAAI,KAAJ,CAAW,CAAX,EAAc,UAAd,CAAyB,SAAzB,GAAqC,GAArC,GAA2C,UAAU,CAAC,IAA7E;AACA,QAAA,UAAU,CAAC,KAAX,CAAiB,KAAjB,GAAyB,CAAzB,CAvB2B,CAuBC;;AAC5B,YAAI,KAAK,OAAL,CAAa,KAAb,KAAuB,MAA3B,EAAmC,IAAI,CAAC,KAAL,CAAW,QAAX,GAAsB,CAAtB;AACnC,QAAA,IAAI,CAAC,SAAL,GAAiB,UAAU,CAAC,IAAX,GAAkB,GAAlB,GAAwB,UAAU,CAAC,IAApD;AACA,QAAA,SAAS,CAAC,SAAV,GAAsB,WAAW,UAAU,CAAC,IAA5C;AACA,QAAA,cAAc,CAAC,SAAf,GAA2B,UAAU,CAAC,IAAX,GAAkB,SAAlB,IAA+B,OAAO,CAAC,KAAR,KAAkB,GAAlB,GAAwB,UAAU,CAAC,IAAnC,GAA0C,EAAzE,CAA3B;AACA,QAAA,OAAO,CAAC,SAAR,GAAoB,UAAU,CAAC,OAA/B;AACA,QAAA,cAAc,CAAC,SAAf,GAA2B,iBAA3B;AAEA,QAAA,IAAI,CAAC,WAAL,CAAiB,QAAQ,CAAC,cAAT,CAAuB,QAAvB,CAAjB;;AAEA,YAAI,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAAnC,EAA2C;AACzC,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAAnD,EAA2D,CAAC,EAA5D,EAAgE;AAC9D,gBAAI,IAAI,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAA/B,CAAX;;AACA,gBAAI,IAAI,CAAC,IAAL,KAAc,QAAlB,EAA4B;AAC1B,cAAA,EAAE,GAAG,IAAI,CAAC,OAAV;AACA;AACD;AACF;AACF,SARD,MAQO;AACL,UAAA,EAAE,GAAG,gBAAgB,CAAC,EAAjB,CAAoB,SAApB,CAA8B,KAA9B,CAAL;AACA,UAAA,CAAC,CAAC,WAAF,CAAc,IAAd;AACA,UAAA,EAAE,CAAC,WAAH,CAAe,CAAf;AACD;;AAED,QAAA,cAAc,CAAC,WAAf,CAA2B,IAAI,CAAC,SAAL,CAAe,IAAf,CAA3B;;AAEA,YAAI,KAAK,YAAL,CAAkB,IAAlB,CAAuB,YAA3B,EAAyC;AACvC,UAAA,cAAc,CAAC,WAAf,CAA2B,KAAK,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,SAApC,CAA8C,IAA9C,CAA3B;AACD;;AAED,QAAA,cAAc,CAAC,WAAf,CAA2B,EAA3B;AACA,QAAA,cAAc,CAAC,WAAf,CAA2B,OAA3B;AACA,QAAA,cAAc,CAAC,WAAf,CAA2B,cAA3B;AACA,YAAI,MAAJ,EAAY,IAAI,CAAC,WAAL,CAAiB,MAAjB;;AACZ,YAAI,MAAJ,EAAY;AACV,cAAI,KAAK,GAAG,QAAQ,CAAC,aAAT,CAAsB,OAAtB,CAAZ;AACA,UAAA,MAAM,CAAC,SAAP,GAAmB,cAAnB;AACA,UAAA,KAAK,CAAC,SAAN,GAAkB,cAAlB;AACA,UAAA,MAAM,CAAC,WAAP,CAAmB,KAAnB;AACA,UAAA,IAAI,CAAC,WAAL,CAAiB,MAAjB;AACD;;AACD,YAAI,OAAJ,EAAa,IAAI,CAAC,WAAL,CAAiB,OAAjB;AACb,QAAA,SAAS,CAAC,WAAV,CAAsB,cAAtB;AACA,QAAA,IAAI,CAAC,WAAL,CAAiB,SAAjB;AACA,YAAI,UAAJ,EAAgB,IAAI,CAAC,WAAL,CAAiB,UAAjB;AAChB,QAAA,UAAU,CAAC,WAAX,CAAuB,IAAvB;AAEA,QAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,UAA1B;AAEA,YAAI,QAAQ,GAAG,EAAE,CAAC,YAAlB;AAAA,YACI,oBAAoB,GAAG,cAAc,GAAG,cAAc,CAAC,YAAlB,GAAiC,CAD1E;AAAA,YAEI,YAAY,GAAG,MAAM,GAAG,MAAM,CAAC,YAAV,GAAyB,CAFlD;AAAA,YAGI,YAAY,GAAG,MAAM,GAAG,MAAM,CAAC,YAAV,GAAyB,CAHlD;AAAA,YAII,aAAa,GAAG,OAAO,GAAG,OAAO,CAAC,YAAX,GAA0B,CAJrD;AAAA,YAKI,gBAAgB,GAAG,UAAU,GAAG,UAAU,CAAC,YAAd,GAA6B,CAL9D;AAAA,YAMI,aAAa,GAAG,CAAA,CAAE,OAAF,CAAA,CAAW,WAAX,CAAuB,IAAvB,CANpB;AAAA,YAOI;AACA,QAAA,SAAS,GAAG,MAAM,CAAC,gBAAP,GAA0B,MAAM,CAAC,gBAAP,CAAwB,IAAxB,CAA1B,GAA0D,KAR1E;AAAA,YASI,SAAS,GAAG,IAAI,CAAC,WATrB;AAAA,YAUI,KAAK,GAAG,SAAS,GAAG,IAAH,GAAU,CAAA,CAAE,IAAF,CAV/B;AAAA,YAWI,WAAW,GAAG;AACZ,UAAA,IAAI,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,UAAb,GAA0B,KAAK,CAAC,GAAN,CAAS,YAAT,CAApC,CAAT,GACA,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,aAAb,GAA6B,KAAK,CAAC,GAAN,CAAS,eAAT,CAAvC,CADT,GAEA,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,cAAb,GAA8B,KAAK,CAAC,GAAN,CAAS,gBAAT,CAAxC,CAFT,GAGA,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,iBAAb,GAAiC,KAAK,CAAC,GAAN,CAAS,mBAAT,CAA3C,CAJH;AAKZ,UAAA,KAAK,EAAE,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,WAAb,GAA2B,KAAK,CAAC,GAAN,CAAS,aAAT,CAArC,CAAT,GACD,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,YAAb,GAA4B,KAAK,CAAC,GAAN,CAAS,cAAT,CAAtC,CADR,GAED,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,eAAb,GAA+B,KAAK,CAAC,GAAN,CAAS,iBAAT,CAAzC,CAFR,GAGD,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,gBAAb,GAAgC,KAAK,CAAC,GAAN,CAAS,kBAAT,CAA1C;AARH,SAXlB;AAAA,YAqBI,UAAU,GAAG;AACX,UAAA,IAAI,EAAE,WAAW,CAAC,IAAZ,GACA,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,SAAb,GAAyB,KAAK,CAAC,GAAN,CAAS,WAAT,CAAnC,CADT,GAEA,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,YAAb,GAA4B,KAAK,CAAC,GAAN,CAAS,cAAT,CAAtC,CAFT,GAE4E,CAHvE;AAIX,UAAA,KAAK,EAAE,WAAW,CAAC,KAAZ,GACD,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,UAAb,GAA0B,KAAK,CAAC,GAAN,CAAS,YAAT,CAApC,CADR,GAED,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC,WAAb,GAA2B,KAAK,CAAC,GAAN,CAAS,aAAT,CAArC,CAFR,GAEyE;AANrE,SArBjB;AAAA,YA6BI,cA7BJ;AA+BA,QAAA,SAAS,CAAC,KAAV,CAAgB,SAAhB,GAA4B,QAA5B;AAEA,QAAA,cAAc,GAAG,IAAI,CAAC,WAAL,GAAmB,SAApC;AAEA,QAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,UAA1B;AAEA,aAAK,QAAL,CAAc,QAAd,GAAyB,QAAzB;AACA,aAAK,QAAL,CAAc,oBAAd,GAAqC,oBAArC;AACA,aAAK,QAAL,CAAc,YAAd,GAA6B,YAA7B;AACA,aAAK,QAAL,CAAc,YAAd,GAA6B,YAA7B;AACA,aAAK,QAAL,CAAc,aAAd,GAA8B,aAA9B;AACA,aAAK,QAAL,CAAc,gBAAd,GAAiC,gBAAjC;AACA,aAAK,QAAL,CAAc,aAAd,GAA8B,aAA9B;AACA,aAAK,QAAL,CAAc,WAAd,GAA4B,WAA5B;AACA,aAAK,QAAL,CAAc,UAAd,GAA2B,UAA3B;AACA,aAAK,QAAL,CAAc,SAAd,GAA0B,SAA1B;AACA,aAAK,QAAL,CAAc,mBAAd,GAAoC,SAAS,GAAG,WAAW,CAAC,KAA5D;AACA,aAAK,QAAL,CAAc,cAAd,GAA+B,KAAK,QAAL,CAAc,SAA7C;AACA,aAAK,QAAL,CAAc,cAAd,GAA+B,cAA/B;AACA,aAAK,QAAL,CAAc,YAAd,GAA6B,KAAI,WAAJ,CAAiB,CAAjB,EAAoB,YAAjD;AAEA,aAAK,eAAL;AACF,OA7iCuB;AA+iCvB,MAAA,iBAAiB,EAAE,YAAY;AAC7B,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,OAAO,GAAG,CAAA,CAAE,MAAF,CADd;AAAA,YAEI,GAAG,GAAG,IAAI,CAAA,WAAJ,CAAiB,MAAjB,EAFV;AAAA,YAGI,UAAU,GAAG,CAAA,CAAE,IAAI,CAAC,OAAL,CAAa,SAAf,CAHjB;AAAA,YAII,YAJJ;;AAMA,YAAI,IAAI,CAAC,OAAL,CAAa,SAAb,IAA0B,UAAU,CAAC,MAArC,IAA+C,CAAA,UAAW,CAAC,EAAZ,CAAc,MAAd,CAAnD,EAA2E;AACzE,UAAA,YAAY,GAAG,UAAU,CAAC,MAAX,EAAf;AACA,UAAA,YAAY,CAAC,GAAb,IAAoB,QAAQ,CAAA,UAAW,CAAC,GAAZ,CAAe,gBAAf,CAAA,CAA5B;AACA,UAAA,YAAY,CAAC,IAAb,IAAqB,QAAQ,CAAA,UAAW,CAAC,GAAZ,CAAe,iBAAf,CAAA,CAA7B;AACD,SAJD,MAIO;AACL,UAAA,YAAY,GAAG;AAAE,YAAA,GAAG,EAAE,CAAP;AAAU,YAAA,IAAI,EAAE;AAAhB,WAAf;AACD;;AAED,YAAI,MAAM,GAAG,IAAI,CAAC,OAAL,CAAa,aAA1B;AAEA,aAAK,QAAL,CAAc,eAAd,GAAgC,GAAG,CAAC,GAAJ,GAAU,YAAY,CAAC,GAAvB,GAA6B,OAAO,CAAC,SAAR,EAA7D;AACA,aAAK,QAAL,CAAc,eAAd,GAAgC,OAAO,CAAC,MAAR,KAAmB,KAAK,QAAL,CAAc,eAAjC,GAAmD,KAAK,QAAL,CAAc,YAAjE,GAAgF,YAAY,CAAC,GAA7F,GAAmG,MAAM,CAAC,CAAD,CAAzI;AACA,aAAK,QAAL,CAAc,gBAAd,GAAiC,GAAG,CAAC,IAAJ,GAAW,YAAY,CAAC,IAAxB,GAA+B,OAAO,CAAC,UAAR,EAAhE;AACA,aAAK,QAAL,CAAc,iBAAd,GAAkC,OAAO,CAAC,KAAR,KAAkB,KAAK,QAAL,CAAc,gBAAhC,GAAmD,KAAK,QAAL,CAAc,WAAjE,GAA+E,YAAY,CAAC,IAA5F,GAAmG,MAAM,CAAC,CAAD,CAA3I;AACA,aAAK,QAAL,CAAc,eAAd,IAAiC,MAAM,CAAC,CAAD,CAAvC;AACA,aAAK,QAAL,CAAc,gBAAd,IAAkC,MAAM,CAAC,CAAD,CAAxC;AACF,OAtkCuB;AAwkCvB,MAAA,WAAW,EAAE,UAAU,MAAV,EAAkB;AAC7B,aAAK,iBAAL;;AAEA,YAAI,WAAW,GAAG,KAAK,QAAL,CAAc,WAAhC;AAAA,YACI,QAAQ,GAAG,KAAK,QAAL,CAAc,QAD7B;AAAA,YAEI,YAAY,GAAG,KAAK,QAAL,CAAc,YAFjC;AAAA,YAGI,YAAY,GAAG,KAAK,QAAL,CAAc,YAHjC;AAAA,YAII,aAAa,GAAG,KAAK,QAAL,CAAc,aAJlC;AAAA,YAKI,gBAAgB,GAAG,KAAK,QAAL,CAAc,gBALrC;AAAA,YAMI,SAAS,GAAG,KAAK,QAAL,CAAc,aAN9B;AAAA,YAOI,WAAW,GAAG,KAAK,QAAL,CAAc,WAPhC;AAAA,YAQI,eARJ;AAAA,YASI,UATJ;AAAA,YAUI,SAAS,GAAG,CAVhB;AAAA,YAWI,SAXJ;AAAA,YAYI,UAZJ;AAAA,YAaI,SAbJ;AAAA,YAcI,kBAdJ;AAAA,YAeI,QAfJ;AAAA,YAgBI,QAhBJ;;AAkBA,YAAI,KAAK,OAAL,CAAa,UAAjB,EAA6B;AAC3B;AACA;AACA;AACA;AACA,UAAA,QAAQ,GAAG,QAAQ,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAA9C,GAAuD,WAAW,CAAC,IAA9E;AAEA,UAAA,QAAQ,GAAG,KAAK,QAAL,CAAc,eAAd,GAAgC,KAAK,QAAL,CAAc,eAA9C,GAAgE,KAAK,QAAL,CAAc,UAAd,CAAyB,IAAzF,IAAiG,QAAQ,GAAG,KAAK,QAAL,CAAc,UAAd,CAAyB,IAApC,GAA2C,EAA3C,GAAgD,KAAK,QAAL,CAAc,eAA1K,CAP2B,CAS3B;;AACA,cAAI,KAAK,YAAL,CAAkB,WAAlB,KAAkC,IAAtC,EAA4C;AAC1C,YAAA,QAAQ,GAAG,KAAK,YAAL,CAAkB,MAA7B;AACD;;AAED,eAAI,WAAJ,CAAiB,WAAjB,CAA6B,UAAU,CAAC,MAAxC,EAAgD,QAAhD;AACA,eAAK,YAAL,CAAkB,MAAlB,GAA2B,QAA3B;AACD;;AAED,YAAI,KAAK,OAAL,CAAa,IAAb,KAAsB,MAA1B,EAAkC;AAChC,UAAA,UAAU,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAAnC,GAA4C,CAA5C,GAAgD,KAAK,QAAL,CAAc,QAAd,GAAyB,CAAzB,GAA6B,KAAK,QAAL,CAAc,UAAd,CAAyB,IAAtD,GAA6D,CAA7G,GAAiH,CAA9H;AACA,UAAA,UAAU,GAAG,KAAK,QAAL,CAAc,eAAd,GAAgC,KAAK,QAAL,CAAc,UAAd,CAAyB,IAAtE;AACA,UAAA,SAAS,GAAG,UAAU,GAAG,YAAb,GAA4B,YAA5B,GAA2C,aAA3C,GAA2D,gBAAvE;AACA,UAAA,kBAAkB,GAAG,IAAI,CAAC,GAAL,CAAS,UAAU,GAAG,WAAW,CAAC,IAAlC,EAAwC,CAAxC,CAArB;;AAEA,cAAI,KAAI,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,MAArC,CAAJ,EAAkD;AAChD,YAAA,UAAU,GAAG,KAAK,QAAL,CAAc,eAAd,GAAgC,KAAK,QAAL,CAAc,UAAd,CAAyB,IAAtE;AACD;;AAED,UAAA,SAAS,GAAG,UAAZ;AACA,UAAA,eAAe,GAAG,UAAU,GAAG,YAAb,GAA4B,YAA5B,GAA2C,aAA3C,GAA2D,gBAA3D,GAA8E,WAAW,CAAC,IAA5G;AACD,SAZD,MAYO,IAAI,KAAK,OAAL,CAAa,IAAb,IAAqB,KAAK,OAAL,CAAa,IAAb,IAAqB,MAA1C,IAAoD,KAAK,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAAnC,GAA4C,KAAK,OAAL,CAAa,IAAjH,EAAuH;AAC5H,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,OAAL,CAAa,IAAjC,EAAuC,CAAC,EAAxC,EAA4C;AAC1C,gBAAI,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAA/B,EAAkC,IAAlC,KAA2C,SAA/C,EAA0D,SAAS;AACpE;;AAED,UAAA,UAAU,GAAG,QAAQ,GAAG,KAAK,OAAL,CAAa,IAAxB,GAA+B,SAAS,GAAG,SAA3C,GAAuD,WAAW,CAAC,IAAhF;AACA,UAAA,eAAe,GAAG,UAAU,GAAG,WAAW,CAAC,IAA3C;AACA,UAAA,SAAS,GAAG,UAAU,GAAG,YAAb,GAA4B,YAA5B,GAA2C,aAA3C,GAA2D,gBAAvE;AACA,UAAA,SAAS,GAAG,kBAAkB,GAAG,EAAjC;AACD;;AAED,aAAI,KAAJ,CAAW,GAAX,CAAc;AACZ,wBAAc,SAAS,GAAG,IADd;AAEZ,sBAAY,QAFA;AAGZ,wBAAc,SAAS,GAAG;AAHd,SAAd;AAMA,aAAI,UAAJ,CAAgB,GAAhB,CAAmB;AACjB,wBAAc,eAAe,GAAG,IADf;AAEjB,wBAAc,MAFG;AAGjB,wBAAc,kBAAkB,GAAG;AAHlB,SAAnB,EApE6B,CA0E7B;;AACA,aAAK,QAAL,CAAc,eAAd,GAAgC,IAAI,CAAC,GAAL,CAAS,eAAT,EAA0B,CAA1B,CAAhC;;AAEA,YAAI,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAA/B,IAAyC,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAA/B,GAAwC,CAAvE,EAA0E,QAA1E,GAAqF,KAAK,QAAL,CAAc,eAAhJ,EAAiK;AAC/J,eAAK,QAAL,CAAc,YAAd,GAA6B,IAA7B;AACA,eAAK,QAAL,CAAc,cAAd,GAA+B,KAAK,QAAL,CAAc,SAAd,GAA0B,KAAK,QAAL,CAAc,cAAvE;AACD;;AAED,YAAI,KAAK,OAAL,CAAa,kBAAb,KAAoC,MAAxC,EAAgD;AAC9C,eAAI,KAAJ,CAAW,WAAX,CAAuB,UAAU,CAAC,SAAlC,EAA6C,KAAK,QAAL,CAAc,gBAAd,GAAiC,KAAK,QAAL,CAAc,iBAA/C,IAAoE,KAAK,QAAL,CAAc,iBAAd,GAAmC,KAAK,QAAL,CAAc,cAAd,GAA+B,WAAnL;AACD;;AAED,YAAI,KAAK,QAAL,IAAiB,KAAK,QAAL,CAAc,OAAnC,EAA4C,KAAK,QAAL,CAAc,OAAd,CAAsB,MAAtB;AAC9C,OA/pCuB;AAiqCvB,MAAA,OAAO,EAAE,UAAU,OAAV,EAAmB;AAC1B,aAAK,QAAL,CAAc,OAAd;AAEA,YAAI,KAAK,OAAL,CAAa,MAAjB,EAAyB,KAAI,KAAJ,CAAW,GAAX,CAAc,aAAd,EAA8B,CAA9B;;AAEzB,YAAI,KAAK,OAAL,CAAa,IAAb,KAAsB,KAA1B,EAAiC;AAC/B,cAAI,IAAI,GAAG,IAAX;AAAA,cACI,OAAO,GAAG,CAAA,CAAE,MAAF,CADd;AAGA,eAAK,WAAL;;AAEA,cAAI,KAAK,OAAL,CAAa,UAAjB,EAA6B;AAC3B,iBAAI,UAAJ,CACG,GADH,CACM,8CADN,EAEG,EAFH,CAEK,8CAFL,EAEsD,YAAY;AAC9D,qBAAO,IAAI,CAAC,WAAL,EAAP;AACF,aAJF;AAKD;;AAED,cAAI,KAAK,OAAL,CAAa,IAAb,KAAsB,MAA1B,EAAkC;AAChC,YAAA,OAAO,CACJ,GADH,CACM,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,cAA9C,GAA+D,SAA/D,GAA2E,SAA3E,GAAuF,GAAvF,GAA6F,KAAK,QAAlG,GAA6G,cADnH,EAEG,EAFH,CAEK,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,cAA9C,GAA+D,SAA/D,GAA2E,SAA3E,GAAuF,GAAvF,GAA6F,KAAK,QAAlG,GAA6G,cAFlH,EAEkI,YAAY;AAC1I,qBAAO,IAAI,CAAC,WAAL,EAAP;AACF,aAJF;AAKD,WAND,MAMO,IAAI,KAAK,OAAL,CAAa,IAAb,IAAqB,KAAK,OAAL,CAAa,IAAb,IAAqB,MAA1C,IAAoD,KAAK,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAAnC,GAA4C,KAAK,OAAL,CAAa,IAAjH,EAAuH;AAC5H,YAAA,OAAO,CAAC,GAAR,CAAW,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,cAA9C,GAA+D,SAA/D,GAA2E,SAA3E,GAAuF,GAAvF,GAA6F,KAAK,QAAlG,GAA6G,cAAxH;AACD;AACF;;AAED,aAAK,UAAL,CAAgB,KAAhB,EAAuB,IAAvB,EAA6B,OAA7B;AACF,OAhsCuB;AAksCvB,MAAA,QAAQ,EAAE,YAAY;AACpB,YAAI,IAAI,GAAG,IAAX;;AAEA,YAAI,KAAK,OAAL,CAAa,KAAb,KAAuB,MAA3B,EAAmC;AACjC,UAAA,qBAAqB,CAAC,YAAY;AAChC,YAAA,IAAI,CAAA,KAAJ,CAAW,GAAX,CAAc,WAAd,EAA4B,GAA5B;AAEA,YAAA,IAAI,CAAA,QAAJ,CAAc,EAAd,CAAgB,WAAY,SAA5B,EAAuC,YAAY;AACjD,cAAA,IAAI,CAAC,QAAL;AACA,cAAA,IAAI,CAAC,WAAL,GAFiD,CAIjD;;AACA,kBAAI,YAAY,GAAG,IAAI,CAAA,WAAJ,CAAiB,KAAjB,GAAyB,QAAzB,CAAiC,MAAjC,CAAnB;AAAA,kBACI,QAAQ,GAAG,YAAY,CAAC,GAAb,CAAgB,OAAhB,EAA0B,MAA1B,EAAkC,QAAlC,CAA0C,QAA1C,EAAqD,UAArD,EADf;AAGA,cAAA,YAAY,CAAC,MAAb,GARiD,CAUjD;;AACA,cAAA,IAAI,CAAC,QAAL,CAAc,WAAd,GAA4B,IAAI,CAAC,GAAL,CAAS,IAAI,CAAC,QAAL,CAAc,cAAvB,EAAuC,QAAvC,CAA5B;AACA,cAAA,IAAI,CAAA,WAAJ,CAAiB,GAAjB,CAAoB,OAApB,EAA8B,IAAI,CAAC,QAAL,CAAc,WAAd,GAA4B,IAA1D;AACF,aAbA;AAcF,WAjBqB,CAArB;AAkBD,SAnBD,MAmBO,IAAI,KAAK,OAAL,CAAa,KAAb,KAAuB,KAA3B,EAAkC;AACvC;AACA,eAAI,KAAJ,CAAW,GAAX,CAAc,WAAd,EAA4B,EAA5B;AACA,eAAI,WAAJ,CAAiB,GAAjB,CAAoB,OAApB,EAA8B,EAA9B,EAAkC,QAAlC,CAA0C,WAA1C;AACD,SAJM,MAIA,IAAI,KAAK,OAAL,CAAa,KAAjB,EAAwB;AAC7B;AACA,eAAI,KAAJ,CAAW,GAAX,CAAc,WAAd,EAA4B,EAA5B;AACA,eAAI,WAAJ,CAAiB,GAAjB,CAAoB,OAApB,EAA8B,KAAK,OAAL,CAAa,KAA3C;AACD,SAJM,MAIA;AACL;AACA,eAAI,KAAJ,CAAW,GAAX,CAAc,WAAd,EAA4B,EAA5B;AACA,eAAI,WAAJ,CAAiB,GAAjB,CAAoB,OAApB,EAA8B,EAA9B;AACD,SAlCmB,CAmCpB;;;AACA,YAAI,KAAI,WAAJ,CAAiB,QAAjB,CAAyB,WAAzB,KAA0C,KAAK,OAAL,CAAa,KAAb,KAAuB,KAArE,EAA4E;AAC1E,eAAI,WAAJ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,MAA9B,CAAoC,WAApC;AACD;AACH,OAzuCuB;AA2uCvB,MAAA,cAAc,EAAE,YAAY;AAC1B,aAAI,YAAJ,GAAoB,CAAA,CAAA,8BAAA,CAApB;;AAEA,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,UAAU,GAAG,CAAA,CAAE,KAAK,OAAL,CAAa,SAAf,CADjB;AAAA,YAEI,GAFJ;AAAA,YAGI,YAHJ;AAAA,YAII,YAJJ;AAAA,YAKI,YAAY,GAAG,UAAS,QAAT,EAAoB;AACjC,cAAI,iBAAiB,GAAG,EAAxB;AAAA,cACI;AACA,UAAA,OAAO,GAAG,IAAI,CAAC,OAAL,CAAa,OAAb,MACR;AACA,UAAA,CAAA,CAAE,EAAF,CAAK,QAAL,CAAc,WAAd,CAA0B,OAA1B,GAAoC,CAAA,CAAE,EAAF,CAAK,QAAL,CAAc,WAAd,CAA0B,OAA1B,CAAkC,OAAtE,GACE,KAHM,CAFd;AAQA,UAAA,IAAI,CAAA,YAAJ,CAAkB,QAAlB,CAA0B,QAAS,CAAC,IAAV,CAAc,OAAd,EAAwB,OAAxB,CAA+B,0BAA/B,EAA4D,EAA5D,CAA1B,EAA2F,WAA3F,CAAuG,UAAU,CAAC,MAAlH,EAA0H,QAAQ,CAAC,QAAT,CAAkB,UAAU,CAAC,MAA7B,CAA1H;AACA,UAAA,GAAG,GAAG,QAAQ,CAAC,MAAT,EAAN;;AAEA,cAAG,CAAA,UAAY,CAAC,EAAb,CAAe,MAAf,CAAH,EAA4B;AAC1B,YAAA,YAAY,GAAG,UAAU,CAAC,MAAX,EAAf;AACA,YAAA,YAAY,CAAC,GAAb,IAAoB,QAAQ,CAAA,UAAW,CAAC,GAAZ,CAAe,gBAAf,CAAA,CAAR,GAA6C,UAAU,CAAC,SAAX,EAAjE;AACA,YAAA,YAAY,CAAC,IAAb,IAAqB,QAAQ,CAAA,UAAW,CAAC,GAAZ,CAAe,iBAAf,CAAA,CAAR,GAA8C,UAAU,CAAC,UAAX,EAAnE;AACD,WAJD,MAIO;AACL,YAAA,YAAY,GAAG;AAAE,cAAA,GAAG,EAAE,CAAP;AAAU,cAAA,IAAI,EAAE;AAAhB,aAAf;AACD;;AAED,UAAA,YAAY,GAAG,QAAQ,CAAC,QAAT,CAAkB,UAAU,CAAC,MAA7B,IAAuC,CAAvC,GAA2C,QAAQ,CAAC,CAAD,CAAR,CAAY,YAAtE,CApBiC,CAsBjC;;AACA,cAAI,OAAO,CAAC,KAAR,GAAgB,CAAhB,IAAqB,OAAO,KAAK,QAArC,EAA+C;AAC7C,YAAA,iBAAiB,CAAC,GAAlB,GAAwB,GAAG,CAAC,GAAJ,GAAU,YAAY,CAAC,GAAvB,GAA6B,YAArD;AACA,YAAA,iBAAiB,CAAC,IAAlB,GAAyB,GAAG,CAAC,IAAJ,GAAW,YAAY,CAAC,IAAjD;AACD;;AAED,UAAA,iBAAiB,CAAC,KAAlB,GAA0B,QAAQ,CAAC,CAAD,CAAR,CAAY,WAAtC;AAEA,UAAA,IAAI,CAAA,YAAJ,CAAkB,GAAlB,CAAsB,iBAAtB;AACF,SApCJ;;AAsCA,aAAI,OAAJ,CAAa,EAAb,CAAe,4BAAf,EAA8C,YAAY;AACxD,cAAI,IAAI,CAAC,UAAL,EAAJ,EAAuB;AACrB;AACD;;AAED,UAAA,YAAY,CAAC,IAAI,CAAA,WAAL,CAAZ;AAEA,UAAA,IAAI,CAAA,YAAJ,CACG,QADH,CACY,IAAI,CAAC,OAAL,CAAa,SADzB,EAEG,WAFH,CAEe,UAAU,CAAC,IAF1B,EAEgC,CAAC,IAAI,CAAA,OAAJ,CAAa,QAAb,CAAsB,UAAU,CAAC,IAAjC,CAFjC,EAGG,MAHH,CAGU,IAAI,CAAA,KAHd;AAIF,SAXA;AAaA,QAAA,CAAA,CAAE,MAAF,CAAA,CACG,GADH,CACM,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,SAA9C,GAA0D,SAA1D,GAAsE,GAAtE,GAA4E,KAAK,QADvF,EAEG,EAFH,CAEK,WAAY,SAAZ,GAAwB,GAAxB,GAA8B,KAAK,QAAnC,GAA8C,SAA9C,GAA0D,SAA1D,GAAsE,GAAtE,GAA4E,KAAK,QAFtF,EAEgG,YAAY;AACxG,cAAI,QAAQ,GAAG,IAAI,CAAA,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,IAArC,CAAf;AAEA,cAAI,QAAJ,EAAc,YAAY,CAAC,IAAI,CAAA,WAAL,CAAZ;AAChB,SANF;AAQA,aAAI,QAAJ,CAAc,EAAd,CAAgB,SAAU,SAA1B,EAAqC,YAAY;AAC/C,UAAA,IAAI,CAAA,KAAJ,CAAW,IAAX,CAAe,QAAf,EAA0B,IAAI,CAAA,KAAJ,CAAW,MAAX,EAA1B;AACA,UAAA,IAAI,CAAA,YAAJ,CAAkB,MAAlB;AACF,SAHA;AAIF,OA7yCuB;AA+yCvB,MAAA,eAAe,EAAE,UAAU,YAAV,EAAwB;AACvC,YAAI,IAAI,GAAG,IAAX;AAEA,QAAA,IAAI,CAAC,QAAL,GAAgB,KAAhB;;AAEA,YAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,IAA0C,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,CAAuC,MAArF,EAA6F;AAC3F,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,eAAvB,CAAuC,MAA3D,EAAmE,CAAC,EAApE,EAAwE;AACtE,gBAAI,MAAM,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAAC,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA1D,CAAb;AAAA,gBACI,MAAM,GAAG,MAAM,CAAC,MADpB;;AAGA,gBAAI,MAAJ,EAAY;AACV,kBAAI,YAAY,KAAK,IAArB,EAA2B;AACzB,gBAAA,IAAI,CAAC,WAAL,CACE,MAAM,CAAC,KADT,EAEE,MAAM,CAAC,QAFT;AAID;;AAED,cAAA,IAAI,CAAC,WAAL,CACE,MAAM,CAAC,KADT,EAEE,MAAM,CAAC,QAFT;AAID;AACF;AACF;AACH,OAx0CuB;;AA00CvB;AACJ;AACA;AACA;AACI,MAAA,WAAW,EAAE,UAAU,KAAV,EAAiB,QAAjB,EAA2B;AACtC,YAAI,EAAE,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,KAAhC,CAAT;AAAA,YACI,MAAM,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,KAA5B,CADb;AAAA,YAEI,gBAAgB,GAAG,KAAK,WAAL,KAAqB,SAF5C;AAAA,YAGI,YAAY,GAAG,KAAK,WAAL,KAAqB,KAHxC;AAAA,YAII,UAJJ;AAAA,YAKI,CALJ;AAAA,YAMI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAA,UAAU,GAAG,YAAY,IAAK,QAAQ,IAAI,CAAC,KAAK,QAAlB,IAA8B,CAAC,gBAbjE;AAeA,QAAA,MAAM,CAAC,QAAP,GAAkB,QAAlB;AAEA,QAAA,CAAC,GAAG,EAAE,CAAC,UAAP;;AAEA,YAAI,QAAJ,EAAc;AACZ,eAAK,aAAL,GAAqB,KAArB;AACD;;AAED,QAAA,EAAE,CAAC,SAAH,CAAa,MAAb,CAAmB,UAAnB,EAAgC,QAAhC;;AAEA,YAAI,UAAJ,EAAgB;AACd,eAAK,SAAL,CAAe,EAAf,EAAmB,MAAnB;AACA,eAAK,YAAL,CAAkB,IAAlB,CAAuB,aAAvB,GAAuC,EAAvC;AACA,eAAK,WAAL,GAAmB,KAAnB;AACD,SAJD,MAIO;AACL,eAAK,WAAL,CAAiB,EAAjB;AACD;;AAED,YAAI,CAAJ,EAAO;AACL,UAAA,CAAC,CAAC,SAAF,CAAY,MAAZ,CAAkB,UAAlB,EAA+B,QAA/B;;AAEA,cAAI,QAAJ,EAAc;AACZ,YAAA,CAAC,CAAC,YAAF,CAAc,eAAd,EAAgC,IAAhC;AACD,WAFD,MAEO;AACL,gBAAI,KAAK,QAAT,EAAmB;AACjB,cAAA,CAAC,CAAC,YAAF,CAAc,eAAd,EAAgC,KAAhC;AACD,aAFD,MAEO;AACL,cAAA,CAAC,CAAC,eAAF,CAAiB,eAAjB;AACD;AACF;AACF;;AAED,YAAG,CAAE,UAAF,IAAgB,CAAC,gBAAjB,IAAqC,QAArC,IAAiD,KAAK,eAAL,KAAyB,SAA7E,EAAwF;AACtF,UAAA,UAAU,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,KAAK,eAArC,CAAb;AAEA,eAAK,WAAL,CAAiB,UAAjB;AACD;AACH,OAn4CuB;;AAq4CvB;AACJ;AACA;AACA;AACI,MAAA,WAAW,EAAE,UAAU,KAAV,EAAiB,QAAjB,EAA2B;AACtC,YAAI,EAAE,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,KAAhC,CAAT;AAAA,YACI,CADJ;AAGA,aAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,KAA5B,EAAmC,QAAnC,GAA8C,QAA9C;AAEA,QAAA,CAAC,GAAG,EAAE,CAAC,UAAP;AAEA,QAAA,EAAE,CAAC,SAAH,CAAa,MAAb,CAAoB,UAAU,CAAC,QAA/B,EAAyC,QAAzC;;AAEA,YAAI,CAAJ,EAAO;AACL,cAAI,OAAO,CAAC,KAAR,KAAkB,GAAtB,EAA2B,CAAC,CAAC,SAAF,CAAY,MAAZ,CAAmB,UAAU,CAAC,QAA9B,EAAwC,QAAxC;;AAE3B,cAAI,QAAJ,EAAc;AACZ,YAAA,CAAC,CAAC,YAAF,CAAc,eAAd,EAAgC,QAAhC;AACA,YAAA,CAAC,CAAC,YAAF,CAAc,UAAd,EAA2B,CAAC,CAA5B;AACD,WAHD,MAGO;AACL,YAAA,CAAC,CAAC,eAAF,CAAiB,eAAjB;AACA,YAAA,CAAC,CAAC,YAAF,CAAc,UAAd,EAA2B,CAA3B;AACD;AACF;AACH,OA95CuB;AAg6CvB,MAAA,UAAU,EAAE,YAAY;AACtB,eAAO,KAAI,QAAJ,CAAc,CAAd,EAAiB,QAAxB;AACF,OAl6CuB;AAo6CvB,MAAA,aAAa,EAAE,YAAY;AACzB,YAAI,KAAK,UAAL,EAAJ,EAAuB;AACrB,eAAI,WAAJ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,GAA9B,CAAkC,UAAU,CAAC,QAA7C;AACA,eAAI,OAAJ,CAAa,QAAb,CAAsB,UAAU,CAAC,QAAjC,EAA2C,IAA3C,CAA+C,eAA/C,EAAiE,IAAjE;AACD,SAHD,MAGO;AACL,cAAI,KAAI,OAAJ,CAAa,CAAb,EAAgB,SAAhB,CAA0B,QAA1B,CAAmC,UAAU,CAAC,QAA9C,CAAJ,EAA6D;AAC3D,iBAAI,WAAJ,CAAiB,CAAjB,EAAoB,SAApB,CAA8B,MAA9B,CAAqC,UAAU,CAAC,QAAhD;AACA,iBAAI,OAAJ,CAAa,WAAb,CAAyB,UAAU,CAAC,QAApC,EAA8C,IAA9C,CAAkD,eAAlD,EAAoE,KAApE;AACD;AACF;AACH,OA96CuB;AAg7CvB,MAAA,aAAa,EAAE,YAAY;AACzB,YAAI,IAAI,GAAG,IAAX;AAAA,YACI,SAAS,GAAG,CAAA,CAAE,QAAF,CADhB;AAGA,QAAA,SAAS,CAAC,IAAV,CAAc,aAAd,EAA8B,KAA9B;AAEA,aAAI,OAAJ,CAAa,EAAb,CAAe,OAAf,EAAyB,UAAU,CAAV,EAAa;AACpC,cAAG,OAAQ,IAAR,CAAa,CAAC,CAAC,OAAF,CAAU,QAAV,CAAmB,EAAnB,CAAb,KAAwC,SAAS,CAAC,IAAV,CAAc,aAAd,CAA3C,EAA0E;AACxE,YAAA,CAAC,CAAC,cAAF;AACA,YAAA,SAAS,CAAC,IAAV,CAAc,aAAd,EAA8B,KAA9B;AACD;AACH,SALA;AAOA,aAAI,WAAJ,CAAiB,EAAjB,CAAmB,kBAAnB,EAAwC,YAAY;AAClD,cAAI,OAAO,CAAC,KAAR,GAAgB,CAAhB,IAAqB,CAAC,IAAI,CAAC,QAA/B,EAAyC;AACvC,YAAA,IAAI,CAAC,QAAL,GAAgB,IAAI,CAAA,OAAJ,CAAa,IAAb,CAAiB,aAAjB,CAAhB;AACA,YAAA,IAAI,CAAC,QAAL,CAAc,KAAd,GAAsB,IAAI,CAAA,KAAJ,CAAW,CAAX,CAAtB;AACD;AACH,SALA;AAOA,aAAI,OAAJ,CAAa,EAAb,CAAe,4BAAf,EAA8C,YAAY;AACxD,cAAG,CAAE,IAAI,CAAA,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,IAArC,CAAL,EAAiD;AAC/C,YAAA,IAAI,CAAC,OAAL;AACD;AACH,SAJA;;AAMA,iBAAS,QAAT,GAAqB;AACnB,cAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,WAFD,MAEO;AACL,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD;AACF;;AAED,iBAAS,iBAAT,GAA8B;AAC5B,cAAI,IAAI,CAAC,QAAL,IAAiB,IAAI,CAAC,QAAL,CAAc,OAA/B,IAA0C,IAAI,CAAC,QAAL,CAAc,OAAd,CAAsB,KAAtB,CAA4B,SAA1E,EAAqF;AACnF,YAAA,QAAQ;AACT,WAFD,MAEO;AACL,YAAA,qBAAqB,CAAC,iBAAD,CAArB;AACD;AACF;;AAED,aAAI,QAAJ,CAAc,EAAd,CAAgB,UAAW,SAA3B,EAAsC,YAAY;AAChD,cAAI,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,KAAiC,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA5D,EAAuE;AACrE,YAAA,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,GAA+B,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAAtD;AACD;;AAED,cAAI,OAAO,CAAC,KAAR,GAAgB,CAApB,EAAuB;AACrB,YAAA,qBAAqB,CAAC,iBAAD,CAArB;AACD,WAFD,MAEO;AACL,YAAA,QAAQ;AACT;AACH,SAVA,EA1CyB,CAsDzB;;AACA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,YAAlB,EAAiC,MAAjC,EAAyC,UAAU,CAAV,EAAa;AACpD,cAAI,OAAO,GAAG,KAAK,aAAnB;AAAA,cACI,SAAS,GAAG,IAAI,CAAC,SAAL,KAAmB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA1C,GAAsD,CADtE;AAAA,cAEI,KAAK,GAAG,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,OAAO,CAAC,aAAR,CAAsB,QAAnD,EAA6D,OAA7D,CAFZ;AAAA,cAGI,SAAS,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,KAAK,GAAG,SAAvC,CAHhB;AAKA,UAAA,IAAI,CAAC,SAAL,CAAe,OAAf,EAAwB,SAAxB,EAAmC,IAAnC;AACF,SAPA;AASA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,OAAlB,EAA4B,MAA5B,EAAoC,UAAU,CAAV,EAAa,YAAb,EAA2B;AAC7D,cAAI,KAAK,GAAG,CAAA,CAAE,IAAF,CAAZ;AAAA,cACI,OAAO,GAAG,IAAI,CAAA,QAAJ,CAAc,CAAd,CADd;AAAA,cAEI,SAAS,GAAG,IAAI,CAAC,SAAL,KAAmB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA1C,GAAsD,CAFtE;AAAA,cAGI,WAAW,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA8B,KAAM,CAAC,MAAP,GAAgB,KAAhB,KAA0B,SAAxD,CAHlB;AAAA,cAII,YAAY,GAAG,WAAW,CAAC,KAJ/B;AAAA,cAKI,SAAS,GAAG,eAAe,CAAC,OAAD,CAL/B;AAAA,cAMI,SAAS,GAAG,OAAO,CAAC,aANxB;AAAA,cAOI,UAAU,GAAG,OAAO,CAAC,OAAR,CAAgB,SAAhB,CAPjB;AAAA,cAQI,aAAa,GAAG,IARpB,CAD6D,CAW7D;;AACA,cAAI,IAAI,CAAC,QAAL,IAAiB,IAAI,CAAC,OAAL,CAAa,UAAb,KAA4B,CAAjD,EAAoD;AAClD,YAAA,CAAC,CAAC,eAAF;AACD;;AAED,UAAA,CAAC,CAAC,cAAF,GAhB6D,CAkB7D;;AACA,cAAG,CAAE,IAAI,CAAC,UAAL,EAAF,IAAuB,CAAA,KAAM,CAAC,MAAP,GAAgB,QAAhB,CAAyB,UAAU,CAAC,QAApC,CAA1B,EAAyE;AACvE,gBAAI,MAAM,GAAG,WAAW,CAAC,MAAzB;AAAA,gBACI,OAAO,GAAG,CAAA,CAAE,MAAF,CADd;AAAA,gBAEI,KAAK,GAAG,MAAM,CAAC,QAFnB;AAAA,gBAGI,SAAS,GAAG,OAAO,CAAC,MAAR,CAAc,UAAd,CAHhB;AAAA,gBAII,gBAAgB,GAAG,SAAS,CAAC,IAAV,CAAc,QAAd,CAJvB;AAAA,gBAKI,UAAU,GAAG,IAAI,CAAC,OAAL,CAAa,UAL9B;AAAA,gBAMI,aAAa,GAAG,SAAS,CAAC,IAAV,CAAc,YAAd,KAAgC,KANpD;AAQA,gBAAI,YAAY,KAAK,IAAI,CAAC,WAA1B,EAAuC,YAAY,GAAG,IAAf;;AAEvC,gBAAG,CAAE,YAAL,EAAmB;AACjB,cAAA,IAAI,CAAC,eAAL,GAAuB,IAAI,CAAC,WAA5B;AACA,cAAA,IAAI,CAAC,WAAL,GAAmB,SAAnB;AACD;;AAED,gBAAG,CAAE,IAAI,CAAC,QAAV,EAAoB;AAAE;AACpB,kBAAI,UAAJ,EAAgB,UAAU,CAAC,QAAX,GAAsB,KAAtB;AAChB,cAAA,MAAM,CAAC,QAAP,GAAkB,IAAlB;AACA,cAAA,IAAI,CAAC,WAAL,CAAiB,YAAjB,EAA+B,IAA/B;AACD,aAJD,MAIO;AAAE;AACP,cAAA,MAAM,CAAC,QAAP,GAAkB,CAAC,KAAnB;AAEA,cAAA,IAAI,CAAC,WAAL,CAAiB,YAAjB,EAA+B,CAAC,KAAhC;AACA,cAAA,IAAI,CAAC,aAAL,CAAmB,KAAnB;;AAEA,kBAAI,UAAU,KAAK,KAAf,IAAwB,aAAa,KAAK,KAA9C,EAAqD;AACnD,oBAAI,UAAU,GAAG,UAAU,GAAG,kBAAkB,CAAC,OAAD,CAAlB,CAA4B,MAA1D;AAAA,oBACI,aAAa,GAAG,aAAa,GAAG,SAAS,CAAC,IAAV,CAAc,iBAAd,EAAkC,MADtE;;AAGA,oBAAK,UAAU,IAAI,UAAhB,IAAgC,aAAa,IAAI,aAApD,EAAoE;AAClE,sBAAI,UAAU,IAAI,UAAU,IAAI,CAAhC,EAAmC;AACjC,oBAAA,OAAO,CAAC,aAAR,GAAwB,CAAC,CAAzB;AACA,oBAAA,MAAM,CAAC,QAAP,GAAkB,IAAlB;AACA,oBAAA,IAAI,CAAC,eAAL,CAAqB,IAArB;AACD,mBAJD,MAIO,IAAI,aAAa,IAAI,aAAa,IAAI,CAAtC,EAAyC;AAC9C,yBAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,gBAAgB,CAAC,MAArC,EAA6C,CAAC,EAA9C,EAAkD;AAChD,0BAAI,OAAO,GAAG,gBAAgB,CAAC,CAAD,CAA9B;AACA,sBAAA,OAAO,CAAC,QAAR,GAAmB,KAAnB;AACA,sBAAA,IAAI,CAAC,WAAL,CAAiB,OAAO,CAAC,OAAzB,EAAkC,KAAlC;AACD;;AAED,oBAAA,MAAM,CAAC,QAAP,GAAkB,IAAlB;AACA,oBAAA,IAAI,CAAC,WAAL,CAAiB,YAAjB,EAA+B,IAA/B;AACD,mBATM,MASA;AACL,wBAAI,cAAc,GAAG,OAAO,IAAI,CAAC,OAAL,CAAa,cAApB,KAAuC,QAAvC,GAAkD,CAAC,IAAI,CAAC,OAAL,CAAa,cAAd,EAA8B,IAAI,CAAC,OAAL,CAAa,cAA3C,CAAlD,GAA+G,IAAI,CAAC,OAAL,CAAa,cAAjJ;AAAA,wBACI,aAAa,GAAG,OAAO,cAAP,KAA0B,UAA1B,GAAuC,cAAc,CAAC,UAAD,EAAa,aAAb,CAArD,GAAmF,cADvG;AAAA,wBAEI,MAAM,GAAG,aAAa,CAAC,CAAD,CAAb,CAAiB,OAAjB,CAAwB,KAAxB,EAAgC,UAAhC,CAFb;AAAA,wBAGI,SAAS,GAAG,aAAa,CAAC,CAAD,CAAb,CAAiB,OAAjB,CAAwB,KAAxB,EAAgC,aAAhC,CAHhB;AAAA,wBAII,OAAO,GAAG,CAAA,CAAA,4BAAA,CAJd,CADK,CAML;;AACA;;AACA,wBAAI,aAAa,CAAC,CAAD,CAAjB,EAAsB;AACpB,sBAAA,MAAM,GAAG,MAAM,CAAC,OAAP,CAAc,OAAd,EAAwB,aAAa,CAAC,CAAD,CAAb,CAAiB,UAAU,GAAG,CAAb,GAAiB,CAAjB,GAAqB,CAAtC,CAAxB,CAAT;AACA,sBAAA,SAAS,GAAG,SAAS,CAAC,OAAV,CAAiB,OAAjB,EAA2B,aAAa,CAAC,CAAD,CAAb,CAAiB,aAAa,GAAG,CAAhB,GAAoB,CAApB,GAAwB,CAAzC,CAA3B,CAAZ;AACD;;AAED,oBAAA,MAAM,CAAC,QAAP,GAAkB,KAAlB;AAEA,oBAAA,IAAI,CAAA,KAAJ,CAAW,MAAX,CAAiB,OAAjB;;AAEA,wBAAI,UAAU,IAAI,UAAlB,EAA8B;AAC5B,sBAAA,OAAO,CAAC,MAAR,CAAc,CAAA,CAAA,UAAa,MAAb,GAAsB,QAAtB,CAAd;AACA,sBAAA,aAAa,GAAG,KAAhB;AACA,sBAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,eAAgB,SAArC;AACD;;AAED,wBAAI,aAAa,IAAI,aAArB,EAAoC;AAClC,sBAAA,OAAO,CAAC,MAAR,CAAc,CAAA,CAAA,UAAa,SAAb,GAAyB,QAAzB,CAAd;AACA,sBAAA,aAAa,GAAG,KAAhB;AACA,sBAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,kBAAmB,SAAxC;AACD;;AAED,oBAAA,UAAU,CAAC,YAAY;AACrB,sBAAA,IAAI,CAAC,WAAL,CAAiB,YAAjB,EAA+B,KAA/B;AACF,qBAFU,EAEP,EAFO,CAAV;AAIA,oBAAA,OAAO,CAAC,CAAD,CAAP,CAAW,SAAX,CAAqB,GAArB,CAAwB,SAAxB;AAEA,oBAAA,UAAU,CAAC,YAAY;AACrB,sBAAA,OAAO,CAAC,MAAR;AACF,qBAFU,EAEP,IAFO,CAAV;AAGD;AACF;AACF;AACF;;AAED,gBAAG,CAAE,IAAI,CAAC,QAAP,IAAoB,IAAI,CAAC,QAAL,IAAiB,IAAI,CAAC,OAAL,CAAa,UAAb,KAA4B,CAApE,EAAwE;AACtE,cAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,OAApB;AACD,aAFD,MAEO,IAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAClC,cAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,aA3FsE,CA6FvE;;;AACA,gBAAI,aAAJ,EAAmB;AACjB,kBAAI,IAAI,CAAC,QAAL,IAAiB,SAAS,KAAK,OAAO,CAAC,aAA3C,EAA0D;AACxD;AACA,gBAAA,gBAAgB,GAAG,CAAC,MAAM,CAAC,KAAR,EAAe,OAAO,CAAC,IAAR,CAAY,UAAZ,CAAf,EAAyC,SAAzC,CAAnB;AACA,gBAAA,IAAI,CAAA,QAAJ,CACG,aADH,CACgB,QADhB;AAED;AACF;AACF;AACH,SA1HA;AA4HA,aAAI,KAAJ,CAAW,EAAX,CAAa,OAAb,EAAuB,QAAQ,UAAU,CAAC,QAAnB,GAA8B,OAA9B,GAAwC,UAAU,CAAC,aAAnD,GAAmE,KAAnE,GAA2E,UAAU,CAAC,aAAtF,GAAsG,eAA7H,EAA8I,UAAU,CAAV,EAAa;AACzJ,cAAI,CAAC,CAAC,aAAF,IAAmB,IAAvB,EAA6B;AAC3B,YAAA,CAAC,CAAC,cAAF;AACA,YAAA,CAAC,CAAC,eAAF;;AACA,gBAAI,IAAI,CAAC,OAAL,CAAa,UAAb,IAA2B,CAAA,CAAA,CAAG,CAAC,CAAC,MAAL,CAAA,CAAa,QAAb,CAAqB,OAArB,CAA/B,EAA+D;AAC7D,cAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,aAFD,MAEO;AACL,cAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,OAApB;AACD;AACF;AACH,SAVA;AAYA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,OAAlB,EAA4B,4BAA5B,EAA0D,UAAU,CAAV,EAAa;AACrE,UAAA,CAAC,CAAC,cAAF;AACA,UAAA,CAAC,CAAC,eAAF;;AACA,cAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,WAFD,MAEO;AACL,YAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,OAApB;AACD;AACH,SARA;AAUA,aAAI,KAAJ,CAAW,EAAX,CAAa,OAAb,EAAuB,MAAM,UAAU,CAAC,aAAjB,GAAiC,SAAxD,EAAmE,YAAY;AAC7E,UAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,OAApB;AACF,SAFA;AAIA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,OAAlB,EAA4B,UAAU,CAAV,EAAa;AACvC,UAAA,CAAC,CAAC,eAAF;AACF,SAFA;AAIA,aAAI,KAAJ,CAAW,EAAX,CAAa,OAAb,EAAuB,cAAvB,EAAuC,UAAU,CAAV,EAAa;AAClD,cAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,WAFD,MAEO;AACL,YAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,OAApB;AACD;;AAED,UAAA,CAAC,CAAC,cAAF;AACA,UAAA,CAAC,CAAC,eAAF;;AAEA,cAAG,CAAA,CAAG,IAAH,CAAA,CAAS,QAAT,CAAiB,eAAjB,CAAH,EAAuC;AACrC,YAAA,IAAI,CAAC,SAAL;AACD,WAFD,MAEO;AACL,YAAA,IAAI,CAAC,WAAL;AACD;AACH,SAfA;AAiBA,aAAI,OAAJ,CACG,EADH,CACK,UAAW,SADhB,EAC2B,UAAU,CAAV,EAAa;AACpC,cAAI,QAAQ,GAAG,IAAI,CAAA,QAAJ,CAAc,CAAd,EAAiB,YAAjB,CAA6B,UAA7B,CAAf,CADoC,CAGpC;;AACA,cAAI,QAAQ,KAAK,SAAb,IAA0B,CAAC,CAAC,aAA5B,IAA6C,CAAC,CAAC,aAAF,CAAgB,SAAjE,EAA4E;AAC1E;AACA,iBAAK,YAAL,CAAiB,UAAjB,EAA8B,QAA9B,EAF0E,CAG1E;;AACA,YAAA,IAAI,CAAA,QAAJ,CAAc,CAAd,EAAiB,YAAjB,CAA6B,UAA7B,EAA0C,CAAC,CAA3C;AACA,YAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,GAAkC,QAAlC;AACD;AACH,SAZF,EAaG,EAbH,CAaK,SAAU,SAbf,EAa0B,UAAU,CAAV,EAAa;AACnC;AACA,cAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,KAAoC,SAApC,IAAiD,CAAC,CAAC,aAAnD,IAAoE,CAAC,CAAC,aAAF,CAAgB,SAAxF,EAAmG;AACjG,YAAA,IAAI,CAAA,QAAJ,CAAc,CAAd,EAAiB,YAAjB,CAA6B,UAA7B,EAA0C,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAjE;AACA,iBAAK,YAAL,CAAiB,UAAjB,EAA8B,CAAC,CAA/B;AACA,YAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,GAAkC,SAAlC;AACD;AACH,SApBF;AAsBA,aAAI,QAAJ,CACG,EADH,CACK,WAAY,SADjB,EAC4B,YAAY;AACpC,UAAA,IAAI,CAAC,MAAL;AACA,UAAA,IAAI,CAAA,QAAJ,CAAc,OAAd,CAAqB,YAAa,SAAlC,EAA6C,gBAA7C;AACA,UAAA,gBAAgB,GAAG,IAAnB;AACF,SALF,EAMG,EANH,CAMK,UAAW,SANhB,EAM2B,YAAY;AACnC,cAAG,CAAE,IAAI,CAAC,OAAL,CAAa,MAAlB,EAA0B,IAAI,CAAA,OAAJ,CAAa,CAAb,EAAgB,KAAhB;AAC5B,SARF;AASF,OA1rDuB;AA4rDvB,MAAA,kBAAkB,EAAE,YAAY;AAC9B,YAAI,IAAI,GAAG,IAAX;AAEA,aAAI,OAAJ,CAAa,EAAb,CAAe,4BAAf,EAA8C,YAAY;AACxD,cAAG,CAAA,CAAG,IAAI,CAAA,UAAJ,CAAgB,GAAhB,EAAN,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,GAAhB,CAAmB,EAAnB;AACA,YAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,aAAzB,GAAyC,SAAzC;AACD;AACH,SALA;AAOA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,qFAAlB,EAA0G,UAAU,CAAV,EAAa;AACrH,UAAA,CAAC,CAAC,eAAF;AACF,SAFA;AAIA,aAAI,UAAJ,CAAgB,EAAhB,CAAkB,sBAAlB,EAA2C,YAAY;AACrD,cAAI,WAAW,GAAG,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,KAArC;AAEA,UAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,QAAzB,GAAoC,EAApC;AACA,UAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,IAAzB,GAAgC,EAAhC;;AAEA,cAAI,WAAJ,EAAiB;AACf,gBAAI,CAAJ;AAAA,gBACI,WAAW,GAAG,EADlB;AAAA,gBAEI,CAAC,GAAG,WAAW,CAAC,WAAZ,EAFR;AAAA,gBAGI,KAAK,GAAG,EAHZ;AAAA,gBAII,QAAQ,GAAG,EAJf;AAAA,gBAKI,WAAW,GAAG,IAAI,CAAC,YAAL,EALlB;AAAA,gBAMI,eAAe,GAAG,IAAI,CAAC,OAAL,CAAa,mBANnC;;AAQA,gBAAI,eAAJ,EAAqB,CAAC,GAAG,eAAe,CAAC,CAAD,CAAnB;;AAErB,iBAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,MAAhD,EAAwD,CAAC,EAAzD,EAA6D;AAC3D,kBAAI,EAAE,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,CAA5B,CAAT;;AAEA,kBAAG,CAAE,KAAK,CAAC,CAAD,CAAV,EAAe;AACb,gBAAA,KAAK,CAAC,CAAD,CAAL,GAAW,YAAY,CAAC,EAAD,EAAK,CAAL,EAAQ,WAAR,EAAqB,eAArB,CAAvB;AACD;;AAED,kBAAI,KAAK,CAAC,CAAD,CAAL,IAAY,EAAE,CAAC,WAAH,KAAmB,SAA/B,IAA4C,QAAQ,CAAC,OAAT,CAAiB,EAAE,CAAC,WAApB,MAAqC,CAAC,CAAtF,EAAyF;AACvF,oBAAI,EAAE,CAAC,WAAH,GAAiB,CAArB,EAAwB;AACtB,kBAAA,KAAK,CAAC,EAAE,CAAC,WAAH,GAAiB,CAAlB,CAAL,GAA4B,IAA5B;AACA,kBAAA,QAAQ,CAAC,IAAT,CAAc,EAAE,CAAC,WAAH,GAAiB,CAA/B;AACD;;AAED,gBAAA,KAAK,CAAC,EAAE,CAAC,WAAJ,CAAL,GAAwB,IAAxB;AACA,gBAAA,QAAQ,CAAC,IAAT,CAAc,EAAE,CAAC,WAAjB;AAEA,gBAAA,KAAK,CAAC,EAAE,CAAC,SAAH,GAAe,CAAhB,CAAL,GAA0B,IAA1B;AACD;;AAED,kBAAI,KAAK,CAAC,CAAD,CAAL,IAAY,EAAE,CAAC,IAAH,KAAY,gBAA5B,EAA8C,QAAQ,CAAC,IAAT,CAAc,CAAd;AAC/C;;AAED,iBAAK,IAAI,CAAC,GAAG,CAAR,EAAW,QAAQ,GAAG,QAAQ,CAAC,MAApC,EAA4C,CAAC,GAAG,QAAhD,EAA0D,CAAC,EAA3D,EAA+D;AAC7D,kBAAI,KAAK,GAAG,QAAQ,CAAC,CAAD,CAApB;AAAA,kBACI,SAAS,GAAG,QAAQ,CAAC,CAAC,GAAG,CAAL,CADxB;AAAA,kBAEI,EAAE,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,KAA5B,CAFT;AAAA,kBAGI,MAAM,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,SAA5B,CAHb;;AAKA,kBAAI,EAAE,CAAC,IAAH,KAAY,SAAZ,IAA0B,EAAE,CAAC,IAAH,KAAY,SAAZ,IAAyB,MAAzB,IAAmC,MAAM,CAAC,IAAP,KAAgB,SAAnD,IAAgE,QAAQ,GAAG,CAAX,KAAiB,CAA/G,EAAmH;AACjH,gBAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,IAAzB,CAA8B,IAA9B,CAAmC,EAAnC;AACA,gBAAA,WAAW,CAAC,IAAZ,CAAiB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,KAAhC,CAAjB;AACD;AACF;;AAED,YAAA,IAAI,CAAC,WAAL,GAAmB,SAAnB;AACA,YAAA,IAAI,CAAC,QAAL,GAAgB,IAAhB;AACA,YAAA,IAAI,CAAA,UAAJ,CAAgB,SAAhB,CAA0B,CAA1B;AACA,YAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,QAAzB,GAAoC,WAApC;AACA,YAAA,IAAI,CAAC,UAAL,CAAgB,IAAhB;AACA,YAAA,aAAa,CAAC,IAAd,CAAmB,IAAnB,EAAyB,WAAzB,EAAsC,WAAtC;AACD,WAnDD,MAmDO,IAAI,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,aAA7B,EAA4C;AAAE;AACnD,YAAA,IAAI,CAAA,UAAJ,CAAgB,SAAhB,CAA0B,CAA1B;AACA,YAAA,IAAI,CAAC,UAAL,CAAgB,KAAhB;AACD;;AAED,UAAA,IAAI,CAAC,YAAL,CAAkB,MAAlB,CAAyB,aAAzB,GAA0C,WAA1C;AACF,SA/DA;AAgEF,OA1wDuB;AA4wDvB,MAAA,YAAY,EAAE,YAAY;AACxB,eAAO,KAAK,OAAL,CAAa,eAAb,IAAgC,UAAvC;AACF,OA9wDuB;AAgxDvB,MAAA,GAAG,EAAE,UAAU,KAAV,EAAiB;AACpB,YAAI,OAAO,GAAG,KAAI,QAAJ,CAAc,CAAd,CAAd;;AAEA,YAAI,OAAO,KAAP,KAAiB,WAArB,EAAkC;AAChC,cAAI,SAAS,GAAG,eAAe,CAAC,OAAD,CAA/B;AAEA,UAAA,gBAAgB,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,SAAb,CAAnB;AAEA,eAAI,QAAJ,CACG,GADH,CACO,KADP,EAEG,OAFH,CAEU,YAAa,SAFvB,EAEkC,gBAFlC;;AAIA,cAAI,KAAI,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,IAArC,CAAJ,EAAgD;AAC9C,gBAAI,KAAK,QAAT,EAAmB;AACjB,mBAAK,eAAL,CAAqB,IAArB;AACD,aAFD,MAEO;AACL,kBAAI,eAAe,GAAG,CAAC,OAAO,CAAC,OAAR,CAAgB,OAAO,CAAC,aAAxB,KAA0C,EAA3C,EAA+C,OAArE;;AAEA,kBAAI,OAAO,eAAP,KAA2B,QAA/B,EAAyC;AACvC,qBAAK,WAAL,CAAiB,KAAK,aAAtB,EAAqC,KAArC;AACA,qBAAK,WAAL,CAAiB,eAAjB,EAAkC,IAAlC;AACD;AACF;AACF;;AAED,eAAK,MAAL;AAEA,UAAA,gBAAgB,GAAG,IAAnB;AAEA,iBAAO,KAAI,QAAX;AACD,SA3BD,MA2BO;AACL,iBAAO,KAAI,QAAJ,CAAc,GAAd,EAAP;AACD;AACH,OAjzDuB;AAmzDvB,MAAA,SAAS,EAAE,UAAU,MAAV,EAAkB;AAC3B,YAAG,CAAE,KAAK,QAAV,EAAoB;AACpB,YAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC,MAAM,GAAG,IAAT;AAEnC,YAAI,OAAO,GAAG,KAAI,QAAJ,CAAc,CAAd,CAAd;AAAA,YACI,gBAAgB,GAAG,CADvB;AAAA,YAEI,eAAe,GAAG,CAFtB;AAAA,YAGI,SAAS,GAAG,eAAe,CAAC,OAAD,CAH/B;AAKA,QAAA,OAAO,CAAC,SAAR,CAAkB,GAAlB,CAAqB,kBAArB;;AAEA,aAAK,IAAI,CAAC,GAAG,CAAR,EAAW,IAAI,GAAG,KAAK,YAAL,CAAkB,OAAlB,CAA0B,IAA5C,EAAkD,GAAG,GAAG,IAAI,CAAC,MAAlE,EAA0E,CAAC,GAAG,GAA9E,EAAmF,CAAC,EAApF,EAAwF;AACtF,cAAI,MAAM,GAAG,IAAI,CAAC,CAAD,CAAjB;AAAA,cACI,MAAM,GAAG,MAAM,CAAC,MADpB;;AAGA,cAAI,MAAM,IAAI,CAAC,MAAM,CAAC,QAAlB,IAA8B,MAAM,CAAC,IAAP,KAAgB,SAAlD,EAA6D;AAC3D,gBAAI,MAAM,CAAC,QAAX,EAAqB,gBAAgB;AACrC,YAAA,MAAM,CAAC,QAAP,GAAkB,MAAlB;AACA,gBAAI,MAAM,KAAK,IAAf,EAAqB,eAAe;AACrC;AACF;;AAED,QAAA,OAAO,CAAC,SAAR,CAAkB,MAAlB,CAAwB,kBAAxB;AAEA,YAAI,gBAAgB,KAAK,eAAzB,EAA0C;AAE1C,aAAK,eAAL;AAEA,QAAA,gBAAgB,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,SAAb,CAAnB;AAEA,aAAI,QAAJ,CACG,aADH,CACgB,QADhB;AAEF,OAn1DuB;AAq1DvB,MAAA,SAAS,EAAE,YAAY;AACrB,eAAO,KAAK,SAAL,CAAe,IAAf,CAAP;AACF,OAv1DuB;AAy1DvB,MAAA,WAAW,EAAE,YAAY;AACvB,eAAO,KAAK,SAAL,CAAe,KAAf,CAAP;AACF,OA31DuB;AA61DvB,MAAA,MAAM,EAAE,UAAU,CAAV,EAAa;AACnB,QAAA,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,KAAhB;AAEA,YAAI,CAAJ,EAAO,CAAC,CAAC,eAAF;AAEP,aAAI,OAAJ,CAAa,OAAb,CAAoB,4BAApB;AACF,OAn2DuB;AAq2DvB,MAAA,OAAO,EAAE,UAAU,CAAV,EAAa;AACpB,YAAI,KAAK,GAAG,CAAA,CAAE,IAAF,CAAZ;AAAA,YACI,QAAQ,GAAG,KAAK,CAAC,QAAN,CAAc,iBAAd,CADf;AAAA,YAEI,OAAO,GAAG,QAAQ,GAAG,KAAK,CAAC,OAAN,CAAa,WAAb,CAAH,GAAgC,KAAK,CAAC,OAAN,CAAc,QAAQ,CAAC,IAAvB,CAFtD;AAAA,YAGI,IAAI,GAAG,OAAO,CAAC,IAAR,CAAY,MAAZ,CAHX;AAAA,YAII,MAAM,GAAG,IAAI,CAAC,OAAL,EAJb;AAAA,YAKI,KALJ;AAAA,YAMI,QANJ;AAAA,YAOI,QAPJ;AAAA,YAQI,QARJ;AAAA,YASI,MATJ;AAAA,YAUI,YAAY,GAAG,KAVnB;AAAA,YAWI,SAAS,GAAG,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,GAArB,IAA4B,CAAC,QAA7B,IAAyC,CAAC,IAAI,CAAC,OAAL,CAAa,WAXvE;AAAA,YAYI,UAAU,GAAG,YAAY,CAAC,IAAb,CAAkB,CAAC,CAAC,KAApB,KAA8B,SAZ/C;AAAA,YAaI,SAAS,GAAG,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAbnC;AAAA,YAcI,SAAS,GAAG,IAAI,CAAC,SAAL,EAdhB;AAAA,YAeI,SAAS,GAAG,SAAS,KAAK,IAAd,GAAqB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,SAA5C,GAAwD,CAfxE,CADoB,CAkBpB;;AACA,YAAI,CAAC,CAAC,KAAF,IAAW,GAAX,IAAkB,CAAC,CAAC,KAAF,IAAW,GAAjC,EAAsC;AAEtC,QAAA,QAAQ,GAAG,IAAI,CAAA,WAAJ,CAAiB,QAAjB,CAA0B,UAAU,CAAC,IAArC,CAAX;;AAEA,YACE,CAAC,QAAD,KAEE,UAAU,IACT,CAAC,CAAC,KAAF,IAAW,EAAX,IAAiB,CAAC,CAAC,KAAF,IAAW,EAD7B,IAEC,CAAC,CAAC,KAAF,IAAW,EAAX,IAAiB,CAAC,CAAC,KAAF,IAAW,GAF7B,IAGC,CAAC,CAAC,KAAF,IAAW,EAAX,IAAiB,CAAC,CAAC,KAAF,IAAW,EAL/B,CADF,EAQE;AACA,UAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,4BAApB;;AAEA,cAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACA;AACD;AACF;;AAED,YAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,MAArB,IAA+B,QAAnC,EAA6C;AAC3C,UAAA,CAAC,CAAC,cAAF;AACA,UAAA,IAAI,CAAA,OAAJ,CAAa,OAAb,CAAoB,4BAApB,EAAmD,OAAnD,CAA0D,OAA1D;AACD;;AAED,YAAI,UAAJ,EAAgB;AAAE;AAChB,cAAG,CAAA,MAAQ,CAAC,MAAZ,EAAoB;AAEpB,UAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,IAAI,CAAC,WAArC,CAAX;AACA,UAAA,KAAK,GAAG,QAAQ,GAAG,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,QAAQ,CAAC,aAAT,CAAuB,QAApD,EAA8D,QAA9D,CAAH,GAA6E,CAAC,CAA9F;;AAEA,cAAI,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,YAAA,IAAI,CAAC,WAAL,CAAiB,QAAjB;AACD;;AAED,cAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,QAAzB,EAAmC;AAAE;AACnC,gBAAI,KAAK,KAAK,CAAC,CAAf,EAAkB,KAAK;AACvB,gBAAI,KAAK,GAAG,SAAR,GAAoB,CAAxB,EAA2B,KAAK,IAAI,MAAM,CAAC,MAAhB;;AAE3B,gBAAG,CAAE,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAAK,GAAG,SAA5C,CAAL,EAA6D;AAC3D,cAAA,KAAK,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAApC,CAA0C,CAA1C,EAA6C,KAAK,GAAG,SAArD,EAAgE,WAAhE,CAA4E,IAA5E,IAAoF,SAA5F;AACA,kBAAI,KAAK,KAAK,CAAC,CAAf,EAAkB,KAAK,GAAG,MAAM,CAAC,MAAP,GAAgB,CAAxB;AACnB;AACF,WARD,MAQO,IAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,UAArB,IAAmC,SAAvC,EAAkD;AAAE;AACzD,YAAA,KAAK;AACL,gBAAI,KAAK,GAAG,SAAR,IAAqB,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,MAA7D,EAAqE,KAAK,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,mBAA/B;;AAErE,gBAAG,CAAE,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAAK,GAAG,SAA5C,CAAL,EAA6D;AAC3D,cAAA,KAAK,GAAG,KAAK,GAAG,CAAR,GAAY,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,KAApC,CAA0C,KAAK,GAAG,SAAR,GAAoB,CAA9D,EAAiE,OAAjE,CAAyE,IAAzE,CAApB;AACD;AACF;;AAED,UAAA,CAAC,CAAC,cAAF;AAEA,cAAI,aAAa,GAAG,SAAS,GAAG,KAAhC;;AAEA,cAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,QAAzB,EAAmC;AAAE;AACnC;AACA,gBAAI,SAAS,KAAK,CAAd,IAAmB,KAAK,KAAK,MAAM,CAAC,MAAP,GAAgB,CAAjD,EAAoD;AAClD,cAAA,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,GAA+B,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,YAAlD;AAEA,cAAA,aAAa,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,MAAnC,GAA4C,CAA5D;AACD,aAJD,MAIO;AACL,cAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,aAA/B,CAAX;AACA,cAAA,MAAM,GAAG,QAAQ,CAAC,QAAT,GAAoB,QAAQ,CAAC,MAAtC;AAEA,cAAA,YAAY,GAAG,MAAM,GAAG,SAAxB;AACD;AACF,WAZD,MAYO,IAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,UAArB,IAAmC,SAAvC,EAAkD;AAAE;AACzD;AACA,gBAAI,KAAK,KAAK,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,mBAArC,EAA0D;AACxD,cAAA,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,GAA+B,CAA/B;AAEA,cAAA,aAAa,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,mBAAvC;AACD,aAJD,MAIO;AACL,cAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,aAA/B,CAAX;AACA,cAAA,MAAM,GAAG,QAAQ,CAAC,QAAT,GAAoB,IAAI,CAAC,QAAL,CAAc,eAA3C;AAEA,cAAA,YAAY,GAAG,MAAM,GAAG,SAAxB;AACD;AACF;;AAED,UAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,QAA1B,CAAmC,aAAnC,CAAX;AAEA,UAAA,IAAI,CAAC,WAAL,GAAmB,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,aAA/B,EAA8C,KAAjE;AAEA,UAAA,IAAI,CAAC,SAAL,CAAe,QAAf;AAEA,UAAA,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,aAAvB,GAAuC,QAAvC;AAEA,cAAI,YAAJ,EAAkB,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,GAA+B,MAA/B;;AAElB,cAAI,IAAI,CAAC,OAAL,CAAa,UAAjB,EAA6B;AAC3B,YAAA,IAAI,CAAA,UAAJ,CAAgB,OAAhB,CAAuB,OAAvB;AACD,WAFD,MAEO;AACL,YAAA,KAAK,CAAC,OAAN,CAAa,OAAb;AACD;AACF,SAxED,MAwEO,IACL,CAAA,KAAO,CAAC,EAAR,CAAU,OAAV,CAAA,IAAuB,CAAC,oBAAoB,CAAC,IAArB,CAA0B,CAAC,CAAC,KAA5B,CAAxB,IACC,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,KAArB,IAA8B,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAFpD,EAGL;AACA,cAAI,WAAJ;AAAA,cACI,OAAO,GAAG,EADd;AAAA,cAEI,UAFJ;AAIA,UAAA,CAAC,CAAC,cAAF;AAEA,UAAA,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAA1B,IAAwC,UAAU,CAAC,CAAC,CAAC,KAAH,CAAlD;AAEA,cAAI,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,eAA1B,CAA0C,MAA9C,EAAsD,YAAY,CAAC,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,eAA1B,CAA0C,MAA3C,CAAZ;AACtD,UAAA,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,eAA1B,CAA0C,MAA1C,GAAmD,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,eAA1B,CAA0C,KAA1C,EAAnD;AAEA,UAAA,UAAU,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAAvC,CAZA,CAcA;;AACA,cAAG,WAAY,IAAZ,CAAiB,UAAjB,CAAH,EAAiC;AAC/B,YAAA,UAAU,GAAG,UAAU,CAAC,MAAX,CAAkB,CAAlB,CAAb;AACD,WAjBD,CAmBA;;;AACA,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,MAAnD,EAA2D,CAAC,EAA5D,EAAgE;AAC9D,gBAAI,EAAE,GAAG,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,IAA1B,CAA+B,CAA/B,CAAT;AAAA,gBACI,QADJ;AAGA,YAAA,QAAQ,GAAG,YAAY,CAAC,EAAD,EAAK,UAAL,EAAiB,YAAjB,EAA+B,IAA/B,CAAvB;;AAEA,gBAAI,QAAQ,IAAI,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,YAAvB,CAAoC,CAApC,CAAhB,EAAwD;AACtD,cAAA,OAAO,CAAC,IAAR,CAAa,EAAE,CAAC,KAAhB;AACD;AACF;;AAED,cAAI,OAAO,CAAC,MAAZ,EAAoB;AAClB,gBAAI,UAAU,GAAG,CAAjB;AAEA,YAAA,MAAM,CAAC,WAAP,CAAkB,QAAlB,EAA6B,IAA7B,CAAiC,GAAjC,EAAuC,WAAvC,CAAkD,QAAlD,EAHkB,CAKlB;;AACA,gBAAI,UAAU,CAAC,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,cAAA,UAAU,GAAG,OAAO,CAAC,OAAR,CAAgB,IAAI,CAAC,WAArB,CAAb;;AAEA,kBAAI,UAAU,KAAK,CAAC,CAAhB,IAAqB,UAAU,KAAK,OAAO,CAAC,MAAR,GAAiB,CAAzD,EAA4D;AAC1D,gBAAA,UAAU,GAAG,CAAb;AACD,eAFD,MAEO;AACL,gBAAA,UAAU;AACX;AACF;;AAED,YAAA,WAAW,GAAG,OAAO,CAAC,UAAD,CAArB;AAEA,YAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAA4B,WAA5B,CAAX;;AAEA,gBAAI,SAAS,GAAG,QAAQ,CAAC,QAArB,GAAgC,CAApC,EAAuC;AACrC,cAAA,MAAM,GAAG,QAAQ,CAAC,QAAT,GAAoB,QAAQ,CAAC,MAAtC;AACA,cAAA,YAAY,GAAG,IAAf;AACD,aAHD,MAGO;AACL,cAAA,MAAM,GAAG,QAAQ,CAAC,QAAT,GAAoB,IAAI,CAAC,QAAL,CAAc,eAA3C,CADK,CAEL;;AACA,cAAA,YAAY,GAAG,QAAQ,CAAC,QAAT,GAAoB,SAAS,GAAG,IAAI,CAAC,QAAL,CAAc,eAA7D;AACD;;AAED,YAAA,QAAQ,GAAG,IAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,QAAvB,CAAgC,WAAhC,CAAX;AAEA,YAAA,IAAI,CAAC,WAAL,GAAmB,OAAO,CAAC,UAAD,CAA1B;AAEA,YAAA,IAAI,CAAC,SAAL,CAAe,QAAf;AAEA,gBAAI,QAAJ,EAAc,QAAQ,CAAC,UAAT,CAAoB,KAApB;AAEd,gBAAI,YAAJ,EAAkB,IAAI,CAAA,UAAJ,CAAgB,CAAhB,EAAmB,SAAnB,GAA+B,MAA/B;AAElB,YAAA,KAAK,CAAC,OAAN,CAAa,OAAb;AACD;AACF,SAhMmB,CAkMpB;;;AACA,YACE,QAAQ,KAEL,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,KAArB,IAA8B,CAAC,IAAI,CAAC,YAAL,CAAkB,OAAlB,CAA0B,UAA1D,IACA,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,KADrB,IAEC,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,GAArB,IAA4B,IAAI,CAAC,OAAL,CAAa,WAJpC,CADV,EAOE;AACA,cAAI,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,KAAzB,EAAgC,CAAC,CAAC,cAAF;;AAEhC,cAAG,CAAE,IAAI,CAAC,OAAL,CAAa,UAAf,IAA6B,CAAC,CAAC,KAAF,KAAY,QAAQ,CAAC,KAArD,EAA4D;AAC1D,YAAA,IAAI,CAAA,UAAJ,CAAgB,IAAhB,CAAoB,WAApB,EAAkC,OAAlC,CAAyC,OAAzC,EAAmD,IAAnD,EAD0D,CACA;;AAC1D,YAAA,KAAK,CAAC,OAAN,CAAa,OAAb;;AAEA,gBAAG,CAAE,IAAI,CAAC,OAAL,CAAa,UAAlB,EAA8B;AAC5B;AACA,cAAA,CAAC,CAAC,cAAF,GAF4B,CAG5B;;AACA,cAAA,CAAA,CAAE,QAAF,CAAA,CAAY,IAAZ,CAAgB,aAAhB,EAAgC,IAAhC;AACD;AACF;AACF;AACH,OA9jEuB;AAgkEvB,MAAA,MAAM,EAAE,YAAY;AAClB;AACA,aAAK,OAAL,CAAa,MAAb,GAAsB,IAAtB;AACA,aAAI,QAAJ,CAAc,CAAd,EAAiB,SAAjB,CAA2B,GAA3B,CAA8B,eAA9B;AACF,OApkEuB;AAskEvB,MAAA,OAAO,EAAE,YAAY;AACnB;AACA,YAAI,MAAM,GAAG,CAAA,CAAE,MAAF,CAAQ,EAAR,EAAa,KAAK,OAAlB,EAA2B,KAAI,QAAJ,CAAc,IAAd,EAA3B,CAAb;AACA,aAAK,OAAL,GAAe,MAAf;AAEA,aAAK,aAAL;AACA,aAAK,SAAL;AACA,aAAK,QAAL;AACA,aAAK,MAAL;AACA,aAAK,SAAL;AACA,aAAK,QAAL;AAEA,aAAK,OAAL,CAAa,IAAb;AAEA,aAAI,QAAJ,CAAc,OAAd,CAAqB,cAAe,SAApC;AACF,OArlEuB;AAulEvB,MAAA,IAAI,EAAE,YAAY;AAChB,aAAI,WAAJ,CAAiB,IAAjB;AACF,OAzlEuB;AA2lEvB,MAAA,IAAI,EAAE,YAAY;AAChB,aAAI,WAAJ,CAAiB,IAAjB;AACF,OA7lEuB;AA+lEvB,MAAA,MAAM,EAAE,YAAY;AAClB,aAAI,WAAJ,CAAiB,MAAjB;AACA,aAAI,QAAJ,CAAc,MAAd;AACF,OAlmEuB;AAomEvB,MAAA,OAAO,EAAE,YAAY;AACnB,aAAI,WAAJ,CAAiB,MAAjB,CAAwB,KAAI,QAA5B,EAAuC,MAAvC;;AAEA,YAAI,KAAI,YAAR,EAAuB;AACrB,eAAI,YAAJ,CAAkB,MAAlB;AACD,SAFD,MAEO;AACL,eAAI,KAAJ,CAAW,MAAX;AACD;;AAED,YAAI,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,IAAsC,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,UAA7E,EAAyF;AACvF,eAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,CAAmC,UAAnC,CAA8C,WAA9C,CAA0D,KAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAjF;AACD;;AAED,aAAI,QAAJ,CACG,GADH,CACO,SADP,EAEG,UAFH,CAEa,cAFb,EAGG,WAHH,CAGc,+BAHd;AAKA,QAAA,CAAA,CAAE,MAAF,CAAA,CAAU,GAAV,CAAc,SAAS,GAAG,GAAZ,GAAkB,KAAK,QAArC;AACD;AAvnEsB,KAAzB,CA74BY,CAugGZ;AACA;;AACA,aAAS,MAAT,CAAiB,MAAjB,EAAyB;AACvB;AACA,UAAI,IAAI,GAAG,SAAX,CAFuB,CAGvB;AACA;;AACA,UAAI,OAAO,GAAG,MAAd;AAEA,SAAG,KAAH,CAAS,KAAT,CAAe,IAAf,EAPuB,CASvB;;AACA,UAAG,CAAE,OAAO,CAAC,OAAb,EAAsB;AACpB;AACA,YAAI;AACF,UAAA,OAAO,CAAC,IAAR,GAAe,CAAA,CAAA,CAAG,EAAH,CAAM,QAAN,CAAe,WAAf,CAA2B,OAA3B,IAAsC,EAAtC,EAA0C,KAA1C,CAA+C,GAA/C,EAAqD,CAArD,EAAwD,KAAxD,CAA6D,GAA7D,CAAf;AACD,SAFD,CAEE,OAAO,GAAP,EAAY;AACZ;AACA,cAAI,YAAY,CAAC,gBAAjB,EAAmC;AACjC,YAAA,OAAO,CAAC,IAAR,GAAe,YAAY,CAAC,gBAAb,CAA8B,KAA9B,CAAmC,GAAnC,EAAyC,CAAzC,EAA4C,KAA5C,CAAiD,GAAjD,CAAf;AACD,WAFD,MAEO;AACL,YAAA,OAAO,CAAC,IAAR,GAAe,CAAC,OAAO,CAAC,KAAT,EAAgB,GAAhB,EAAqB,GAArB,CAAf;AAEA,YAAA,OAAO,CAAC,IAAR,CACE,yDACA,gGADA,GAEA,wIAHF,EAIE,GAJF;AAMD;AACF;;AAED,QAAA,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,IAAR,CAAa,CAAb,CAAhB;AACA,QAAA,OAAO,CAAC,OAAR,GAAkB,IAAlB;AACD;;AAED,UAAI,OAAO,CAAC,KAAR,KAAkB,GAAtB,EAA2B;AACzB;AACA;AACA,YAAI,QAAQ,GAAG,EAAf;AAEA,YAAI,YAAY,CAAC,QAAb,CAAsB,KAAtB,KAAgC,UAAU,CAAC,WAA/C,EAA4D,QAAQ,CAAC,IAAT,CAAa;AAAG,UAAA,IAAI,EAAE,OAAT;AAAkB,UAAA,SAAS,EAAE;AAA7B,SAAb;AAC5D,YAAI,YAAY,CAAC,QAAb,CAAsB,QAAtB,KAAmC,UAAU,CAAC,QAAlD,EAA4D,QAAQ,CAAC,IAAT,CAAa;AAAG,UAAA,IAAI,EAAE,UAAT;AAAqB,UAAA,SAAS,EAAE;AAAhC,SAAb;AAC5D,YAAI,YAAY,CAAC,QAAb,CAAsB,QAAtB,KAAmC,UAAU,CAAC,QAAlD,EAA4D,QAAQ,CAAC,IAAT,CAAa;AAAG,UAAA,IAAI,EAAE,UAAT;AAAqB,UAAA,SAAS,EAAE;AAAhC,SAAb;AAE5D,QAAA,UAAU,CAAC,OAAX,GAAqB,kBAArB;AACA,QAAA,UAAU,CAAC,IAAX,GAAkB,MAAlB;AACA,QAAA,UAAU,CAAC,WAAX,GAAyB,WAAzB;AACA,QAAA,UAAU,CAAC,aAAX,GAA2B,gBAA3B;AACA,QAAA,UAAU,CAAC,QAAX,GAAsB,EAAtB;AACA,QAAA,UAAU,CAAC,QAAX,GAAsB,eAAtB;;AAEA,aAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,QAAQ,CAAC,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AACxC,cAAI,MAAM,GAAG,QAAQ,CAAC,CAAD,CAArB;AACA,UAAA,YAAY,CAAC,QAAb,CAAsB,MAAM,CAAC,IAA7B,IAAqC,UAAU,CAAC,MAAM,CAAC,SAAR,CAA/C;AACD;AACF;;AAED,UAAI,KAAJ;AACA,UAAI,KAAK,GAAG,KAAK,IAAL,CAAU,YAAY;AAChC,YAAI,KAAK,GAAG,CAAA,CAAE,IAAF,CAAZ;;AACA,YAAG,KAAM,CAAC,EAAP,CAAS,QAAT,CAAH,EAAwB;AACtB,cAAI,IAAI,GAAG,KAAK,CAAC,IAAN,CAAU,cAAV,CAAX;AAAA,cACI,OAAO,GAAG,OAAO,OAAP,IAAkB,QAAlB,IAA8B,OAD5C;;AAGA,cAAG,CAAE,IAAL,EAAW;AACT,gBAAI,cAAc,GAAG,KAAK,CAAC,IAAN,EAArB;;AAEA,iBAAK,IAAI,QAAT,IAAqB,cAArB,EAAqC;AACnC,kBAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,cAArC,EAAqD,QAArD,KAAkE,CAAA,CAAE,OAAF,CAAU,QAAV,EAAoB,qBAApB,MAA+C,CAAC,CAAtH,EAAyH;AACvH,uBAAO,cAAc,CAAC,QAAD,CAArB;AACD;AACF;;AAED,gBAAI,MAAM,GAAG,CAAA,CAAE,MAAF,CAAQ,EAAR,EAAa,YAAY,CAAC,QAA1B,EAAoC,CAAA,CAAE,EAAF,CAAK,YAAL,CAAkB,QAAlB,IAA8B,EAAlE,EAAsE,cAAtE,EAAsF,OAAtF,CAAb;AACA,YAAA,MAAM,CAAC,QAAP,GAAkB,CAAA,CAAE,MAAF,CAAQ,EAAR,EAAa,YAAY,CAAC,QAAb,CAAsB,QAAnC,EAA6C,CAAA,CAAG,EAAH,CAAM,YAAN,CAAmB,QAAnB,GAA8B,CAAA,CAAE,EAAF,CAAK,YAAL,CAAkB,QAAlB,CAA2B,QAAzD,GAAoE,EAAjH,EAAsH,cAAc,CAAC,QAArI,EAA+I,OAAO,CAAC,QAAvJ,CAAlB;AACA,YAAA,KAAK,CAAC,IAAN,CAAU,cAAV,EAA4B,IAAI,GAAG,IAAI,YAAJ,CAAiB,IAAjB,EAAuB,MAAvB,CAAnC;AACD,WAZD,MAYO,IAAI,OAAJ,EAAa;AAClB,iBAAK,IAAI,CAAT,IAAc,OAAd,EAAuB;AACrB,kBAAI,MAAM,CAAC,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,OAArC,EAA8C,CAA9C,CAAJ,EAAsD;AACpD,gBAAA,IAAI,CAAC,OAAL,CAAa,CAAb,IAAkB,OAAO,CAAC,CAAD,CAAzB;AACD;AACF;AACF;;AAED,cAAI,OAAO,OAAP,IAAkB,QAAtB,EAAgC;AAC9B,gBAAI,IAAI,CAAC,OAAD,CAAJ,YAAyB,QAA7B,EAAuC;AACrC,cAAA,KAAK,GAAG,IAAI,CAAC,OAAD,CAAJ,CAAc,KAAd,CAAoB,IAApB,EAA0B,IAA1B,CAAR;AACD,aAFD,MAEO;AACL,cAAA,KAAK,GAAG,IAAI,CAAC,OAAL,CAAa,OAAb,CAAR;AACD;AACF;AACF;AACH,OAlCY,CAAZ;;AAoCA,UAAI,OAAO,KAAP,KAAiB,WAArB,EAAkC;AAChC;AACA,eAAO,KAAP;AACD,OAHD,MAGO;AACL,eAAO,KAAP;AACD;AACF;;AAED,QAAI,GAAG,GAAG,CAAA,CAAE,EAAF,CAAK,YAAf;AACA,IAAA,CAAA,CAAE,EAAF,CAAK,YAAL,GAAoB,MAApB;AACA,IAAA,CAAA,CAAE,EAAF,CAAK,YAAL,CAAkB,WAAlB,GAAgC,YAAhC,CAhnGY,CAknGZ;AACA;;AACA,IAAA,CAAA,CAAE,EAAF,CAAK,YAAL,CAAkB,UAAlB,GAA+B,YAAY;AACzC,MAAA,CAAA,CAAE,EAAF,CAAK,YAAL,GAAoB,GAApB;AACA,aAAO,IAAP;AACF,KAHA,CApnGY,CAynGZ;;;AACA,aAAS,cAAT,GAA2B;AACzB,UAAG,CAAA,CAAG,EAAH,CAAM,QAAT,EAAmB;AACjB;AACA,YAAI,gBAAgB,GAAG,CAAA,CAAE,EAAF,CAAK,QAAL,CAAc,WAAd,CAA0B,sBAA1B,IAAoD,CAAA,CAAE,EAAF,CAAK,QAAL,CAAc,WAAd,CAA0B,SAA1B,CAAoC,OAA/G;AACA,eAAO,gBAAgB,CAAC,KAAjB,CAAuB,IAAvB,EAA6B,SAA7B,CAAP;AACD;AACF;;AAED,IAAA,CAAA,CAAE,QAAF,CAAA,CACG,GADH,CACM,8BADN,EAEG,EAFH,CAEK,8BAFL,EAEsC,oDAFtC,EAE4F,cAF5F,EAGG,EAHH,CAGK,8BAHL,EAGsC,0CAHtC,EAGkF,cAHlF,EAIG,EAJH,CAIK,YAAa,SAJlB,EAI6B,uHAJ7B,EAIsJ,YAAY,CAAC,SAAb,CAAuB,OAJ7K,EAKG,EALH,CAKK,eALL,EAKuB,uHALvB,EAKgJ,UAAU,CAAV,EAAa;AACzJ,MAAA,CAAC,CAAC,eAAF;AACF,KAPF,EAloGY,CA2oGZ;AACA;;AACA,IAAA,CAAA,CAAE,MAAF,CAAA,CAAU,EAAV,CAAY,SAAU,SAAV,GAAsB,WAAlC,EAA+C,YAAY;AACzD,MAAA,CAAA,CAAA,eAAA,CAAA,CAAmB,IAAnB,CAAwB,YAAY;AAClC,YAAI,aAAa,GAAG,CAAA,CAAE,IAAF,CAApB;AACA,QAAA,MAAM,CAAC,IAAP,CAAW,aAAX,EAA2B,aAAa,CAAC,IAAd,EAA3B;AACF,OAHA;AAIF,KALA;AAMF,GAnpGA,EAmpGG,MAnpGH","sourcesContent":["(function ($) {\r\n  'use strict';\r\n\r\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\r\n\r\n  var uriAttrs = [\r\n    'background',\r\n    'cite',\r\n    'href',\r\n    'itemtype',\r\n    'longdesc',\r\n    'poster',\r\n    'src',\r\n    'xlink:href'\r\n  ];\r\n\r\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\r\n\r\n  var DefaultWhitelist = {\r\n    // Global attributes allowed on any supplied element below.\r\n    '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\r\n    a: ['target', 'href', 'title', 'rel'],\r\n    area: [],\r\n    b: [],\r\n    br: [],\r\n    col: [],\r\n    code: [],\r\n    div: [],\r\n    em: [],\r\n    hr: [],\r\n    h1: [],\r\n    h2: [],\r\n    h3: [],\r\n    h4: [],\r\n    h5: [],\r\n    h6: [],\r\n    i: [],\r\n    img: ['src', 'alt', 'title', 'width', 'height'],\r\n    li: [],\r\n    ol: [],\r\n    p: [],\r\n    pre: [],\r\n    s: [],\r\n    small: [],\r\n    span: [],\r\n    sub: [],\r\n    sup: [],\r\n    strong: [],\r\n    u: [],\r\n    ul: []\r\n  }\r\n\r\n  /**\r\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\r\n   *\r\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n   */\r\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\r\n\r\n  /**\r\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\r\n   *\r\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n   */\r\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\r\n\r\n  function allowedAttribute (attr, allowedAttributeList) {\r\n    var attrName = attr.nodeName.toLowerCase()\r\n\r\n    if ($.inArray(attrName, allowedAttributeList) !== -1) {\r\n      if ($.inArray(attrName, uriAttrs) !== -1) {\r\n        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    var regExp = $(allowedAttributeList).filter(function (index, value) {\r\n      return value instanceof RegExp\r\n    })\r\n\r\n    // Check if a regular expression validates the attribute.\r\n    for (var i = 0, l = regExp.length; i < l; i++) {\r\n      if (attrName.match(regExp[i])) {\r\n        return true\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  function sanitizeHtml (unsafeElements, whiteList, sanitizeFn) {\r\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\r\n      return sanitizeFn(unsafeElements);\r\n    }\r\n\r\n    var whitelistKeys = Object.keys(whiteList);\r\n\r\n    for (var i = 0, len = unsafeElements.length; i < len; i++) {\r\n      var elements = unsafeElements[i].querySelectorAll('*');\r\n\r\n      for (var j = 0, len2 = elements.length; j < len2; j++) {\r\n        var el = elements[j];\r\n        var elName = el.nodeName.toLowerCase();\r\n\r\n        if (whitelistKeys.indexOf(elName) === -1) {\r\n          el.parentNode.removeChild(el);\r\n\r\n          continue;\r\n        }\r\n\r\n        var attributeList = [].slice.call(el.attributes);\r\n        var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\r\n\r\n        for (var k = 0, len3 = attributeList.length; k < len3; k++) {\r\n          var attr = attributeList[k];\r\n\r\n          if (!allowedAttribute(attr, whitelistedAttributes)) {\r\n            el.removeAttribute(attr.nodeName);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Polyfill for browsers with no classList support\r\n  // Remove in v2\r\n  if (!('classList' in document.createElement('_'))) {\r\n    (function (view) {\r\n      if (!('Element' in view)) return;\r\n\r\n      var classListProp = 'classList',\r\n          protoProp = 'prototype',\r\n          elemCtrProto = view.Element[protoProp],\r\n          objCtr = Object,\r\n          classListGetter = function () {\r\n            var $elem = $(this);\r\n\r\n            return {\r\n              add: function (classes) {\r\n                classes = Array.prototype.slice.call(arguments).join(' ');\r\n                return $elem.addClass(classes);\r\n              },\r\n              remove: function (classes) {\r\n                classes = Array.prototype.slice.call(arguments).join(' ');\r\n                return $elem.removeClass(classes);\r\n              },\r\n              toggle: function (classes, force) {\r\n                return $elem.toggleClass(classes, force);\r\n              },\r\n              contains: function (classes) {\r\n                return $elem.hasClass(classes);\r\n              }\r\n            }\r\n          };\r\n\r\n      if (objCtr.defineProperty) {\r\n        var classListPropDesc = {\r\n          get: classListGetter,\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n        try {\r\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n        } catch (ex) { // IE 8 doesn't support enumerable:true\r\n          // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\r\n          // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\r\n          if (ex.number === undefined || ex.number === -0x7FF5EC54) {\r\n            classListPropDesc.enumerable = false;\r\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n          }\r\n        }\r\n      } else if (objCtr[protoProp].__defineGetter__) {\r\n        elemCtrProto.__defineGetter__(classListProp, classListGetter);\r\n      }\r\n    }(window));\r\n  }\r\n\r\n  var testElement = document.createElement('_');\r\n\r\n  testElement.classList.add('c1', 'c2');\r\n\r\n  if (!testElement.classList.contains('c2')) {\r\n    var _add = DOMTokenList.prototype.add,\r\n        _remove = DOMTokenList.prototype.remove;\r\n\r\n    DOMTokenList.prototype.add = function () {\r\n      Array.prototype.forEach.call(arguments, _add.bind(this));\r\n    }\r\n\r\n    DOMTokenList.prototype.remove = function () {\r\n      Array.prototype.forEach.call(arguments, _remove.bind(this));\r\n    }\r\n  }\r\n\r\n  testElement.classList.toggle('c3', false);\r\n\r\n  // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\r\n  // support the second argument.\r\n  if (testElement.classList.contains('c3')) {\r\n    var _toggle = DOMTokenList.prototype.toggle;\r\n\r\n    DOMTokenList.prototype.toggle = function (token, force) {\r\n      if (1 in arguments && !this.contains(token) === !force) {\r\n        return force;\r\n      } else {\r\n        return _toggle.call(this, token);\r\n      }\r\n    };\r\n  }\r\n\r\n  testElement = null;\r\n\r\n  // shallow array comparison\r\n  function isEqual (array1, array2) {\r\n    return array1.length === array2.length && array1.every(function (element, index) {\r\n      return element === array2[index];\r\n    });\r\n  };\r\n\r\n  // <editor-fold desc=\"Shims\">\r\n  if (!String.prototype.startsWith) {\r\n    (function () {\r\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\r\n      var defineProperty = (function () {\r\n        // IE 8 only supports `Object.defineProperty` on DOM elements\r\n        try {\r\n          var object = {};\r\n          var $defineProperty = Object.defineProperty;\r\n          var result = $defineProperty(object, object, object) && $defineProperty;\r\n        } catch (error) {\r\n        }\r\n        return result;\r\n      }());\r\n      var toString = {}.toString;\r\n      var startsWith = function (search) {\r\n        if (this == null) {\r\n          throw new TypeError();\r\n        }\r\n        var string = String(this);\r\n        if (search && toString.call(search) == '[object RegExp]') {\r\n          throw new TypeError();\r\n        }\r\n        var stringLength = string.length;\r\n        var searchString = String(search);\r\n        var searchLength = searchString.length;\r\n        var position = arguments.length > 1 ? arguments[1] : undefined;\r\n        // `ToInteger`\r\n        var pos = position ? Number(position) : 0;\r\n        if (pos != pos) { // better `isNaN`\r\n          pos = 0;\r\n        }\r\n        var start = Math.min(Math.max(pos, 0), stringLength);\r\n        // Avoid the `indexOf` call if no match is possible\r\n        if (searchLength + start > stringLength) {\r\n          return false;\r\n        }\r\n        var index = -1;\r\n        while (++index < searchLength) {\r\n          if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      };\r\n      if (defineProperty) {\r\n        defineProperty(String.prototype, 'startsWith', {\r\n          'value': startsWith,\r\n          'configurable': true,\r\n          'writable': true\r\n        });\r\n      } else {\r\n        String.prototype.startsWith = startsWith;\r\n      }\r\n    }());\r\n  }\r\n\r\n  if (!Object.keys) {\r\n    Object.keys = function (\r\n      o, // object\r\n      k, // key\r\n      r  // result array\r\n    ) {\r\n      // initialize object and result\r\n      r = [];\r\n      // iterate over object keys\r\n      for (k in o) {\r\n        // fill result array with non-prototypical keys\r\n        r.hasOwnProperty.call(o, k) && r.push(k);\r\n      }\r\n      // return result\r\n      return r;\r\n    };\r\n  }\r\n\r\n  if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\r\n    Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\r\n      get: function () {\r\n        return this.querySelectorAll(':checked');\r\n      }\r\n    });\r\n  }\r\n\r\n  function getSelectedOptions (select, ignoreDisabled) {\r\n    var selectedOptions = select.selectedOptions,\r\n        options = [],\r\n        opt;\r\n\r\n    if (ignoreDisabled) {\r\n      for (var i = 0, len = selectedOptions.length; i < len; i++) {\r\n        opt = selectedOptions[i];\r\n\r\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\r\n          options.push(opt);\r\n        }\r\n      }\r\n\r\n      return options;\r\n    }\r\n\r\n    return selectedOptions;\r\n  }\r\n\r\n  // much faster than $.val()\r\n  function getSelectValues (select, selectedOptions) {\r\n    var value = [],\r\n        options = selectedOptions || select.selectedOptions,\r\n        opt;\r\n\r\n    for (var i = 0, len = options.length; i < len; i++) {\r\n      opt = options[i];\r\n\r\n      if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\r\n        value.push(opt.value);\r\n      }\r\n    }\r\n\r\n    if (!select.multiple) {\r\n      return !value.length ? null : value[0];\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  // set data-selected on select element if the value has been programmatically selected\r\n  // prior to initialization of bootstrap-select\r\n  // * consider removing or replacing an alternative method *\r\n  var valHooks = {\r\n    useDefault: false,\r\n    _set: $.valHooks.select.set\r\n  };\r\n\r\n  $.valHooks.select.set = function (elem, value) {\r\n    if (value && !valHooks.useDefault) $(elem).data('selected', true);\r\n\r\n    return valHooks._set.apply(this, arguments);\r\n  };\r\n\r\n  var changedArguments = null;\r\n\r\n  var EventIsSupported = (function () {\r\n    try {\r\n      new Event('change');\r\n      return true;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  })();\r\n\r\n  $.fn.triggerNative = function (eventName) {\r\n    var el = this[0],\r\n        event;\r\n\r\n    if (el.dispatchEvent) { // for modern browsers & IE9+\r\n      if (EventIsSupported) {\r\n        // For modern browsers\r\n        event = new Event(eventName, {\r\n          bubbles: true\r\n        });\r\n      } else {\r\n        // For IE since it doesn't support Event constructor\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, false);\r\n      }\r\n\r\n      el.dispatchEvent(event);\r\n    } else if (el.fireEvent) { // for IE8\r\n      event = document.createEventObject();\r\n      event.eventType = eventName;\r\n      el.fireEvent('on' + eventName, event);\r\n    } else {\r\n      // fall back to jQuery.trigger\r\n      this.trigger(eventName);\r\n    }\r\n  };\r\n  // </editor-fold>\r\n\r\n  function stringSearch (li, searchString, method, normalize) {\r\n    var stringTypes = [\r\n          'display',\r\n          'subtext',\r\n          'tokens'\r\n        ],\r\n        searchSuccess = false;\r\n\r\n    for (var i = 0; i < stringTypes.length; i++) {\r\n      var stringType = stringTypes[i],\r\n          string = li[stringType];\r\n\r\n      if (string) {\r\n        string = string.toString();\r\n\r\n        // Strip HTML tags. This isn't perfect, but it's much faster than any other method\r\n        if (stringType === 'display') {\r\n          string = string.replace(/<[^>]+>/g, '');\r\n        }\r\n\r\n        if (normalize) string = normalizeToBase(string);\r\n        string = string.toUpperCase();\r\n\r\n        if (method === 'contains') {\r\n          searchSuccess = string.indexOf(searchString) >= 0;\r\n        } else {\r\n          searchSuccess = string.startsWith(searchString);\r\n        }\r\n\r\n        if (searchSuccess) break;\r\n      }\r\n    }\r\n\r\n    return searchSuccess;\r\n  }\r\n\r\n  function toInteger (value) {\r\n    return parseInt(value, 10) || 0;\r\n  }\r\n\r\n  // Borrowed from Lodash (_.deburr)\r\n  /** Used to map Latin Unicode letters to basic Latin letters. */\r\n  var deburredLetters = {\r\n    // Latin-1 Supplement block.\r\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\r\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\r\n    '\\xc7': 'C',  '\\xe7': 'c',\r\n    '\\xd0': 'D',  '\\xf0': 'd',\r\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\r\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\r\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\r\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\r\n    '\\xd1': 'N',  '\\xf1': 'n',\r\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\r\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\r\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\r\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\r\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\r\n    '\\xc6': 'Ae', '\\xe6': 'ae',\r\n    '\\xde': 'Th', '\\xfe': 'th',\r\n    '\\xdf': 'ss',\r\n    // Latin Extended-A block.\r\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\r\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\r\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\r\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\r\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\r\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\r\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\r\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\r\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\r\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\r\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\r\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\r\n    '\\u0134': 'J',  '\\u0135': 'j',\r\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\r\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\r\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\r\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\r\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\r\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\r\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\r\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\r\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\r\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\r\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\r\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\r\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\r\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\r\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\r\n    '\\u0174': 'W',  '\\u0175': 'w',\r\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\r\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\r\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\r\n    '\\u0132': 'IJ', '\\u0133': 'ij',\r\n    '\\u0152': 'Oe', '\\u0153': 'oe',\r\n    '\\u0149': \"'n\", '\\u017f': 's'\r\n  };\r\n\r\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\r\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\r\n\r\n  /** Used to compose unicode character classes. */\r\n  var rsComboMarksRange = '\\\\u0300-\\\\u036f',\r\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\r\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\r\n      rsComboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff',\r\n      rsComboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff',\r\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\r\n\r\n  /** Used to compose unicode capture groups. */\r\n  var rsCombo = '[' + rsComboRange + ']';\r\n\r\n  /**\r\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\r\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\r\n   */\r\n  var reComboMark = RegExp(rsCombo, 'g');\r\n\r\n  function deburrLetter (key) {\r\n    return deburredLetters[key];\r\n  };\r\n\r\n  function normalizeToBase (string) {\r\n    string = string.toString();\r\n    return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\r\n  }\r\n\r\n  // List of HTML entities for escaping.\r\n  var escapeMap = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#x27;',\r\n    '`': '&#x60;'\r\n  };\r\n\r\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\r\n  var createEscaper = function (map) {\r\n    var escaper = function (match) {\r\n      return map[match];\r\n    };\r\n    // Regexes for identifying a key that needs to be escaped.\r\n    var source = '(?:' + Object.keys(map).join('|') + ')';\r\n    var testRegexp = RegExp(source);\r\n    var replaceRegexp = RegExp(source, 'g');\r\n    return function (string) {\r\n      string = string == null ? '' : '' + string;\r\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\r\n    };\r\n  };\r\n\r\n  var htmlEscape = createEscaper(escapeMap);\r\n\r\n  /**\r\n   * ------------------------------------------------------------------------\r\n   * Constants\r\n   * ------------------------------------------------------------------------\r\n   */\r\n\r\n  var keyCodeMap = {\r\n    32: ' ',\r\n    48: '0',\r\n    49: '1',\r\n    50: '2',\r\n    51: '3',\r\n    52: '4',\r\n    53: '5',\r\n    54: '6',\r\n    55: '7',\r\n    56: '8',\r\n    57: '9',\r\n    59: ';',\r\n    65: 'A',\r\n    66: 'B',\r\n    67: 'C',\r\n    68: 'D',\r\n    69: 'E',\r\n    70: 'F',\r\n    71: 'G',\r\n    72: 'H',\r\n    73: 'I',\r\n    74: 'J',\r\n    75: 'K',\r\n    76: 'L',\r\n    77: 'M',\r\n    78: 'N',\r\n    79: 'O',\r\n    80: 'P',\r\n    81: 'Q',\r\n    82: 'R',\r\n    83: 'S',\r\n    84: 'T',\r\n    85: 'U',\r\n    86: 'V',\r\n    87: 'W',\r\n    88: 'X',\r\n    89: 'Y',\r\n    90: 'Z',\r\n    96: '0',\r\n    97: '1',\r\n    98: '2',\r\n    99: '3',\r\n    100: '4',\r\n    101: '5',\r\n    102: '6',\r\n    103: '7',\r\n    104: '8',\r\n    105: '9'\r\n  };\r\n\r\n  var keyCodes = {\r\n    ESCAPE: 27, // KeyboardEvent.which value for Escape (Esc) key\r\n    ENTER: 13, // KeyboardEvent.which value for Enter key\r\n    SPACE: 32, // KeyboardEvent.which value for space key\r\n    TAB: 9, // KeyboardEvent.which value for tab key\r\n    ARROW_UP: 38, // KeyboardEvent.which value for up arrow key\r\n    ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\r\n  }\r\n\r\n  var version = {\r\n    success: false,\r\n    major: '3'\r\n  };\r\n\r\n  try {\r\n    version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\r\n    version.major = version.full[0];\r\n    version.success = true;\r\n  } catch (err) {\r\n    // do nothing\r\n  }\r\n\r\n  var selectId = 0;\r\n\r\n  var EVENT_KEY = '.bs.select';\r\n\r\n  var classNames = {\r\n    DISABLED: 'disabled',\r\n    DIVIDER: 'divider',\r\n    SHOW: 'open',\r\n    DROPUP: 'dropup',\r\n    MENU: 'dropdown-menu',\r\n    MENURIGHT: 'dropdown-menu-right',\r\n    MENULEFT: 'dropdown-menu-left',\r\n    // to-do: replace with more advanced template/customization options\r\n    BUTTONCLASS: 'btn-default',\r\n    POPOVERHEADER: 'popover-title',\r\n    ICONBASE: 'glyphicon',\r\n    TICKICON: 'glyphicon-ok'\r\n  }\r\n\r\n  var Selector = {\r\n    MENU: '.' + classNames.MENU\r\n  }\r\n\r\n  var elementTemplates = {\r\n    div: document.createElement('div'),\r\n    span: document.createElement('span'),\r\n    i: document.createElement('i'),\r\n    subtext: document.createElement('small'),\r\n    a: document.createElement('a'),\r\n    li: document.createElement('li'),\r\n    whitespace: document.createTextNode('\\u00A0'),\r\n    fragment: document.createDocumentFragment()\r\n  }\r\n\r\n  elementTemplates.noResults = elementTemplates.li.cloneNode(false);\r\n  elementTemplates.noResults.className = 'no-results';\r\n\r\n  elementTemplates.a.setAttribute('role', 'option');\r\n  elementTemplates.a.className = 'dropdown-item';\r\n\r\n  elementTemplates.subtext.className = 'text-muted';\r\n\r\n  elementTemplates.text = elementTemplates.span.cloneNode(false);\r\n  elementTemplates.text.className = 'text';\r\n\r\n  elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\r\n\r\n  var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\r\n  var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\r\n\r\n  var generateOption = {\r\n    li: function (content, classes, optgroup) {\r\n      var li = elementTemplates.li.cloneNode(false);\r\n\r\n      if (content) {\r\n        if (content.nodeType === 1 || content.nodeType === 11) {\r\n          li.appendChild(content);\r\n        } else {\r\n          li.innerHTML = content;\r\n        }\r\n      }\r\n\r\n      if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\r\n      if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\r\n\r\n      return li;\r\n    },\r\n\r\n    a: function (text, classes, inline) {\r\n      var a = elementTemplates.a.cloneNode(true);\r\n\r\n      if (text) {\r\n        if (text.nodeType === 11) {\r\n          a.appendChild(text);\r\n        } else {\r\n          a.insertAdjacentHTML('beforeend', text);\r\n        }\r\n      }\r\n\r\n      if (typeof classes !== 'undefined' && classes !== '') a.classList.add.apply(a.classList, classes.split(/\\s+/));\r\n      if (inline) a.setAttribute('style', inline);\r\n\r\n      return a;\r\n    },\r\n\r\n    text: function (options, useFragment) {\r\n      var textElement = elementTemplates.text.cloneNode(false),\r\n          subtextElement,\r\n          iconElement;\r\n\r\n      if (options.content) {\r\n        textElement.innerHTML = options.content;\r\n      } else {\r\n        textElement.textContent = options.text;\r\n\r\n        if (options.icon) {\r\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\r\n\r\n          // need to use <i> for icons in the button to prevent a breaking change\r\n          // note: switch to span in next major release\r\n          iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\r\n          iconElement.className = this.options.iconBase + ' ' + options.icon;\r\n\r\n          elementTemplates.fragment.appendChild(iconElement);\r\n          elementTemplates.fragment.appendChild(whitespace);\r\n        }\r\n\r\n        if (options.subtext) {\r\n          subtextElement = elementTemplates.subtext.cloneNode(false);\r\n          subtextElement.textContent = options.subtext;\r\n          textElement.appendChild(subtextElement);\r\n        }\r\n      }\r\n\r\n      if (useFragment === true) {\r\n        while (textElement.childNodes.length > 0) {\r\n          elementTemplates.fragment.appendChild(textElement.childNodes[0]);\r\n        }\r\n      } else {\r\n        elementTemplates.fragment.appendChild(textElement);\r\n      }\r\n\r\n      return elementTemplates.fragment;\r\n    },\r\n\r\n    label: function (options) {\r\n      var textElement = elementTemplates.text.cloneNode(false),\r\n          subtextElement,\r\n          iconElement;\r\n\r\n      textElement.innerHTML = options.display;\r\n\r\n      if (options.icon) {\r\n        var whitespace = elementTemplates.whitespace.cloneNode(false);\r\n\r\n        iconElement = elementTemplates.span.cloneNode(false);\r\n        iconElement.className = this.options.iconBase + ' ' + options.icon;\r\n\r\n        elementTemplates.fragment.appendChild(iconElement);\r\n        elementTemplates.fragment.appendChild(whitespace);\r\n      }\r\n\r\n      if (options.subtext) {\r\n        subtextElement = elementTemplates.subtext.cloneNode(false);\r\n        subtextElement.textContent = options.subtext;\r\n        textElement.appendChild(subtextElement);\r\n      }\r\n\r\n      elementTemplates.fragment.appendChild(textElement);\r\n\r\n      return elementTemplates.fragment;\r\n    }\r\n  }\r\n\r\n  function showNoResults (searchMatch, searchValue) {\r\n    if (!searchMatch.length) {\r\n      elementTemplates.noResults.innerHTML = this.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\r\n      this.$menuInner[0].firstChild.appendChild(elementTemplates.noResults);\r\n    }\r\n  }\r\n\r\n  var Selectpicker = function (element, options) {\r\n    var that = this;\r\n\r\n    // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\r\n    if (!valHooks.useDefault) {\r\n      $.valHooks.select.set = valHooks._set;\r\n      valHooks.useDefault = true;\r\n    }\r\n\r\n    this.$element = $(element);\r\n    this.$newElement = null;\r\n    this.$button = null;\r\n    this.$menu = null;\r\n    this.options = options;\r\n    this.selectpicker = {\r\n      main: {},\r\n      search: {},\r\n      current: {}, // current changes if a search is in progress\r\n      view: {},\r\n      isSearching: false,\r\n      keydown: {\r\n        keyHistory: '',\r\n        resetKeyHistory: {\r\n          start: function () {\r\n            return setTimeout(function () {\r\n              that.selectpicker.keydown.keyHistory = '';\r\n            }, 800);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.sizeInfo = {};\r\n\r\n    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\r\n    // data-attribute)\r\n    if (this.options.title === null) {\r\n      this.options.title = this.$element.attr('title');\r\n    }\r\n\r\n    // Format window padding\r\n    var winPad = this.options.windowPadding;\r\n    if (typeof winPad === 'number') {\r\n      this.options.windowPadding = [winPad, winPad, winPad, winPad];\r\n    }\r\n\r\n    // Expose public methods\r\n    this.val = Selectpicker.prototype.val;\r\n    this.render = Selectpicker.prototype.render;\r\n    this.refresh = Selectpicker.prototype.refresh;\r\n    this.setStyle = Selectpicker.prototype.setStyle;\r\n    this.selectAll = Selectpicker.prototype.selectAll;\r\n    this.deselectAll = Selectpicker.prototype.deselectAll;\r\n    this.destroy = Selectpicker.prototype.destroy;\r\n    this.remove = Selectpicker.prototype.remove;\r\n    this.show = Selectpicker.prototype.show;\r\n    this.hide = Selectpicker.prototype.hide;\r\n\r\n    this.init();\r\n  };\r\n\r\n  Selectpicker.VERSION = '1.13.18';\r\n\r\n  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\r\n  Selectpicker.DEFAULTS = {\r\n    noneSelectedText: 'Nothing selected',\r\n    noneResultsText: 'No results matched {0}',\r\n    countSelectedText: function (numSelected, numTotal) {\r\n      return (numSelected == 1) ? '{0} item selected' : '{0} items selected';\r\n    },\r\n    maxOptionsText: function (numAll, numGroup) {\r\n      return [\r\n        (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',\r\n        (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'\r\n      ];\r\n    },\r\n    selectAllText: 'Select All',\r\n    deselectAllText: 'Deselect All',\r\n    doneButton: false,\r\n    doneButtonText: 'Close',\r\n    multipleSeparator: ', ',\r\n    styleBase: 'btn',\r\n    style: classNames.BUTTONCLASS,\r\n    size: 'auto',\r\n    title: null,\r\n    selectedTextFormat: 'values',\r\n    width: false,\r\n    container: false,\r\n    hideDisabled: false,\r\n    showSubtext: false,\r\n    showIcon: true,\r\n    showContent: true,\r\n    dropupAuto: true,\r\n    header: false,\r\n    liveSearch: false,\r\n    liveSearchPlaceholder: null,\r\n    liveSearchNormalize: false,\r\n    liveSearchStyle: 'contains',\r\n    actionsBox: false,\r\n    iconBase: classNames.ICONBASE,\r\n    tickIcon: classNames.TICKICON,\r\n    showTick: false,\r\n    template: {\r\n      caret: '<span class=\"caret\"></span>'\r\n    },\r\n    maxOptions: false,\r\n    mobile: false,\r\n    selectOnTab: false,\r\n    dropdownAlignRight: false,\r\n    windowPadding: 0,\r\n    virtualScroll: 600,\r\n    display: false,\r\n    sanitize: true,\r\n    sanitizeFn: null,\r\n    whiteList: DefaultWhitelist\r\n  };\r\n\r\n  Selectpicker.prototype = {\r\n\r\n    constructor: Selectpicker,\r\n\r\n    init: function () {\r\n      var that = this,\r\n          id = this.$element.attr('id'),\r\n          element = this.$element[0],\r\n          form = element.form;\r\n\r\n      selectId++;\r\n      this.selectId = 'bs-select-' + selectId;\r\n\r\n      element.classList.add('bs-select-hidden');\r\n\r\n      this.multiple = this.$element.prop('multiple');\r\n      this.autofocus = this.$element.prop('autofocus');\r\n\r\n      if (element.classList.contains('show-tick')) {\r\n        this.options.showTick = true;\r\n      }\r\n\r\n      this.$newElement = this.createDropdown();\r\n      this.buildData();\r\n      this.$element\r\n        .after(this.$newElement)\r\n        .prependTo(this.$newElement);\r\n\r\n      // ensure select is associated with form element if it got unlinked after moving it inside newElement\r\n      if (form && element.form === null) {\r\n        if (!form.id) form.id = 'form-' + this.selectId;\r\n        element.setAttribute('form', form.id);\r\n      }\r\n\r\n      this.$button = this.$newElement.children('button');\r\n      this.$menu = this.$newElement.children(Selector.MENU);\r\n      this.$menuInner = this.$menu.children('.inner');\r\n      this.$searchbox = this.$menu.find('input');\r\n\r\n      element.classList.remove('bs-select-hidden');\r\n\r\n      if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\r\n\r\n      if (typeof id !== 'undefined') {\r\n        this.$button.attr('data-id', id);\r\n      }\r\n\r\n      this.checkDisabled();\r\n      this.clickListener();\r\n\r\n      if (this.options.liveSearch) {\r\n        this.liveSearchListener();\r\n        this.focusedParent = this.$searchbox[0];\r\n      } else {\r\n        this.focusedParent = this.$menuInner[0];\r\n      }\r\n\r\n      this.setStyle();\r\n      this.render();\r\n      this.setWidth();\r\n      if (this.options.container) {\r\n        this.selectPosition();\r\n      } else {\r\n        this.$element.on('hide' + EVENT_KEY, function () {\r\n          if (that.isVirtual()) {\r\n            // empty menu on close\r\n            var menuInner = that.$menuInner[0],\r\n                emptyMenu = menuInner.firstChild.cloneNode(false);\r\n\r\n            // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\r\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\r\n            menuInner.scrollTop = 0;\r\n          }\r\n        });\r\n      }\r\n      this.$menu.data('this', this);\r\n      this.$newElement.data('this', this);\r\n      if (this.options.mobile) this.mobile();\r\n\r\n      this.$newElement.on({\r\n        'hide.bs.dropdown': function (e) {\r\n          that.$element.trigger('hide' + EVENT_KEY, e);\r\n        },\r\n        'hidden.bs.dropdown': function (e) {\r\n          that.$element.trigger('hidden' + EVENT_KEY, e);\r\n        },\r\n        'show.bs.dropdown': function (e) {\r\n          that.$element.trigger('show' + EVENT_KEY, e);\r\n        },\r\n        'shown.bs.dropdown': function (e) {\r\n          that.$element.trigger('shown' + EVENT_KEY, e);\r\n        }\r\n      });\r\n\r\n      if (element.hasAttribute('required')) {\r\n        this.$element.on('invalid' + EVENT_KEY, function () {\r\n          that.$button[0].classList.add('bs-invalid');\r\n\r\n          that.$element\r\n            .on('shown' + EVENT_KEY + '.invalid', function () {\r\n              that.$element\r\n                .val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\r\n                .off('shown' + EVENT_KEY + '.invalid');\r\n            })\r\n            .on('rendered' + EVENT_KEY, function () {\r\n              // if select is no longer invalid, remove the bs-invalid class\r\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\r\n              that.$element.off('rendered' + EVENT_KEY);\r\n            });\r\n\r\n          that.$button.on('blur' + EVENT_KEY, function () {\r\n            that.$element.trigger('focus').trigger('blur');\r\n            that.$button.off('blur' + EVENT_KEY);\r\n          });\r\n        });\r\n      }\r\n\r\n      setTimeout(function () {\r\n        that.buildList();\r\n        that.$element.trigger('loaded' + EVENT_KEY);\r\n      });\r\n    },\r\n\r\n    createDropdown: function () {\r\n      // Options\r\n      // If we are multiple or showTick option is set, then add the show-tick class\r\n      var showTick = (this.multiple || this.options.showTick) ? ' show-tick' : '',\r\n          multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\r\n          inputGroup = '',\r\n          autofocus = this.autofocus ? ' autofocus' : '';\r\n\r\n      if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\r\n        inputGroup = ' input-group-btn';\r\n      }\r\n\r\n      // Elements\r\n      var drop,\r\n          header = '',\r\n          searchbox = '',\r\n          actionsbox = '',\r\n          donebutton = '';\r\n\r\n      if (this.options.header) {\r\n        header =\r\n          '<div class=\"' + classNames.POPOVERHEADER + '\">' +\r\n            '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' +\r\n              this.options.header +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.options.liveSearch) {\r\n        searchbox =\r\n          '<div class=\"bs-searchbox\">' +\r\n            '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' +\r\n              (\r\n                this.options.liveSearchPlaceholder === null ? ''\r\n                :\r\n                ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"'\r\n              ) +\r\n              ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.multiple && this.options.actionsBox) {\r\n        actionsbox =\r\n          '<div class=\"bs-actionsbox\">' +\r\n            '<div class=\"btn-group btn-group-sm btn-block\">' +\r\n              '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.selectAllText +\r\n              '</button>' +\r\n              '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.deselectAllText +\r\n              '</button>' +\r\n            '</div>' +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.multiple && this.options.doneButton) {\r\n        donebutton =\r\n          '<div class=\"bs-donebutton\">' +\r\n            '<div class=\"btn-group btn-block\">' +\r\n              '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.doneButtonText +\r\n              '</button>' +\r\n            '</div>' +\r\n          '</div>';\r\n      }\r\n\r\n      drop =\r\n        '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' +\r\n          '<button type=\"button\" tabindex=\"-1\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' +\r\n            '<div class=\"filter-option\">' +\r\n              '<div class=\"filter-option-inner\">' +\r\n                '<div class=\"filter-option-inner-inner\"></div>' +\r\n              '</div> ' +\r\n            '</div>' +\r\n            (\r\n              version.major === '4' ? ''\r\n              :\r\n              '<span class=\"bs-caret\">' +\r\n                this.options.template.caret +\r\n              '</span>'\r\n            ) +\r\n          '</button>' +\r\n          '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' +\r\n            header +\r\n            searchbox +\r\n            actionsbox +\r\n            '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' +\r\n                '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' +\r\n                '</ul>' +\r\n            '</div>' +\r\n            donebutton +\r\n          '</div>' +\r\n        '</div>';\r\n\r\n      return $(drop);\r\n    },\r\n\r\n    setPositionData: function () {\r\n      this.selectpicker.view.canHighlight = [];\r\n      this.selectpicker.view.size = 0;\r\n      this.selectpicker.view.firstHighlightIndex = false;\r\n\r\n      for (var i = 0; i < this.selectpicker.current.data.length; i++) {\r\n        var li = this.selectpicker.current.data[i],\r\n            canHighlight = true;\r\n\r\n        if (li.type === 'divider') {\r\n          canHighlight = false;\r\n          li.height = this.sizeInfo.dividerHeight;\r\n        } else if (li.type === 'optgroup-label') {\r\n          canHighlight = false;\r\n          li.height = this.sizeInfo.dropdownHeaderHeight;\r\n        } else {\r\n          li.height = this.sizeInfo.liHeight;\r\n        }\r\n\r\n        if (li.disabled) canHighlight = false;\r\n\r\n        this.selectpicker.view.canHighlight.push(canHighlight);\r\n\r\n        if (canHighlight) {\r\n          this.selectpicker.view.size++;\r\n          li.posinset = this.selectpicker.view.size;\r\n          if (this.selectpicker.view.firstHighlightIndex === false) this.selectpicker.view.firstHighlightIndex = i;\r\n        }\r\n\r\n        li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\r\n      }\r\n    },\r\n\r\n    isVirtual: function () {\r\n      return (this.options.virtualScroll !== false) && (this.selectpicker.main.elements.length >= this.options.virtualScroll) || this.options.virtualScroll === true;\r\n    },\r\n\r\n    createView: function (isSearching, setSize, refresh) {\r\n      var that = this,\r\n          scrollTop = 0,\r\n          active = [],\r\n          selected,\r\n          prevActive;\r\n\r\n      this.selectpicker.isSearching = isSearching;\r\n      this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\r\n\r\n      this.setPositionData();\r\n\r\n      if (setSize) {\r\n        if (refresh) {\r\n          scrollTop = this.$menuInner[0].scrollTop;\r\n        } else if (!that.multiple) {\r\n          var element = that.$element[0],\r\n              selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\r\n\r\n          if (typeof selectedIndex === 'number' && that.options.size !== false) {\r\n            var selectedData = that.selectpicker.main.data[selectedIndex],\r\n                position = selectedData && selectedData.position;\r\n\r\n            if (position) {\r\n              scrollTop = position - ((that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      scroll(scrollTop, true);\r\n\r\n      this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\r\n        if (!that.noScroll) scroll(this.scrollTop, updateValue);\r\n        that.noScroll = false;\r\n      });\r\n\r\n      function scroll (scrollTop, init) {\r\n        var size = that.selectpicker.current.elements.length,\r\n            chunks = [],\r\n            chunkSize,\r\n            chunkCount,\r\n            firstChunk,\r\n            lastChunk,\r\n            currentChunk,\r\n            prevPositions,\r\n            positionIsDifferent,\r\n            previousElements,\r\n            menuIsDifferent = true,\r\n            isVirtual = that.isVirtual();\r\n\r\n        that.selectpicker.view.scrollTop = scrollTop;\r\n\r\n        chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\r\n        chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\r\n\r\n        for (var i = 0; i < chunkCount; i++) {\r\n          var endOfChunk = (i + 1) * chunkSize;\r\n\r\n          if (i === chunkCount - 1) {\r\n            endOfChunk = size;\r\n          }\r\n\r\n          chunks[i] = [\r\n            (i) * chunkSize + (!i ? 0 : 1),\r\n            endOfChunk\r\n          ];\r\n\r\n          if (!size) break;\r\n\r\n          if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\r\n            currentChunk = i;\r\n          }\r\n        }\r\n\r\n        if (currentChunk === undefined) currentChunk = 0;\r\n\r\n        prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1];\r\n\r\n        // always display previous, current, and next chunks\r\n        firstChunk = Math.max(0, currentChunk - 1);\r\n        lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\r\n\r\n        that.selectpicker.view.position0 = isVirtual === false ? 0 : (Math.max(0, chunks[firstChunk][0]) || 0);\r\n        that.selectpicker.view.position1 = isVirtual === false ? size : (Math.min(size, chunks[lastChunk][1]) || 0);\r\n\r\n        positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\r\n\r\n        if (that.activeIndex !== undefined) {\r\n          prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\r\n          active = that.selectpicker.main.elements[that.activeIndex];\r\n          selected = that.selectpicker.main.elements[that.selectedIndex];\r\n\r\n          if (init) {\r\n            if (that.activeIndex !== that.selectedIndex) {\r\n              that.defocusItem(active);\r\n            }\r\n            that.activeIndex = undefined;\r\n          }\r\n\r\n          if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\r\n            that.defocusItem(selected);\r\n          }\r\n        }\r\n\r\n        if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\r\n          that.defocusItem(prevActive);\r\n        }\r\n\r\n        if (init || positionIsDifferent) {\r\n          previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\r\n\r\n          if (isVirtual === false) {\r\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\r\n          } else {\r\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\r\n          }\r\n\r\n          that.setOptionStatus();\r\n\r\n          // if searching, check to make sure the list has actually been updated before updating DOM\r\n          // this prevents unnecessary repaints\r\n          if (isSearching || (isVirtual === false && init)) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements);\r\n\r\n          // if virtual scroll is disabled and not searching,\r\n          // menu should never need to be updated more than once\r\n          if ((init || isVirtual === true) && menuIsDifferent) {\r\n            var menuInner = that.$menuInner[0],\r\n                menuFragment = document.createDocumentFragment(),\r\n                emptyMenu = menuInner.firstChild.cloneNode(false),\r\n                marginTop,\r\n                marginBottom,\r\n                elements = that.selectpicker.view.visibleElements,\r\n                toSanitize = [];\r\n\r\n            // replace the existing UL with an empty one - this is faster than $.empty()\r\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\r\n\r\n            for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\r\n              var element = elements[i],\r\n                  elText,\r\n                  elementData;\r\n\r\n              if (that.options.sanitize) {\r\n                elText = element.lastChild;\r\n\r\n                if (elText) {\r\n                  elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\r\n\r\n                  if (elementData && elementData.content && !elementData.sanitized) {\r\n                    toSanitize.push(elText);\r\n                    elementData.sanitized = true;\r\n                  }\r\n                }\r\n              }\r\n\r\n              menuFragment.appendChild(element);\r\n            }\r\n\r\n            if (that.options.sanitize && toSanitize.length) {\r\n              sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\r\n            }\r\n\r\n            if (isVirtual === true) {\r\n              marginTop = (that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position);\r\n              marginBottom = (that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position);\r\n\r\n              menuInner.firstChild.style.marginTop = marginTop + 'px';\r\n              menuInner.firstChild.style.marginBottom = marginBottom + 'px';\r\n            } else {\r\n              menuInner.firstChild.style.marginTop = 0;\r\n              menuInner.firstChild.style.marginBottom = 0;\r\n            }\r\n\r\n            menuInner.firstChild.appendChild(menuFragment);\r\n\r\n            // if an option is encountered that is wider than the current menu width, update the menu width accordingly\r\n            // switch to ResizeObserver with increased browser support\r\n            if (isVirtual === true && that.sizeInfo.hasScrollBar) {\r\n              var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\r\n\r\n              if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\r\n                menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\r\n              } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\r\n                // set to 0 to get actual width of menu\r\n                that.$menu[0].style.minWidth = 0;\r\n\r\n                var actualMenuWidth = menuInner.firstChild.offsetWidth;\r\n\r\n                if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\r\n                  that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\r\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\r\n                }\r\n\r\n                // reset to default CSS styling\r\n                that.$menu[0].style.minWidth = '';\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        that.prevActiveIndex = that.activeIndex;\r\n\r\n        if (!that.options.liveSearch) {\r\n          that.$menuInner.trigger('focus');\r\n        } else if (isSearching && init) {\r\n          var index = 0,\r\n              newActive;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index]) {\r\n            index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\r\n          }\r\n\r\n          newActive = that.selectpicker.view.visibleElements[index];\r\n\r\n          that.defocusItem(that.selectpicker.view.currentActive);\r\n\r\n          that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\r\n\r\n          that.focusItem(newActive);\r\n        }\r\n      }\r\n\r\n      $(window)\r\n        .off('resize' + EVENT_KEY + '.' + this.selectId + '.createView')\r\n        .on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\r\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\r\n        });\r\n    },\r\n\r\n    focusItem: function (li, liData, noStyle) {\r\n      if (li) {\r\n        liData = liData || this.selectpicker.main.data[this.activeIndex];\r\n        var a = li.firstChild;\r\n\r\n        if (a) {\r\n          a.setAttribute('aria-setsize', this.selectpicker.view.size);\r\n          a.setAttribute('aria-posinset', liData.posinset);\r\n\r\n          if (noStyle !== true) {\r\n            this.focusedParent.setAttribute('aria-activedescendant', a.id);\r\n            li.classList.add('active');\r\n            a.classList.add('active');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    defocusItem: function (li) {\r\n      if (li) {\r\n        li.classList.remove('active');\r\n        if (li.firstChild) li.firstChild.classList.remove('active');\r\n      }\r\n    },\r\n\r\n    setPlaceholder: function () {\r\n      var that = this,\r\n          updateIndex = false;\r\n\r\n      if (this.options.title && !this.multiple) {\r\n        if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option');\r\n\r\n        // this option doesn't create a new <li> element, but does add a new option at the start,\r\n        // so startIndex should increase to prevent having to check every option for the bs-title-option class\r\n        updateIndex = true;\r\n\r\n        var element = this.$element[0],\r\n            selectTitleOption = false,\r\n            titleNotAppended = !this.selectpicker.view.titleOption.parentNode,\r\n            selectedIndex = element.selectedIndex,\r\n            selectedOption = element.options[selectedIndex],\r\n            navigation = window.performance && window.performance.getEntriesByType('navigation'),\r\n            // Safari doesn't support getEntriesByType('navigation') - fall back to performance.navigation\r\n            isNotBackForward = (navigation && navigation.length) ? navigation[0].type !== 'back_forward' : window.performance.navigation.type !== 2;\r\n\r\n        if (titleNotAppended) {\r\n          // Use native JS to prepend option (faster)\r\n          this.selectpicker.view.titleOption.className = 'bs-title-option';\r\n          this.selectpicker.view.titleOption.value = '';\r\n\r\n          // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\r\n          // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\r\n          // if so, the select will have the data-selected attribute\r\n          selectTitleOption = !selectedOption || (selectedIndex === 0 && selectedOption.defaultSelected === false && this.$element.data('selected') === undefined);\r\n        }\r\n\r\n        if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\r\n          element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\r\n        }\r\n\r\n        // Set selected *after* appending to select,\r\n        // otherwise the option doesn't get selected in IE\r\n        // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\r\n        if (selectTitleOption && isNotBackForward) {\r\n          element.selectedIndex = 0;\r\n        } else if (document.readyState !== 'complete') {\r\n          // if navigation type is back_forward, there's a chance the select will have its value set by BFCache\r\n          // wait for that value to be set, then run render again\r\n          window.addEventListener('pageshow', function () {\r\n            if (that.selectpicker.view.displayedValue !== element.value) that.render();\r\n          });\r\n        }\r\n      }\r\n\r\n      return updateIndex;\r\n    },\r\n\r\n    buildData: function () {\r\n      var optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\r\n          mainData = [],\r\n          optID = 0,\r\n          startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\r\n\r\n      if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\r\n\r\n      var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\r\n\r\n      function addDivider (config) {\r\n        var previousData = mainData[mainData.length - 1];\r\n\r\n        // ensure optgroup doesn't create back-to-back dividers\r\n        if (\r\n          previousData &&\r\n          previousData.type === 'divider' &&\r\n          (previousData.optID || config.optID)\r\n        ) {\r\n          return;\r\n        }\r\n\r\n        config = config || {};\r\n        config.type = 'divider';\r\n\r\n        mainData.push(config);\r\n      }\r\n\r\n      function addOption (option, config) {\r\n        config = config || {};\r\n\r\n        config.divider = option.getAttribute('data-divider') === 'true';\r\n\r\n        if (config.divider) {\r\n          addDivider({\r\n            optID: config.optID\r\n          });\r\n        } else {\r\n          var liIndex = mainData.length,\r\n              cssText = option.style.cssText,\r\n              inlineStyle = cssText ? htmlEscape(cssText) : '',\r\n              optionClass = (option.className || '') + (config.optgroupClass || '');\r\n\r\n          if (config.optID) optionClass = 'opt ' + optionClass;\r\n\r\n          config.optionClass = optionClass.trim();\r\n          config.inlineStyle = inlineStyle;\r\n          config.text = option.textContent;\r\n\r\n          config.content = option.getAttribute('data-content');\r\n          config.tokens = option.getAttribute('data-tokens');\r\n          config.subtext = option.getAttribute('data-subtext');\r\n          config.icon = option.getAttribute('data-icon');\r\n\r\n          option.liIndex = liIndex;\r\n\r\n          config.display = config.content || config.text;\r\n          config.type = 'option';\r\n          config.index = liIndex;\r\n          config.option = option;\r\n          config.selected = !!option.selected;\r\n          config.disabled = config.disabled || !!option.disabled;\r\n\r\n          mainData.push(config);\r\n        }\r\n      }\r\n\r\n      function addOptgroup (index, selectOptions) {\r\n        var optgroup = selectOptions[index],\r\n            // skip placeholder option\r\n            previous = index - 1 < startIndex ? false : selectOptions[index - 1],\r\n            next = selectOptions[index + 1],\r\n            options = optgroup.querySelectorAll('option' + optionSelector);\r\n\r\n        if (!options.length) return;\r\n\r\n        var config = {\r\n              display: htmlEscape(optgroup.label),\r\n              subtext: optgroup.getAttribute('data-subtext'),\r\n              icon: optgroup.getAttribute('data-icon'),\r\n              type: 'optgroup-label',\r\n              optgroupClass: ' ' + (optgroup.className || '')\r\n            },\r\n            headerIndex,\r\n            lastIndex;\r\n\r\n        optID++;\r\n\r\n        if (previous) {\r\n          addDivider({ optID: optID });\r\n        }\r\n\r\n        config.optID = optID;\r\n\r\n        mainData.push(config);\r\n\r\n        for (var j = 0, len = options.length; j < len; j++) {\r\n          var option = options[j];\r\n\r\n          if (j === 0) {\r\n            headerIndex = mainData.length - 1;\r\n            lastIndex = headerIndex + len;\r\n          }\r\n\r\n          addOption(option, {\r\n            headerIndex: headerIndex,\r\n            lastIndex: lastIndex,\r\n            optID: config.optID,\r\n            optgroupClass: config.optgroupClass,\r\n            disabled: optgroup.disabled\r\n          });\r\n        }\r\n\r\n        if (next) {\r\n          addDivider({ optID: optID });\r\n        }\r\n      }\r\n\r\n      for (var len = selectOptions.length, i = startIndex; i < len; i++) {\r\n        var item = selectOptions[i];\r\n\r\n        if (item.tagName !== 'OPTGROUP') {\r\n          addOption(item, {});\r\n        } else {\r\n          addOptgroup(i, selectOptions);\r\n        }\r\n      }\r\n\r\n      this.selectpicker.main.data = this.selectpicker.current.data = mainData;\r\n    },\r\n\r\n    buildList: function () {\r\n      var that = this,\r\n          selectData = this.selectpicker.main.data,\r\n          mainElements = [],\r\n          widestOptionLength = 0;\r\n\r\n      if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\r\n        elementTemplates.checkMark.className = this.options.iconBase + ' ' + that.options.tickIcon + ' check-mark';\r\n        elementTemplates.a.appendChild(elementTemplates.checkMark);\r\n      }\r\n\r\n      function buildElement (item) {\r\n        var liElement,\r\n            combinedLength = 0;\r\n\r\n        switch (item.type) {\r\n          case 'divider':\r\n            liElement = generateOption.li(\r\n              false,\r\n              classNames.DIVIDER,\r\n              (item.optID ? item.optID + 'div' : undefined)\r\n            );\r\n\r\n            break;\r\n\r\n          case 'option':\r\n            liElement = generateOption.li(\r\n              generateOption.a(\r\n                generateOption.text.call(that, item),\r\n                item.optionClass,\r\n                item.inlineStyle\r\n              ),\r\n              '',\r\n              item.optID\r\n            );\r\n\r\n            if (liElement.firstChild) {\r\n              liElement.firstChild.id = that.selectId + '-' + item.index;\r\n            }\r\n\r\n            break;\r\n\r\n          case 'optgroup-label':\r\n            liElement = generateOption.li(\r\n              generateOption.label.call(that, item),\r\n              'dropdown-header' + item.optgroupClass,\r\n              item.optID\r\n            );\r\n\r\n            break;\r\n        }\r\n\r\n        item.element = liElement;\r\n        mainElements.push(liElement);\r\n\r\n        // count the number of characters in the option - not perfect, but should work in most cases\r\n        if (item.display) combinedLength += item.display.length;\r\n        if (item.subtext) combinedLength += item.subtext.length;\r\n        // if there is an icon, ensure this option's width is checked\r\n        if (item.icon) combinedLength += 1;\r\n\r\n        if (combinedLength > widestOptionLength) {\r\n          widestOptionLength = combinedLength;\r\n\r\n          // guess which option is the widest\r\n          // use this when calculating menu width\r\n          // not perfect, but it's fast, and the width will be updating accordingly when scrolling\r\n          that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\r\n        }\r\n      }\r\n\r\n      for (var len = selectData.length, i = 0; i < len; i++) {\r\n        var item = selectData[i];\r\n\r\n        buildElement(item);\r\n      }\r\n\r\n      this.selectpicker.main.elements = this.selectpicker.current.elements = mainElements;\r\n    },\r\n\r\n    findLis: function () {\r\n      return this.$menuInner.find('.inner > li');\r\n    },\r\n\r\n    render: function () {\r\n      var that = this,\r\n          element = this.$element[0],\r\n          // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\r\n          placeholderSelected = this.setPlaceholder() && element.selectedIndex === 0,\r\n          selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\r\n          selectedCount = selectedOptions.length,\r\n          button = this.$button[0],\r\n          buttonInner = button.querySelector('.filter-option-inner-inner'),\r\n          multipleSeparator = document.createTextNode(this.options.multipleSeparator),\r\n          titleFragment = elementTemplates.fragment.cloneNode(false),\r\n          showCount,\r\n          countMax,\r\n          hasContent = false;\r\n\r\n      button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\r\n\r\n      if (!that.multiple && selectedOptions.length === 1) {\r\n        that.selectpicker.view.displayedValue = getSelectValues(element, selectedOptions);\r\n      }\r\n\r\n      if (this.options.selectedTextFormat === 'static') {\r\n        titleFragment = generateOption.text.call(this, { text: this.options.title }, true);\r\n      } else {\r\n        showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1;\r\n\r\n        // determine if the number of selected options will be shown (showCount === true)\r\n        if (showCount) {\r\n          countMax = this.options.selectedTextFormat.split('>');\r\n          showCount = (countMax.length > 1 && selectedCount > countMax[1]) || (countMax.length === 1 && selectedCount >= 2);\r\n        }\r\n\r\n        // only loop through all selected options if the count won't be shown\r\n        if (showCount === false) {\r\n          if (!placeholderSelected) {\r\n            for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\r\n              if (selectedIndex < 50) {\r\n                var option = selectedOptions[selectedIndex],\r\n                    thisData = this.selectpicker.main.data[option.liIndex],\r\n                    titleOptions = {};\r\n\r\n                if (this.multiple && selectedIndex > 0) {\r\n                  titleFragment.appendChild(multipleSeparator.cloneNode(false));\r\n                }\r\n\r\n                if (option.title) {\r\n                  titleOptions.text = option.title;\r\n                } else if (thisData) {\r\n                  if (thisData.content && that.options.showContent) {\r\n                    titleOptions.content = thisData.content.toString();\r\n                    hasContent = true;\r\n                  } else {\r\n                    if (that.options.showIcon) {\r\n                      titleOptions.icon = thisData.icon;\r\n                    }\r\n                    if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\r\n                    titleOptions.text = option.textContent.trim();\r\n                  }\r\n                }\r\n\r\n                titleFragment.appendChild(generateOption.text.call(this, titleOptions, true));\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n\r\n            // add ellipsis\r\n            if (selectedCount > 49) {\r\n              titleFragment.appendChild(document.createTextNode('...'));\r\n            }\r\n          }\r\n        } else {\r\n          var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\r\n          if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\r\n\r\n          // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\r\n          var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\r\n              tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\r\n\r\n          titleFragment = generateOption.text.call(this, {\r\n            text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\r\n          }, true);\r\n        }\r\n      }\r\n\r\n      if (this.options.title == undefined) {\r\n        // use .attr to ensure undefined is returned if title attribute is not set\r\n        this.options.title = this.$element.attr('title');\r\n      }\r\n\r\n      // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\r\n      if (!titleFragment.childNodes.length) {\r\n        titleFragment = generateOption.text.call(this, {\r\n          text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\r\n        }, true);\r\n      }\r\n\r\n      // strip all HTML tags and trim the result, then unescape any escaped tags\r\n      button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\r\n\r\n      if (this.options.sanitize && hasContent) {\r\n        sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\r\n      }\r\n\r\n      buttonInner.innerHTML = '';\r\n      buttonInner.appendChild(titleFragment);\r\n\r\n      if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\r\n        var filterExpand = button.querySelector('.filter-expand'),\r\n            clone = buttonInner.cloneNode(true);\r\n\r\n        clone.className = 'filter-expand';\r\n\r\n        if (filterExpand) {\r\n          button.replaceChild(clone, filterExpand);\r\n        } else {\r\n          button.appendChild(clone);\r\n        }\r\n      }\r\n\r\n      this.$element.trigger('rendered' + EVENT_KEY);\r\n    },\r\n\r\n    /**\r\n     * @param [style]\r\n     * @param [status]\r\n     */\r\n    setStyle: function (newStyle, status) {\r\n      var button = this.$button[0],\r\n          newElement = this.$newElement[0],\r\n          style = this.options.style.trim(),\r\n          buttonClass;\r\n\r\n      if (this.$element.attr('class')) {\r\n        this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\r\n      }\r\n\r\n      if (version.major < 4) {\r\n        newElement.classList.add('bs3');\r\n\r\n        if (newElement.parentNode.classList && newElement.parentNode.classList.contains('input-group') &&\r\n            (newElement.previousElementSibling || newElement.nextElementSibling) &&\r\n            (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')\r\n        ) {\r\n          newElement.classList.add('bs3-has-addon');\r\n        }\r\n      }\r\n\r\n      if (newStyle) {\r\n        buttonClass = newStyle.trim();\r\n      } else {\r\n        buttonClass = style;\r\n      }\r\n\r\n      if (status == 'add') {\r\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\r\n      } else if (status == 'remove') {\r\n        if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\r\n      } else {\r\n        if (style) button.classList.remove.apply(button.classList, style.split(' '));\r\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\r\n      }\r\n    },\r\n\r\n    liHeight: function (refresh) {\r\n      if (!refresh && (this.options.size === false || Object.keys(this.sizeInfo).length)) return;\r\n\r\n      var newElement = elementTemplates.div.cloneNode(false),\r\n          menu = elementTemplates.div.cloneNode(false),\r\n          menuInner = elementTemplates.div.cloneNode(false),\r\n          menuInnerInner = document.createElement('ul'),\r\n          divider = elementTemplates.li.cloneNode(false),\r\n          dropdownHeader = elementTemplates.li.cloneNode(false),\r\n          li,\r\n          a = elementTemplates.a.cloneNode(false),\r\n          text = elementTemplates.span.cloneNode(false),\r\n          header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\r\n          search = this.options.liveSearch ? elementTemplates.div.cloneNode(false) : null,\r\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\r\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\r\n          firstOption = this.$element.find('option')[0];\r\n\r\n      this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\r\n\r\n      text.className = 'text';\r\n      a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\r\n      newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\r\n      newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\r\n      if (this.options.width === 'auto') menu.style.minWidth = 0;\r\n      menu.className = classNames.MENU + ' ' + classNames.SHOW;\r\n      menuInner.className = 'inner ' + classNames.SHOW;\r\n      menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\r\n      divider.className = classNames.DIVIDER;\r\n      dropdownHeader.className = 'dropdown-header';\r\n\r\n      text.appendChild(document.createTextNode('\\u200b'));\r\n\r\n      if (this.selectpicker.current.data.length) {\r\n        for (var i = 0; i < this.selectpicker.current.data.length; i++) {\r\n          var data = this.selectpicker.current.data[i];\r\n          if (data.type === 'option') {\r\n            li = data.element;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        li = elementTemplates.li.cloneNode(false);\r\n        a.appendChild(text);\r\n        li.appendChild(a);\r\n      }\r\n\r\n      dropdownHeader.appendChild(text.cloneNode(true));\r\n\r\n      if (this.selectpicker.view.widestOption) {\r\n        menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\r\n      }\r\n\r\n      menuInnerInner.appendChild(li);\r\n      menuInnerInner.appendChild(divider);\r\n      menuInnerInner.appendChild(dropdownHeader);\r\n      if (header) menu.appendChild(header);\r\n      if (search) {\r\n        var input = document.createElement('input');\r\n        search.className = 'bs-searchbox';\r\n        input.className = 'form-control';\r\n        search.appendChild(input);\r\n        menu.appendChild(search);\r\n      }\r\n      if (actions) menu.appendChild(actions);\r\n      menuInner.appendChild(menuInnerInner);\r\n      menu.appendChild(menuInner);\r\n      if (doneButton) menu.appendChild(doneButton);\r\n      newElement.appendChild(menu);\r\n\r\n      document.body.appendChild(newElement);\r\n\r\n      var liHeight = li.offsetHeight,\r\n          dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\r\n          headerHeight = header ? header.offsetHeight : 0,\r\n          searchHeight = search ? search.offsetHeight : 0,\r\n          actionsHeight = actions ? actions.offsetHeight : 0,\r\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\r\n          dividerHeight = $(divider).outerHeight(true),\r\n          // fall back to jQuery if getComputedStyle is not supported\r\n          menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\r\n          menuWidth = menu.offsetWidth,\r\n          $menu = menuStyle ? null : $(menu),\r\n          menuPadding = {\r\n            vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +\r\n                  toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +\r\n                  toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +\r\n                  toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\r\n            horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) +\r\n                  toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) +\r\n                  toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) +\r\n                  toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\r\n          },\r\n          menuExtras = {\r\n            vert: menuPadding.vert +\r\n                  toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +\r\n                  toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\r\n            horiz: menuPadding.horiz +\r\n                  toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) +\r\n                  toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\r\n          },\r\n          scrollBarWidth;\r\n\r\n      menuInner.style.overflowY = 'scroll';\r\n\r\n      scrollBarWidth = menu.offsetWidth - menuWidth;\r\n\r\n      document.body.removeChild(newElement);\r\n\r\n      this.sizeInfo.liHeight = liHeight;\r\n      this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\r\n      this.sizeInfo.headerHeight = headerHeight;\r\n      this.sizeInfo.searchHeight = searchHeight;\r\n      this.sizeInfo.actionsHeight = actionsHeight;\r\n      this.sizeInfo.doneButtonHeight = doneButtonHeight;\r\n      this.sizeInfo.dividerHeight = dividerHeight;\r\n      this.sizeInfo.menuPadding = menuPadding;\r\n      this.sizeInfo.menuExtras = menuExtras;\r\n      this.sizeInfo.menuWidth = menuWidth;\r\n      this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\r\n      this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\r\n      this.sizeInfo.scrollBarWidth = scrollBarWidth;\r\n      this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\r\n\r\n      this.setPositionData();\r\n    },\r\n\r\n    getSelectPosition: function () {\r\n      var that = this,\r\n          $window = $(window),\r\n          pos = that.$newElement.offset(),\r\n          $container = $(that.options.container),\r\n          containerPos;\r\n\r\n      if (that.options.container && $container.length && !$container.is('body')) {\r\n        containerPos = $container.offset();\r\n        containerPos.top += parseInt($container.css('borderTopWidth'));\r\n        containerPos.left += parseInt($container.css('borderLeftWidth'));\r\n      } else {\r\n        containerPos = { top: 0, left: 0 };\r\n      }\r\n\r\n      var winPad = that.options.windowPadding;\r\n\r\n      this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\r\n      this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\r\n      this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\r\n      this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\r\n      this.sizeInfo.selectOffsetTop -= winPad[0];\r\n      this.sizeInfo.selectOffsetLeft -= winPad[3];\r\n    },\r\n\r\n    setMenuSize: function (isAuto) {\r\n      this.getSelectPosition();\r\n\r\n      var selectWidth = this.sizeInfo.selectWidth,\r\n          liHeight = this.sizeInfo.liHeight,\r\n          headerHeight = this.sizeInfo.headerHeight,\r\n          searchHeight = this.sizeInfo.searchHeight,\r\n          actionsHeight = this.sizeInfo.actionsHeight,\r\n          doneButtonHeight = this.sizeInfo.doneButtonHeight,\r\n          divHeight = this.sizeInfo.dividerHeight,\r\n          menuPadding = this.sizeInfo.menuPadding,\r\n          menuInnerHeight,\r\n          menuHeight,\r\n          divLength = 0,\r\n          minHeight,\r\n          _minHeight,\r\n          maxHeight,\r\n          menuInnerMinHeight,\r\n          estimate,\r\n          isDropup;\r\n\r\n      if (this.options.dropupAuto) {\r\n        // Get the estimated height of the menu without scrollbars.\r\n        // This is useful for smaller menus, where there might be plenty of room\r\n        // below the button without setting dropup, but we can't know\r\n        // the exact height of the menu until createView is called later\r\n        estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\r\n\r\n        isDropup = this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot;\r\n\r\n        // ensure dropup doesn't change while searching (so menu doesn't bounce back and forth)\r\n        if (this.selectpicker.isSearching === true) {\r\n          isDropup = this.selectpicker.dropup;\r\n        }\r\n\r\n        this.$newElement.toggleClass(classNames.DROPUP, isDropup);\r\n        this.selectpicker.dropup = isDropup;\r\n      }\r\n\r\n      if (this.options.size === 'auto') {\r\n        _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\r\n        menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\r\n        minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\r\n        menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\r\n\r\n        if (this.$newElement.hasClass(classNames.DROPUP)) {\r\n          menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\r\n        }\r\n\r\n        maxHeight = menuHeight;\r\n        menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\r\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\r\n        for (var i = 0; i < this.options.size; i++) {\r\n          if (this.selectpicker.current.data[i].type === 'divider') divLength++;\r\n        }\r\n\r\n        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\r\n        menuInnerHeight = menuHeight - menuPadding.vert;\r\n        maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\r\n        minHeight = menuInnerMinHeight = '';\r\n      }\r\n\r\n      this.$menu.css({\r\n        'max-height': maxHeight + 'px',\r\n        'overflow': 'hidden',\r\n        'min-height': minHeight + 'px'\r\n      });\r\n\r\n      this.$menuInner.css({\r\n        'max-height': menuInnerHeight + 'px',\r\n        'overflow-y': 'auto',\r\n        'min-height': menuInnerMinHeight + 'px'\r\n      });\r\n\r\n      // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\r\n      this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\r\n\r\n      if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\r\n        this.sizeInfo.hasScrollBar = true;\r\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\r\n      }\r\n\r\n      if (this.options.dropdownAlignRight === 'auto') {\r\n        this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < (this.sizeInfo.totalMenuWidth - selectWidth));\r\n      }\r\n\r\n      if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\r\n    },\r\n\r\n    setSize: function (refresh) {\r\n      this.liHeight(refresh);\r\n\r\n      if (this.options.header) this.$menu.css('padding-top', 0);\r\n\r\n      if (this.options.size !== false) {\r\n        var that = this,\r\n            $window = $(window);\r\n\r\n        this.setMenuSize();\r\n\r\n        if (this.options.liveSearch) {\r\n          this.$searchbox\r\n            .off('input.setMenuSize propertychange.setMenuSize')\r\n            .on('input.setMenuSize propertychange.setMenuSize', function () {\r\n              return that.setMenuSize();\r\n            });\r\n        }\r\n\r\n        if (this.options.size === 'auto') {\r\n          $window\r\n            .off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize')\r\n            .on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\r\n              return that.setMenuSize();\r\n            });\r\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\r\n          $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\r\n        }\r\n      }\r\n\r\n      this.createView(false, true, refresh);\r\n    },\r\n\r\n    setWidth: function () {\r\n      var that = this;\r\n\r\n      if (this.options.width === 'auto') {\r\n        requestAnimationFrame(function () {\r\n          that.$menu.css('min-width', '0');\r\n\r\n          that.$element.on('loaded' + EVENT_KEY, function () {\r\n            that.liHeight();\r\n            that.setMenuSize();\r\n\r\n            // Get correct width if element is hidden\r\n            var $selectClone = that.$newElement.clone().appendTo('body'),\r\n                btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\r\n\r\n            $selectClone.remove();\r\n\r\n            // Set width to whatever's larger, button title or longest option\r\n            that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\r\n            that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\r\n          });\r\n        });\r\n      } else if (this.options.width === 'fit') {\r\n        // Remove inline min-width so width can be changed from 'auto'\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', '').addClass('fit-width');\r\n      } else if (this.options.width) {\r\n        // Remove inline min-width so width can be changed from 'auto'\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', this.options.width);\r\n      } else {\r\n        // Remove inline min-width/width so width can be changed\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', '');\r\n      }\r\n      // Remove fit-width class if width is changed programmatically\r\n      if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\r\n        this.$newElement[0].classList.remove('fit-width');\r\n      }\r\n    },\r\n\r\n    selectPosition: function () {\r\n      this.$bsContainer = $('<div class=\"bs-container\" />');\r\n\r\n      var that = this,\r\n          $container = $(this.options.container),\r\n          pos,\r\n          containerPos,\r\n          actualHeight,\r\n          getPlacement = function ($element) {\r\n            var containerPosition = {},\r\n                // fall back to dropdown's default display setting if display is not manually set\r\n                display = that.options.display || (\r\n                  // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\r\n                  $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display\r\n                  : false\r\n                );\r\n\r\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\r\n            pos = $element.offset();\r\n\r\n            if (!$container.is('body')) {\r\n              containerPos = $container.offset();\r\n              containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\r\n              containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\r\n            } else {\r\n              containerPos = { top: 0, left: 0 };\r\n            }\r\n\r\n            actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight;\r\n\r\n            // Bootstrap 4+ uses Popper for menu positioning\r\n            if (version.major < 4 || display === 'static') {\r\n              containerPosition.top = pos.top - containerPos.top + actualHeight;\r\n              containerPosition.left = pos.left - containerPos.left;\r\n            }\r\n\r\n            containerPosition.width = $element[0].offsetWidth;\r\n\r\n            that.$bsContainer.css(containerPosition);\r\n          };\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (that.isDisabled()) {\r\n          return;\r\n        }\r\n\r\n        getPlacement(that.$newElement);\r\n\r\n        that.$bsContainer\r\n          .appendTo(that.options.container)\r\n          .toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW))\r\n          .append(that.$menu);\r\n      });\r\n\r\n      $(window)\r\n        .off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId)\r\n        .on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\r\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n          if (isActive) getPlacement(that.$newElement);\r\n        });\r\n\r\n      this.$element.on('hide' + EVENT_KEY, function () {\r\n        that.$menu.data('height', that.$menu.height());\r\n        that.$bsContainer.detach();\r\n      });\r\n    },\r\n\r\n    setOptionStatus: function (selectedOnly) {\r\n      var that = this;\r\n\r\n      that.noScroll = false;\r\n\r\n      if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\r\n        for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\r\n          var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\r\n              option = liData.option;\r\n\r\n          if (option) {\r\n            if (selectedOnly !== true) {\r\n              that.setDisabled(\r\n                liData.index,\r\n                liData.disabled\r\n              );\r\n            }\r\n\r\n            that.setSelected(\r\n              liData.index,\r\n              option.selected\r\n            );\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @param {number} index - the index of the option that is being changed\r\n     * @param {boolean} selected - true if the option is being selected, false if being deselected\r\n     */\r\n    setSelected: function (index, selected) {\r\n      var li = this.selectpicker.main.elements[index],\r\n          liData = this.selectpicker.main.data[index],\r\n          activeIndexIsSet = this.activeIndex !== undefined,\r\n          thisIsActive = this.activeIndex === index,\r\n          prevActive,\r\n          a,\r\n          // if current option is already active\r\n          // OR\r\n          // if the current option is being selected, it's NOT multiple, and\r\n          // activeIndex is undefined:\r\n          //  - when the menu is first being opened, OR\r\n          //  - after a search has been performed, OR\r\n          //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\r\n          keepActive = thisIsActive || (selected && !this.multiple && !activeIndexIsSet);\r\n\r\n      liData.selected = selected;\r\n\r\n      a = li.firstChild;\r\n\r\n      if (selected) {\r\n        this.selectedIndex = index;\r\n      }\r\n\r\n      li.classList.toggle('selected', selected);\r\n\r\n      if (keepActive) {\r\n        this.focusItem(li, liData);\r\n        this.selectpicker.view.currentActive = li;\r\n        this.activeIndex = index;\r\n      } else {\r\n        this.defocusItem(li);\r\n      }\r\n\r\n      if (a) {\r\n        a.classList.toggle('selected', selected);\r\n\r\n        if (selected) {\r\n          a.setAttribute('aria-selected', true);\r\n        } else {\r\n          if (this.multiple) {\r\n            a.setAttribute('aria-selected', false);\r\n          } else {\r\n            a.removeAttribute('aria-selected');\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\r\n        prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\r\n\r\n        this.defocusItem(prevActive);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @param {number} index - the index of the option that is being disabled\r\n     * @param {boolean} disabled - true if the option is being disabled, false if being enabled\r\n     */\r\n    setDisabled: function (index, disabled) {\r\n      var li = this.selectpicker.main.elements[index],\r\n          a;\r\n\r\n      this.selectpicker.main.data[index].disabled = disabled;\r\n\r\n      a = li.firstChild;\r\n\r\n      li.classList.toggle(classNames.DISABLED, disabled);\r\n\r\n      if (a) {\r\n        if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\r\n\r\n        if (disabled) {\r\n          a.setAttribute('aria-disabled', disabled);\r\n          a.setAttribute('tabindex', -1);\r\n        } else {\r\n          a.removeAttribute('aria-disabled');\r\n          a.setAttribute('tabindex', 0);\r\n        }\r\n      }\r\n    },\r\n\r\n    isDisabled: function () {\r\n      return this.$element[0].disabled;\r\n    },\r\n\r\n    checkDisabled: function () {\r\n      if (this.isDisabled()) {\r\n        this.$newElement[0].classList.add(classNames.DISABLED);\r\n        this.$button.addClass(classNames.DISABLED).attr('aria-disabled', true);\r\n      } else {\r\n        if (this.$button[0].classList.contains(classNames.DISABLED)) {\r\n          this.$newElement[0].classList.remove(classNames.DISABLED);\r\n          this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\r\n        }\r\n      }\r\n    },\r\n\r\n    clickListener: function () {\r\n      var that = this,\r\n          $document = $(document);\r\n\r\n      $document.data('spaceSelect', false);\r\n\r\n      this.$button.on('keyup', function (e) {\r\n        if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\r\n          e.preventDefault();\r\n          $document.data('spaceSelect', false);\r\n        }\r\n      });\r\n\r\n      this.$newElement.on('show.bs.dropdown', function () {\r\n        if (version.major > 3 && !that.dropdown) {\r\n          that.dropdown = that.$button.data('bs.dropdown');\r\n          that.dropdown._menu = that.$menu[0];\r\n        }\r\n      });\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (!that.$newElement.hasClass(classNames.SHOW)) {\r\n          that.setSize();\r\n        }\r\n      });\r\n\r\n      function setFocus () {\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$menuInner.trigger('focus');\r\n        }\r\n      }\r\n\r\n      function checkPopperExists () {\r\n        if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\r\n          setFocus();\r\n        } else {\r\n          requestAnimationFrame(checkPopperExists);\r\n        }\r\n      }\r\n\r\n      this.$element.on('shown' + EVENT_KEY, function () {\r\n        if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\r\n          that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\r\n        }\r\n\r\n        if (version.major > 3) {\r\n          requestAnimationFrame(checkPopperExists);\r\n        } else {\r\n          setFocus();\r\n        }\r\n      });\r\n\r\n      // ensure posinset and setsize are correct before selecting an option via a click\r\n      this.$menuInner.on('mouseenter', 'li a', function (e) {\r\n        var hoverLi = this.parentElement,\r\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\r\n            index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\r\n            hoverData = that.selectpicker.current.data[index + position0];\r\n\r\n        that.focusItem(hoverLi, hoverData, true);\r\n      });\r\n\r\n      this.$menuInner.on('click', 'li a', function (e, retainActive) {\r\n        var $this = $(this),\r\n            element = that.$element[0],\r\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\r\n            clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\r\n            clickedIndex = clickedData.index,\r\n            prevValue = getSelectValues(element),\r\n            prevIndex = element.selectedIndex,\r\n            prevOption = element.options[prevIndex],\r\n            triggerChange = true;\r\n\r\n        // Don't close on multi choice menu\r\n        if (that.multiple && that.options.maxOptions !== 1) {\r\n          e.stopPropagation();\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        // Don't run if the select is disabled\r\n        if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\r\n          var option = clickedData.option,\r\n              $option = $(option),\r\n              state = option.selected,\r\n              $optgroup = $option.parent('optgroup'),\r\n              $optgroupOptions = $optgroup.find('option'),\r\n              maxOptions = that.options.maxOptions,\r\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\r\n\r\n          if (clickedIndex === that.activeIndex) retainActive = true;\r\n\r\n          if (!retainActive) {\r\n            that.prevActiveIndex = that.activeIndex;\r\n            that.activeIndex = undefined;\r\n          }\r\n\r\n          if (!that.multiple) { // Deselect all others if not multi select box\r\n            if (prevOption) prevOption.selected = false;\r\n            option.selected = true;\r\n            that.setSelected(clickedIndex, true);\r\n          } else { // Toggle the one we have chosen if we are multi select.\r\n            option.selected = !state;\r\n\r\n            that.setSelected(clickedIndex, !state);\r\n            that.focusedParent.focus();\r\n\r\n            if (maxOptions !== false || maxOptionsGrp !== false) {\r\n              var maxReached = maxOptions < getSelectedOptions(element).length,\r\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\r\n\r\n              if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {\r\n                if (maxOptions && maxOptions == 1) {\r\n                  element.selectedIndex = -1;\r\n                  option.selected = true;\r\n                  that.setOptionStatus(true);\r\n                } else if (maxOptionsGrp && maxOptionsGrp == 1) {\r\n                  for (var i = 0; i < $optgroupOptions.length; i++) {\r\n                    var _option = $optgroupOptions[i];\r\n                    _option.selected = false;\r\n                    that.setSelected(_option.liIndex, false);\r\n                  }\r\n\r\n                  option.selected = true;\r\n                  that.setSelected(clickedIndex, true);\r\n                } else {\r\n                  var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\r\n                      maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\r\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\r\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\r\n                      $notify = $('<div class=\"notify\"></div>');\r\n                  // If {var} is set in array, replace it\r\n                  /** @deprecated */\r\n                  if (maxOptionsArr[2]) {\r\n                    maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\r\n                    maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\r\n                  }\r\n\r\n                  option.selected = false;\r\n\r\n                  that.$menu.append($notify);\r\n\r\n                  if (maxOptions && maxReached) {\r\n                    $notify.append($('<div>' + maxTxt + '</div>'));\r\n                    triggerChange = false;\r\n                    that.$element.trigger('maxReached' + EVENT_KEY);\r\n                  }\r\n\r\n                  if (maxOptionsGrp && maxReachedGrp) {\r\n                    $notify.append($('<div>' + maxTxtGrp + '</div>'));\r\n                    triggerChange = false;\r\n                    that.$element.trigger('maxReachedGrp' + EVENT_KEY);\r\n                  }\r\n\r\n                  setTimeout(function () {\r\n                    that.setSelected(clickedIndex, false);\r\n                  }, 10);\r\n\r\n                  $notify[0].classList.add('fadeOut');\r\n\r\n                  setTimeout(function () {\r\n                    $notify.remove();\r\n                  }, 1050);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if (!that.multiple || (that.multiple && that.options.maxOptions === 1)) {\r\n            that.$button.trigger('focus');\r\n          } else if (that.options.liveSearch) {\r\n            that.$searchbox.trigger('focus');\r\n          }\r\n\r\n          // Trigger select 'change'\r\n          if (triggerChange) {\r\n            if (that.multiple || prevIndex !== element.selectedIndex) {\r\n              // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\r\n              changedArguments = [option.index, $option.prop('selected'), prevValue];\r\n              that.$element\r\n                .triggerNative('change');\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\r\n        if (e.currentTarget == this) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          if (that.options.liveSearch && !$(e.target).hasClass('close')) {\r\n            that.$searchbox.trigger('focus');\r\n          } else {\r\n            that.$button.trigger('focus');\r\n          }\r\n        }\r\n      });\r\n\r\n      this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$button.trigger('focus');\r\n        }\r\n      });\r\n\r\n      this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\r\n        that.$button.trigger('click');\r\n      });\r\n\r\n      this.$searchbox.on('click', function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      this.$menu.on('click', '.actions-btn', function (e) {\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$button.trigger('focus');\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if ($(this).hasClass('bs-select-all')) {\r\n          that.selectAll();\r\n        } else {\r\n          that.deselectAll();\r\n        }\r\n      });\r\n\r\n      this.$button\r\n        .on('focus' + EVENT_KEY, function (e) {\r\n          var tabindex = that.$element[0].getAttribute('tabindex');\r\n\r\n          // only change when button is actually focused\r\n          if (tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\r\n            // apply select element's tabindex to ensure correct order is followed when tabbing to the next element\r\n            this.setAttribute('tabindex', tabindex);\r\n            // set element's tabindex to -1 to allow for reverse tabbing\r\n            that.$element[0].setAttribute('tabindex', -1);\r\n            that.selectpicker.view.tabindex = tabindex;\r\n          }\r\n        })\r\n        .on('blur' + EVENT_KEY, function (e) {\r\n          // revert everything to original tabindex\r\n          if (that.selectpicker.view.tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\r\n            that.$element[0].setAttribute('tabindex', that.selectpicker.view.tabindex);\r\n            this.setAttribute('tabindex', -1);\r\n            that.selectpicker.view.tabindex = undefined;\r\n          }\r\n        });\r\n\r\n      this.$element\r\n        .on('change' + EVENT_KEY, function () {\r\n          that.render();\r\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\r\n          changedArguments = null;\r\n        })\r\n        .on('focus' + EVENT_KEY, function () {\r\n          if (!that.options.mobile) that.$button[0].focus();\r\n        });\r\n    },\r\n\r\n    liveSearchListener: function () {\r\n      var that = this;\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (!!that.$searchbox.val()) {\r\n          that.$searchbox.val('');\r\n          that.selectpicker.search.previousValue = undefined;\r\n        }\r\n      });\r\n\r\n      this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      this.$searchbox.on('input propertychange', function () {\r\n        var searchValue = that.$searchbox[0].value;\r\n\r\n        that.selectpicker.search.elements = [];\r\n        that.selectpicker.search.data = [];\r\n\r\n        if (searchValue) {\r\n          var i,\r\n              searchMatch = [],\r\n              q = searchValue.toUpperCase(),\r\n              cache = {},\r\n              cacheArr = [],\r\n              searchStyle = that._searchStyle(),\r\n              normalizeSearch = that.options.liveSearchNormalize;\r\n\r\n          if (normalizeSearch) q = normalizeToBase(q);\r\n\r\n          for (var i = 0; i < that.selectpicker.main.data.length; i++) {\r\n            var li = that.selectpicker.main.data[i];\r\n\r\n            if (!cache[i]) {\r\n              cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\r\n            }\r\n\r\n            if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\r\n              if (li.headerIndex > 0) {\r\n                cache[li.headerIndex - 1] = true;\r\n                cacheArr.push(li.headerIndex - 1);\r\n              }\r\n\r\n              cache[li.headerIndex] = true;\r\n              cacheArr.push(li.headerIndex);\r\n\r\n              cache[li.lastIndex + 1] = true;\r\n            }\r\n\r\n            if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\r\n          }\r\n\r\n          for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\r\n            var index = cacheArr[i],\r\n                prevIndex = cacheArr[i - 1],\r\n                li = that.selectpicker.main.data[index],\r\n                liPrev = that.selectpicker.main.data[prevIndex];\r\n\r\n            if (li.type !== 'divider' || (li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i)) {\r\n              that.selectpicker.search.data.push(li);\r\n              searchMatch.push(that.selectpicker.main.elements[index]);\r\n            }\r\n          }\r\n\r\n          that.activeIndex = undefined;\r\n          that.noScroll = true;\r\n          that.$menuInner.scrollTop(0);\r\n          that.selectpicker.search.elements = searchMatch;\r\n          that.createView(true);\r\n          showNoResults.call(that, searchMatch, searchValue);\r\n        } else if (that.selectpicker.search.previousValue) { // for IE11 (#2402)\r\n          that.$menuInner.scrollTop(0);\r\n          that.createView(false);\r\n        }\r\n\r\n        that.selectpicker.search.previousValue =  searchValue;\r\n      });\r\n    },\r\n\r\n    _searchStyle: function () {\r\n      return this.options.liveSearchStyle || 'contains';\r\n    },\r\n\r\n    val: function (value) {\r\n      var element = this.$element[0];\r\n\r\n      if (typeof value !== 'undefined') {\r\n        var prevValue = getSelectValues(element);\r\n\r\n        changedArguments = [null, null, prevValue];\r\n\r\n        this.$element\r\n          .val(value)\r\n          .trigger('changed' + EVENT_KEY, changedArguments);\r\n\r\n        if (this.$newElement.hasClass(classNames.SHOW)) {\r\n          if (this.multiple) {\r\n            this.setOptionStatus(true);\r\n          } else {\r\n            var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\r\n\r\n            if (typeof liSelectedIndex === 'number') {\r\n              this.setSelected(this.selectedIndex, false);\r\n              this.setSelected(liSelectedIndex, true);\r\n            }\r\n          }\r\n        }\r\n\r\n        this.render();\r\n\r\n        changedArguments = null;\r\n\r\n        return this.$element;\r\n      } else {\r\n        return this.$element.val();\r\n      }\r\n    },\r\n\r\n    changeAll: function (status) {\r\n      if (!this.multiple) return;\r\n      if (typeof status === 'undefined') status = true;\r\n\r\n      var element = this.$element[0],\r\n          previousSelected = 0,\r\n          currentSelected = 0,\r\n          prevValue = getSelectValues(element);\r\n\r\n      element.classList.add('bs-select-hidden');\r\n\r\n      for (var i = 0, data = this.selectpicker.current.data, len = data.length; i < len; i++) {\r\n        var liData = data[i],\r\n            option = liData.option;\r\n\r\n        if (option && !liData.disabled && liData.type !== 'divider') {\r\n          if (liData.selected) previousSelected++;\r\n          option.selected = status;\r\n          if (status === true) currentSelected++;\r\n        }\r\n      }\r\n\r\n      element.classList.remove('bs-select-hidden');\r\n\r\n      if (previousSelected === currentSelected) return;\r\n\r\n      this.setOptionStatus();\r\n\r\n      changedArguments = [null, null, prevValue];\r\n\r\n      this.$element\r\n        .triggerNative('change');\r\n    },\r\n\r\n    selectAll: function () {\r\n      return this.changeAll(true);\r\n    },\r\n\r\n    deselectAll: function () {\r\n      return this.changeAll(false);\r\n    },\r\n\r\n    toggle: function (e) {\r\n      e = e || window.event;\r\n\r\n      if (e) e.stopPropagation();\r\n\r\n      this.$button.trigger('click.bs.dropdown.data-api');\r\n    },\r\n\r\n    keydown: function (e) {\r\n      var $this = $(this),\r\n          isToggle = $this.hasClass('dropdown-toggle'),\r\n          $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\r\n          that = $parent.data('this'),\r\n          $items = that.findLis(),\r\n          index,\r\n          isActive,\r\n          liActive,\r\n          activeLi,\r\n          offset,\r\n          updateScroll = false,\r\n          downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\r\n          isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\r\n          scrollTop = that.$menuInner[0].scrollTop,\r\n          isVirtual = that.isVirtual(),\r\n          position0 = isVirtual === true ? that.selectpicker.view.position0 : 0;\r\n\r\n      // do nothing if a function key is pressed\r\n      if (e.which >= 112 && e.which <= 123) return;\r\n\r\n      isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n      if (\r\n        !isActive &&\r\n        (\r\n          isArrowKey ||\r\n          (e.which >= 48 && e.which <= 57) ||\r\n          (e.which >= 96 && e.which <= 105) ||\r\n          (e.which >= 65 && e.which <= 90)\r\n        )\r\n      ) {\r\n        that.$button.trigger('click.bs.dropdown.data-api');\r\n\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (e.which === keyCodes.ESCAPE && isActive) {\r\n        e.preventDefault();\r\n        that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\r\n      }\r\n\r\n      if (isArrowKey) { // if up or down\r\n        if (!$items.length) return;\r\n\r\n        liActive = that.selectpicker.main.elements[that.activeIndex];\r\n        index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\r\n\r\n        if (index !== -1) {\r\n          that.defocusItem(liActive);\r\n        }\r\n\r\n        if (e.which === keyCodes.ARROW_UP) { // up\r\n          if (index !== -1) index--;\r\n          if (index + position0 < 0) index += $items.length;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\r\n            index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\r\n            if (index === -1) index = $items.length - 1;\r\n          }\r\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\r\n          index++;\r\n          if (index + position0 >= that.selectpicker.view.canHighlight.length) index = that.selectpicker.view.firstHighlightIndex;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\r\n            index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\r\n          }\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        var liActiveIndex = position0 + index;\r\n\r\n        if (e.which === keyCodes.ARROW_UP) { // up\r\n          // scroll to bottom and highlight last option\r\n          if (position0 === 0 && index === $items.length - 1) {\r\n            that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\r\n\r\n            liActiveIndex = that.selectpicker.current.elements.length - 1;\r\n          } else {\r\n            activeLi = that.selectpicker.current.data[liActiveIndex];\r\n            offset = activeLi.position - activeLi.height;\r\n\r\n            updateScroll = offset < scrollTop;\r\n          }\r\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\r\n          // scroll to top and highlight first option\r\n          if (index === that.selectpicker.view.firstHighlightIndex) {\r\n            that.$menuInner[0].scrollTop = 0;\r\n\r\n            liActiveIndex = that.selectpicker.view.firstHighlightIndex;\r\n          } else {\r\n            activeLi = that.selectpicker.current.data[liActiveIndex];\r\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\r\n\r\n            updateScroll = offset > scrollTop;\r\n          }\r\n        }\r\n\r\n        liActive = that.selectpicker.current.elements[liActiveIndex];\r\n\r\n        that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\r\n\r\n        that.focusItem(liActive);\r\n\r\n        that.selectpicker.view.currentActive = liActive;\r\n\r\n        if (updateScroll) that.$menuInner[0].scrollTop = offset;\r\n\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          $this.trigger('focus');\r\n        }\r\n      } else if (\r\n        (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which)) ||\r\n        (e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory)\r\n      ) {\r\n        var searchMatch,\r\n            matches = [],\r\n            keyHistory;\r\n\r\n        e.preventDefault();\r\n\r\n        that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\r\n\r\n        if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\r\n        that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\r\n\r\n        keyHistory = that.selectpicker.keydown.keyHistory;\r\n\r\n        // if all letters are the same, set keyHistory to just the first character when searching\r\n        if (/^(.)\\1+$/.test(keyHistory)) {\r\n          keyHistory = keyHistory.charAt(0);\r\n        }\r\n\r\n        // find matches\r\n        for (var i = 0; i < that.selectpicker.current.data.length; i++) {\r\n          var li = that.selectpicker.current.data[i],\r\n              hasMatch;\r\n\r\n          hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\r\n\r\n          if (hasMatch && that.selectpicker.view.canHighlight[i]) {\r\n            matches.push(li.index);\r\n          }\r\n        }\r\n\r\n        if (matches.length) {\r\n          var matchIndex = 0;\r\n\r\n          $items.removeClass('active').find('a').removeClass('active');\r\n\r\n          // either only one key has been pressed or they are all the same key\r\n          if (keyHistory.length === 1) {\r\n            matchIndex = matches.indexOf(that.activeIndex);\r\n\r\n            if (matchIndex === -1 || matchIndex === matches.length - 1) {\r\n              matchIndex = 0;\r\n            } else {\r\n              matchIndex++;\r\n            }\r\n          }\r\n\r\n          searchMatch = matches[matchIndex];\r\n\r\n          activeLi = that.selectpicker.main.data[searchMatch];\r\n\r\n          if (scrollTop - activeLi.position > 0) {\r\n            offset = activeLi.position - activeLi.height;\r\n            updateScroll = true;\r\n          } else {\r\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\r\n            // if the option is already visible at the current scroll position, just keep it the same\r\n            updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\r\n          }\r\n\r\n          liActive = that.selectpicker.main.elements[searchMatch];\r\n\r\n          that.activeIndex = matches[matchIndex];\r\n\r\n          that.focusItem(liActive);\r\n\r\n          if (liActive) liActive.firstChild.focus();\r\n\r\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\r\n\r\n          $this.trigger('focus');\r\n        }\r\n      }\r\n\r\n      // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\r\n      if (\r\n        isActive &&\r\n        (\r\n          (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory) ||\r\n          e.which === keyCodes.ENTER ||\r\n          (e.which === keyCodes.TAB && that.options.selectOnTab)\r\n        )\r\n      ) {\r\n        if (e.which !== keyCodes.SPACE) e.preventDefault();\r\n\r\n        if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\r\n          that.$menuInner.find('.active a').trigger('click', true); // retain active class\r\n          $this.trigger('focus');\r\n\r\n          if (!that.options.liveSearch) {\r\n            // Prevent screen from scrolling if the user hits the spacebar\r\n            e.preventDefault();\r\n            // Fixes spacebar selection of dropdown items in FF & IE\r\n            $(document).data('spaceSelect', true);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    mobile: function () {\r\n      // ensure mobile is set to true if mobile function is called after init\r\n      this.options.mobile = true;\r\n      this.$element[0].classList.add('mobile-device');\r\n    },\r\n\r\n    refresh: function () {\r\n      // update options if data attributes have been changed\r\n      var config = $.extend({}, this.options, this.$element.data());\r\n      this.options = config;\r\n\r\n      this.checkDisabled();\r\n      this.buildData();\r\n      this.setStyle();\r\n      this.render();\r\n      this.buildList();\r\n      this.setWidth();\r\n\r\n      this.setSize(true);\r\n\r\n      this.$element.trigger('refreshed' + EVENT_KEY);\r\n    },\r\n\r\n    hide: function () {\r\n      this.$newElement.hide();\r\n    },\r\n\r\n    show: function () {\r\n      this.$newElement.show();\r\n    },\r\n\r\n    remove: function () {\r\n      this.$newElement.remove();\r\n      this.$element.remove();\r\n    },\r\n\r\n    destroy: function () {\r\n      this.$newElement.before(this.$element).remove();\r\n\r\n      if (this.$bsContainer) {\r\n        this.$bsContainer.remove();\r\n      } else {\r\n        this.$menu.remove();\r\n      }\r\n\r\n      if (this.selectpicker.view.titleOption && this.selectpicker.view.titleOption.parentNode) {\r\n        this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption);\r\n      }\r\n\r\n      this.$element\r\n        .off(EVENT_KEY)\r\n        .removeData('selectpicker')\r\n        .removeClass('bs-select-hidden selectpicker');\r\n\r\n      $(window).off(EVENT_KEY + '.' + this.selectId);\r\n    }\r\n  };\r\n\r\n  // SELECTPICKER PLUGIN DEFINITION\r\n  // ==============================\r\n  function Plugin (option) {\r\n    // get the args of the outer function..\r\n    var args = arguments;\r\n    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\r\n    // to get lost/corrupted in android 2.3 and IE9 #715 #775\r\n    var _option = option;\r\n\r\n    [].shift.apply(args);\r\n\r\n    // if the version was not set successfully\r\n    if (!version.success) {\r\n      // try to retreive it again\r\n      try {\r\n        version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\r\n      } catch (err) {\r\n        // fall back to use BootstrapVersion if set\r\n        if (Selectpicker.BootstrapVersion) {\r\n          version.full = Selectpicker.BootstrapVersion.split(' ')[0].split('.');\r\n        } else {\r\n          version.full = [version.major, '0', '0'];\r\n\r\n          console.warn(\r\n            'There was an issue retrieving Bootstrap\\'s version. ' +\r\n            'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' +\r\n            'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.',\r\n            err\r\n          );\r\n        }\r\n      }\r\n\r\n      version.major = version.full[0];\r\n      version.success = true;\r\n    }\r\n\r\n    if (version.major === '4') {\r\n      // some defaults need to be changed if using Bootstrap 4\r\n      // check to see if they have already been manually changed before forcing them to update\r\n      var toUpdate = [];\r\n\r\n      if (Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({ name: 'style', className: 'BUTTONCLASS' });\r\n      if (Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({ name: 'iconBase', className: 'ICONBASE' });\r\n      if (Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({ name: 'tickIcon', className: 'TICKICON' });\r\n\r\n      classNames.DIVIDER = 'dropdown-divider';\r\n      classNames.SHOW = 'show';\r\n      classNames.BUTTONCLASS = 'btn-light';\r\n      classNames.POPOVERHEADER = 'popover-header';\r\n      classNames.ICONBASE = '';\r\n      classNames.TICKICON = 'bs-ok-default';\r\n\r\n      for (var i = 0; i < toUpdate.length; i++) {\r\n        var option = toUpdate[i];\r\n        Selectpicker.DEFAULTS[option.name] = classNames[option.className];\r\n      }\r\n    }\r\n\r\n    var value;\r\n    var chain = this.each(function () {\r\n      var $this = $(this);\r\n      if ($this.is('select')) {\r\n        var data = $this.data('selectpicker'),\r\n            options = typeof _option == 'object' && _option;\r\n\r\n        if (!data) {\r\n          var dataAttributes = $this.data();\r\n\r\n          for (var dataAttr in dataAttributes) {\r\n            if (Object.prototype.hasOwnProperty.call(dataAttributes, dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\r\n              delete dataAttributes[dataAttr];\r\n            }\r\n          }\r\n\r\n          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\r\n          config.template = $.extend({}, Selectpicker.DEFAULTS.template, ($.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}), dataAttributes.template, options.template);\r\n          $this.data('selectpicker', (data = new Selectpicker(this, config)));\r\n        } else if (options) {\r\n          for (var i in options) {\r\n            if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n              data.options[i] = options[i];\r\n            }\r\n          }\r\n        }\r\n\r\n        if (typeof _option == 'string') {\r\n          if (data[_option] instanceof Function) {\r\n            value = data[_option].apply(data, args);\r\n          } else {\r\n            value = data.options[_option];\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (typeof value !== 'undefined') {\r\n      // noinspection JSUnusedAssignment\r\n      return value;\r\n    } else {\r\n      return chain;\r\n    }\r\n  }\r\n\r\n  var old = $.fn.selectpicker;\r\n  $.fn.selectpicker = Plugin;\r\n  $.fn.selectpicker.Constructor = Selectpicker;\r\n\r\n  // SELECTPICKER NO CONFLICT\r\n  // ========================\r\n  $.fn.selectpicker.noConflict = function () {\r\n    $.fn.selectpicker = old;\r\n    return this;\r\n  };\r\n\r\n  // get Bootstrap's keydown event handler for either Bootstrap 4 or Bootstrap 3\r\n  function keydownHandler () {\r\n    if ($.fn.dropdown) {\r\n      // wait to define until function is called in case Bootstrap isn't loaded yet\r\n      var bootstrapKeydown = $.fn.dropdown.Constructor._dataApiKeydownHandler || $.fn.dropdown.Constructor.prototype.keydown;\r\n      return bootstrapKeydown.apply(this, arguments);\r\n    }\r\n  }\r\n\r\n  $(document)\r\n    .off('keydown.bs.dropdown.data-api')\r\n    .on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > [data-toggle=\"dropdown\"]', keydownHandler)\r\n    .on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > .dropdown-menu', keydownHandler)\r\n    .on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', Selectpicker.prototype.keydown)\r\n    .on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n  // SELECTPICKER DATA-API\r\n  // =====================\r\n  $(window).on('load' + EVENT_KEY + '.data-api', function () {\r\n    $('.selectpicker').each(function () {\r\n      var $selectpicker = $(this);\r\n      Plugin.call($selectpicker, $selectpicker.data());\r\n    })\r\n  });\r\n})(jQuery);\r\n"]},"metadata":{},"sourceType":"script"}